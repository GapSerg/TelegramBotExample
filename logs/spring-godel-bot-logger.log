2022-10-05 10:29:27,431 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 3484 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 10:29:27,440 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 10:29:28,039 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 10:29:28,103 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 57 ms. Found 3 JPA repository interfaces.
2022-10-05 10:29:28,568 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 10:29:28,575 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 10:29:28,575 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 10:29:28,575 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 10:29:28,673 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 10:29:28,673 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1191 ms
2022-10-05 10:29:28,792 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 10:29:28,869 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 10:29:28,973 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 10:29:29,070 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 10:29:29,445 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 10:29:29,511 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 10:29:29,585 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 10:29:29,623 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 10:29:29,700 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 10:29:29,759 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 10:29:30,191 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 10:29:30,198 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 10:29:30,793 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 10:29:31,045 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 10:29:31,063 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 10:29:31,070 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 10:29:31,070 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 10:29:31,071 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 10:29:31,086 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 10:29:31,734 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.837 seconds (JVM running for 5.854)
2022-10-05 11:45:31,499 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:45:31,499 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 11:45:31,507 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 11:47:06,779 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8584 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 11:47:06,795 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 11:47:07,263 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 11:47:07,305 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 3 JPA repository interfaces.
2022-10-05 11:47:07,621 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 11:47:07,637 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 11:47:07,637 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 11:47:07,637 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 11:47:07,705 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 11:47:07,705 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 884 ms
2022-10-05 11:47:07,805 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 11:47:07,860 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 11:47:07,931 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 11:47:08,001 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 11:47:08,257 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 11:47:08,326 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 11:47:08,373 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 11:47:08,404 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 11:47:08,468 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 11:47:08,529 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 11:47:08,845 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 11:47:08,845 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:47:09,278 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 11:47:09,479 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 11:47:09,495 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 11:47:09,499 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:47:09,499 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:47:09,499 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 11:47:09,521 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 11:47:10,011 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.563 seconds (JVM running for 4.281)
2022-10-05 11:47:33,172 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 11:47:33,172 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 11:47:33,173 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 11:47:33,258 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 11:47:33,274 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 11:47:34,717 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Income message with token :d2728f8d5187
2022-10-05 11:47:34,718 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-3] Got ACTIVITY callback type with activity :PASSENGER and token : d2728f8d5187
2022-10-05 11:47:34,736 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-3] Find all routes
2022-10-05 11:47:34,791 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Edit previous message with message Id : 185
2022-10-05 11:47:36,080 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: d2728f8d5187
2022-10-05 11:47:36,762 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: d2728f8d5187
2022-10-05 11:47:37,464 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: d2728f8d5187
2022-10-05 11:47:38,350 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 6 and token: d2728f8d5187 
2022-10-05 11:47:42,298 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_PASSENGER with token : d2728f8d5187
2022-10-05 11:47:42,298 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 186
2022-10-05 11:47:48,784 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-8] Got FIRST_DATE_PASSENGER type with first date :2022-10-11 with token: d2728f8d5187
2022-10-05 11:47:49,598 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_PASSENGER callback type with second date : 2022-10-18 and token : d2728f8d5187
2022-10-05 11:47:49,599 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Edit previous message with message Id : 187
2022-10-05 11:47:49,719 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find drivers by first date :2022-10-11 and second date:2022-10-18 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 11:47:51,540 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-10] Got callback with type : CHECK_PASSENGER_REQUEST with token : d2728f8d5187
2022-10-05 11:47:53,976 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-1] Got message for saving description of passenger with token :d2728f8d5187 
2022-10-05 11:47:53,980 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Save passenger request : Request(chatId=834450967, userDto=UserDto(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97), cities=[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)], firstDate=2022-10-11, secondDate=2022-10-18, description=hghjg, needForDescription=true, messages=[185, 186, 187, 188], activity=PASSENGER)
2022-10-05 11:47:54,067 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Delete messages with chat id : 834450967 and messages : [185, 186, 187, 188]
2022-10-05 11:47:54,332 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Delete token from messages : d2728f8d5187
2022-10-05 11:47:56,799 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Income message with token :8c434d139847
2022-10-05 11:47:56,800 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-3] Got ACTIVITY callback type with activity :PASSENGER and token : 8c434d139847
2022-10-05 11:47:56,800 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Edit previous message with message Id : 190
2022-10-05 11:47:57,738 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: 8c434d139847
2022-10-05 11:47:58,330 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 8c434d139847
2022-10-05 11:47:58,912 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 8c434d139847
2022-10-05 11:47:59,512 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 5 and token: 8c434d139847 
2022-10-05 11:48:03,183 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 3 and token: 8c434d139847 
2022-10-05 11:48:04,170 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 8c434d139847
2022-10-05 11:48:04,835 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 8c434d139847
2022-10-05 11:48:05,771 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_PASSENGER with token : 8c434d139847
2022-10-05 11:48:05,771 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Edit previous message with message Id : 191
2022-10-05 11:48:07,369 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_PASSENGER type with first date :2022-10-17 with token: 8c434d139847
2022-10-05 11:48:11,115 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_PASSENGER callback type with second date : 2022-10-27 and token : 8c434d139847
2022-10-05 11:48:11,115 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Edit previous message with message Id : 192
2022-10-05 11:48:11,211 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-10-17 and second date:2022-10-27 with cities:[City(id=2, name=BELASTOK), City(id=5, name=BREST), City(id=4, name=GDANSK)]
2022-10-05 11:48:13,421 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-2] Got callback with type : CHECK_PASSENGER_REQUEST with token : 8c434d139847
2022-10-05 11:48:15,720 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-4] Got message for saving description of passenger with token :8c434d139847 
2022-10-05 11:48:15,724 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Save passenger request : Request(chatId=834450967, userDto=UserDto(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97), cities=[City(id=2, name=BELASTOK), City(id=5, name=BREST), City(id=4, name=GDANSK)], firstDate=2022-10-17, secondDate=2022-10-27, description=jhjkhjkh, needForDescription=true, messages=[192, 193, 190, 191], activity=PASSENGER)
2022-10-05 11:48:15,754 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Delete messages with chat id : 834450967 and messages : [192, 193, 190, 191]
2022-10-05 11:48:16,017 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Delete token from messages : 8c434d139847
2022-10-05 11:48:18,274 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Income message with token :392158687cb0
2022-10-05 11:48:18,274 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :PASSENGER and token : 392158687cb0
2022-10-05 11:48:18,274 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 195
2022-10-05 11:48:19,199 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 392158687cb0
2022-10-05 11:48:19,753 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 392158687cb0
2022-10-05 11:48:20,491 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-8] Callback data with type: CHOSE_DATE_PASSENGER with token : 392158687cb0
2022-10-05 11:48:20,491 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Edit previous message with message Id : 196
2022-10-05 11:48:22,478 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-9] Got FIRST_DATE_PASSENGER type with first date :2022-10-20 with token: 392158687cb0
2022-10-05 11:48:26,343 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_PASSENGER callback type with second date : 2022-10-24 and token : 392158687cb0
2022-10-05 11:48:26,343 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Edit previous message with message Id : 197
2022-10-05 11:48:26,462 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-10-20 and second date:2022-10-24 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-05 11:48:35,643 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_PASSENGER_REQUEST with token : 392158687cb0
2022-10-05 11:48:35,643 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Delete messages with chat id : 834450967 and messages : [195, 196, 197, 198]
2022-10-05 11:48:35,973 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Delete token from messages : 392158687cb0
2022-10-05 11:48:37,026 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-05 11:48:37,026 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Income message with token :125eb1dc0c2b
2022-10-05 11:48:38,539 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: 125eb1dc0c2b
2022-10-05 11:48:38,542 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-05 11:48:39,587 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :18 and token: 125eb1dc0c2b
2022-10-05 11:48:39,591 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 18
2022-10-05 11:48:40,891 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-5] Change description of offer with id: 18 and token : 125eb1dc0c2b
2022-10-05 11:48:43,019 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-7] Got message for changing description of offer with token 
2022-10-05 11:48:43,022 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Update description of offer with id : 18
2022-10-05 11:48:43,022 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Get offer by id: 18
2022-10-05 11:48:43,045 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [199]
2022-10-05 11:48:45,685 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-05 11:48:45,686 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Income message with token :f2e85afd25e2
2022-10-05 11:48:47,079 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : PASSENGER and token: f2e85afd25e2
2022-10-05 11:48:47,082 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 11:48:48,103 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :25 and token: f2e85afd25e2
2022-10-05 11:48:48,106 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 25
2022-10-05 11:48:50,797 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-10] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: f2e85afd25e2
2022-10-05 11:48:51,755 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelRouteOfOfferCallbackType [http-nio-5000-exec-1] Callback data with type: CANCEL_ROUTE_OF_OFFER and routeId: 2 and token : f2e85afd25e2
2022-10-05 11:48:52,491 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-3] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: f2e85afd25e2
2022-10-05 11:48:53,433 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelRouteOfOfferCallbackType [http-nio-5000-exec-2] Callback data with type: CANCEL_ROUTE_OF_OFFER and routeId: 4 and token : f2e85afd25e2
2022-10-05 11:48:54,612 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-4] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: f2e85afd25e2
2022-10-05 11:48:55,432 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeRouteOfOfferCallbackType [http-nio-5000-exec-5] Got callback type :FINISH_CHANGING_ROUTE_OF_OFFER, with token:f2e85afd25e2
2022-10-05 11:48:55,432 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update route of offer with id :25
2022-10-05 11:48:55,435 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Update cities of offer with id : 25 and cities : [City(id=3, name=WROCLAW), City(id=5, name=BREST)] 
2022-10-05 11:48:55,435 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Get offer by id: 25
2022-10-05 11:48:55,450 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-10-11 and second date:2022-10-18 with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-05 11:48:55,457 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Delete token from messages : f2e85afd25e2
2022-10-05 11:49:01,027 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-05 11:49:01,031 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-05 11:49:01,035 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : f2e85afd25e2
2022-10-05 11:49:02,680 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-05 11:49:02,680 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Income message with token :3d0e07382137
2022-10-05 11:49:03,673 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : PASSENGER and token: 3d0e07382137
2022-10-05 11:49:03,678 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 11:49:04,951 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :19 and token: 3d0e07382137
2022-10-05 11:49:04,954 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 19
2022-10-05 11:49:06,016 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_DATE_OF_OFFER type with token: 3d0e07382137
2022-10-05 11:49:06,017 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with id:19, with token :3d0e07382137
2022-10-05 11:49:07,197 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-1] Change the first date of offer, changed first date: 2022-10-18 and token : 3d0e07382137
2022-10-05 11:49:07,880 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-23 with token: 3d0e07382137
2022-10-05 11:49:07,883 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Update date of offer with first date : 2022-10-18 , and second date : 2022-10-23 
2022-10-05 11:49:07,883 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Get offer by id: 19
2022-10-05 11:49:07,892 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-10-18 and second date:2022-10-23 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 11:49:07,896 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Delete token from messages : 3d0e07382137
2022-10-05 11:49:09,675 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-2] Got MAIN_MENU callback type
2022-10-05 11:49:09,678 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-05 11:49:09,683 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Delete token from messages : 3d0e07382137
2022-10-05 11:49:10,621 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-05 11:49:10,621 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Income message with token :6939a06882e2
2022-10-05 11:49:12,693 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : DRIVER and token: 6939a06882e2
2022-10-05 11:49:12,696 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :DRIVER
2022-10-05 11:49:14,286 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_OFFER callback type with route id :20 and token: 6939a06882e2
2022-10-05 11:49:14,289 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offer by id : 20
2022-10-05 11:49:15,266 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.DeleteOfferCallbackType [http-nio-5000-exec-6] Delete offer by id :20 and token: 6939a06882e2
2022-10-05 11:49:15,269 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Delete offer by id : 20
2022-10-05 11:49:15,269 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 20
2022-10-05 11:49:15,296 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Delete token from messages : 6939a06882e2
2022-10-05 11:49:19,563 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-05 11:49:19,563 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Income message with token :fd7c79502c79
2022-10-05 11:49:23,574 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: fd7c79502c79
2022-10-05 11:49:23,578 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 11:49:24,594 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :26 and token: fd7c79502c79
2022-10-05 11:49:24,597 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 26
2022-10-05 11:49:25,439 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.DeleteOfferCallbackType [http-nio-5000-exec-1] Delete offer by id :26 and token: fd7c79502c79
2022-10-05 11:49:25,441 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Delete offer by id : 26
2022-10-05 11:49:25,442 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Get offer by id: 26
2022-10-05 11:49:25,470 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Delete token from messages : fd7c79502c79
2022-10-05 11:49:27,000 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-05 11:49:27,001 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Income message with token :8875cc7dd90b
2022-10-05 11:49:27,654 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: 8875cc7dd90b
2022-10-05 11:49:27,658 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-05 11:49:30,084 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :18 and token: 8875cc7dd90b
2022-10-05 11:49:30,087 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 18
2022-10-05 11:49:32,186 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : DRIVER and token: 8875cc7dd90b
2022-10-05 11:49:32,188 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :DRIVER
2022-10-05 11:49:33,254 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-05 11:49:33,256 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-05 11:49:33,260 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : 8875cc7dd90b
2022-10-05 11:49:34,277 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Income message with token :592ad34b2f61
2022-10-05 11:49:34,277 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-6] Got ACTIVITY callback type with activity :PASSENGER and token : 592ad34b2f61
2022-10-05 11:49:34,278 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 201
2022-10-05 11:49:35,814 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: 592ad34b2f61
2022-10-05 11:49:36,517 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 592ad34b2f61
2022-10-05 11:49:37,632 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_PASSENGER with token : 592ad34b2f61
2022-10-05 11:49:37,632 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Edit previous message with message Id : 202
2022-10-05 11:49:38,984 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_PASSENGER type with first date :2022-10-05 with token: 592ad34b2f61
2022-10-05 11:49:40,294 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_PASSENGER callback type with second date : 2022-10-29 and token : 592ad34b2f61
2022-10-05 11:49:40,294 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Edit previous message with message Id : 203
2022-10-05 11:49:40,420 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-10-05 and second date:2022-10-29 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 11:49:45,541 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_PASSENGER_REQUEST with token : 592ad34b2f61
2022-10-05 11:49:45,541 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Delete messages with chat id : 834450967 and messages : [201, 202, 203, 204]
2022-10-05 11:49:45,788 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Delete token from messages : 592ad34b2f61
2022-10-05 11:49:50,106 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:49:50,106 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 11:49:50,119 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 11:51:15,624 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 14300 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 11:51:15,624 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 11:51:16,076 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 11:51:16,133 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-05 11:51:16,455 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 11:51:16,470 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 11:51:16,470 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 11:51:16,470 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 11:51:16,545 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 11:51:16,545 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 881 ms
2022-10-05 11:51:16,646 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 11:51:16,701 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 11:51:16,773 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 11:51:16,833 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 11:51:17,084 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 11:51:17,155 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 11:51:17,208 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 11:51:17,224 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 11:51:17,298 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 11:51:17,358 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 11:51:17,677 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 11:51:17,677 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:51:18,077 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 11:51:18,265 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 11:51:18,286 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 11:51:18,286 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:51:18,286 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:51:18,286 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 11:51:18,310 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 11:51:18,794 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.513 seconds (JVM running for 4.203)
2022-10-05 11:51:20,583 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 11:51:20,584 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 11:51:20,585 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 11:51:20,699 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-05 11:51:20,699 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :67c7ee6474d0
2022-10-05 11:51:21,631 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 67c7ee6474d0
2022-10-05 11:51:21,636 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 11:51:22,618 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :19 and token: 67c7ee6474d0
2022-10-05 11:51:22,621 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 19
2022-10-05 11:51:25,206 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: 67c7ee6474d0
2022-10-05 11:51:25,206 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:19, with token :67c7ee6474d0
2022-10-05 11:51:26,291 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-27 and token : 67c7ee6474d0
2022-10-05 11:51:27,229 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-30 with token: 67c7ee6474d0
2022-10-05 11:51:27,232 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Update date of offer with first date : 2022-10-27 , and second date : 2022-10-30 
2022-10-05 11:51:27,233 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 19
2022-10-05 11:51:27,283 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find drivers by first date :2022-10-27 and second date:2022-10-30 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 11:51:27,318 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Delete token from messages : 67c7ee6474d0
2022-10-05 11:51:28,323 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-05 11:51:28,330 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-05 11:51:28,343 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : 67c7ee6474d0
2022-10-05 11:51:29,154 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-05 11:51:29,155 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Income message with token :aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:51:29,990 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : PASSENGER and token: aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:51:29,995 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 11:51:34,134 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :22 and token: aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:51:34,139 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 22
2022-10-05 11:51:38,373 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_DATE_OF_OFFER type with token: aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:51:38,373 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with id:22, with token :aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:51:40,122 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-3] Change the first date of offer, changed first date: 2022-10-29 and token : aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:52:00,627 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-4] Change the first date of offer, changed first date: 2022-10-29 and token : aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:52:07,510 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-5] Change the first date of offer, changed first date: 2022-10-30 and token : aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:52:15,109 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-14 and token : aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:52:16,033 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-6] Change the first date of offer, changed first date: 2022-10-21 and token : aad658b2-fa68-4fd0-91f2-056797775718
2022-10-05 11:52:30,012 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:52:30,012 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 11:52:30,022 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 11:52:33,980 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10716 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 11:52:33,984 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 11:52:34,471 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 11:52:34,513 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 3 JPA repository interfaces.
2022-10-05 11:52:34,835 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 11:52:34,841 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 11:52:34,842 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 11:52:34,842 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 11:52:34,937 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 11:52:34,938 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 911 ms
2022-10-05 11:52:35,067 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 11:52:35,127 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 11:52:35,211 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 11:52:35,305 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 11:52:35,597 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 11:52:35,668 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 11:52:35,720 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 11:52:35,746 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 11:52:35,820 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 11:52:35,874 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 11:52:36,210 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 11:52:36,210 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:52:36,753 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 11:52:37,039 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 11:52:37,055 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 11:52:37,063 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:52:37,063 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 11:52:37,064 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:52:37,080 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 11:52:37,681 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.093 seconds (JVM running for 4.752)
2022-10-05 11:52:43,755 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 11:52:43,755 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 11:52:43,757 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 11:52:43,871 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 11:52:43,877 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 11:52:45,414 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-05 11:52:45,417 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Income message with token :ed640dfed95647cdab81795b24c68da8
2022-10-05 11:52:46,247 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : PASSENGER and token: ed640dfed95647cdab81795b24c68da8
2022-10-05 11:52:46,252 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 11:52:47,176 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_OFFER callback type with route id :25 and token: ed640dfed95647cdab81795b24c68da8
2022-10-05 11:52:47,181 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 25
2022-10-05 11:52:49,013 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_DATE_OF_OFFER type with token: ed640dfed95647cdab81795b24c68da8
2022-10-05 11:52:49,014 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with id:25, with token :ed640dfed95647cdab81795b24c68da8
2022-10-05 11:52:50,251 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-7] Change the first date of offer, changed first date: 2022-10-29 and token : ed640dfed95647cdab81795b24c68da8
2022-10-05 11:52:58,711 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-5] Change the first date of offer, changed first date: 2022-10-05 and token : ed640dfed95647cdab81795b24c68da8
2022-10-05 11:53:00,778 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-9] Change the first date of offer, changed first date: 2022-10-16 and token : ed640dfed95647cdab81795b24c68da8
2022-10-05 11:53:01,931 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.NextMonthCallbackType [http-nio-5000-exec-8] Got Next Month Callback type with callback :20&ed640dfed95647cdab81795b24c68da8&29&2022-10-01 by user: Myachin97
2022-10-05 11:53:06,003 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.PreviousMonthCallbackType [http-nio-5000-exec-10] Got Next Month Callback type with callback :21&ed640dfed95647cdab81795b24c68da8&29&2022-11-01 by user: Myachin97
2022-10-05 11:53:06,006 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-10] No enum constant com.godeltech.springgodelbot.resolver.callback.Callbacks.29[Ljava.lang.StackTraceElement;@70f3ecdb
2022-10-05 11:53:22,756 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.PreviousMonthCallbackType [http-nio-5000-exec-1] Got Next Month Callback type with callback :21&ed640dfed95647cdab81795b24c68da8&29&2022-11-01 by user: Myachin97
2022-10-05 11:53:22,757 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] No enum constant com.godeltech.springgodelbot.resolver.callback.Callbacks.29[Ljava.lang.StackTraceElement;@7e6cbc48
2022-10-05 11:56:35,604 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-4] Got /start message
2022-10-05 11:56:35,608 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-05 11:56:37,004 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :2cabeb247bd54dab9f0f2d5e6cd9f55d
2022-10-05 11:56:37,006 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : 2cabeb247bd54dab9f0f2d5e6cd9f55d
2022-10-05 11:56:37,039 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-05 11:56:37,082 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 209
2022-10-05 11:56:38,495 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 2cabeb247bd54dab9f0f2d5e6cd9f55d
2022-10-05 11:56:38,950 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 2cabeb247bd54dab9f0f2d5e6cd9f55d
2022-10-05 11:56:39,840 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_DRIVER with token : 2cabeb247bd54dab9f0f2d5e6cd9f55d
2022-10-05 11:56:39,841 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 210
2022-10-05 11:56:41,191 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.NextMonthCallbackType [http-nio-5000-exec-9] Got Next Month Callback type with callback :20&2cabeb247bd54dab9f0f2d5e6cd9f55d&5&2022-10-01 by user: Myachin97
2022-10-05 11:56:42,202 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.PreviousMonthCallbackType [http-nio-5000-exec-8] Got Next Month Callback type with callback :21&2cabeb247bd54dab9f0f2d5e6cd9f55d&5&2022-11-01 by user: Myachin97
2022-10-05 11:56:42,203 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-8] No enum constant com.godeltech.springgodelbot.resolver.callback.Callbacks.5[Ljava.lang.StackTraceElement;@3a8abc84
2022-10-05 11:56:46,751 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.NextMonthCallbackType [http-nio-5000-exec-10] Got Next Month Callback type with callback :20&2cabeb247bd54dab9f0f2d5e6cd9f55d&5&2022-11-01 by user: Myachin97
2022-10-05 11:56:47,831 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.PreviousMonthCallbackType [http-nio-5000-exec-1] Got Next Month Callback type with callback :21&2cabeb247bd54dab9f0f2d5e6cd9f55d&5&2022-12-01 by user: Myachin97
2022-10-05 11:56:47,832 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] No enum constant com.godeltech.springgodelbot.resolver.callback.Callbacks.5[Ljava.lang.StackTraceElement;@3b543a5c
2022-10-05 11:56:48,358 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-3] Got FIRST_DATE_DRIVER callback type with first date :2022-12-26 with token: 2cabeb247bd54dab9f0f2d5e6cd9f55d
2022-10-05 11:58:00,673 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:58:00,673 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 11:58:00,683 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 11:58:04,698 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 22044 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 11:58:04,701 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 11:58:05,171 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 11:58:05,233 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 3 JPA repository interfaces.
2022-10-05 11:58:05,607 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 11:58:05,615 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 11:58:05,615 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 11:58:05,615 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 11:58:05,701 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 11:58:05,701 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 964 ms
2022-10-05 11:58:05,813 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 11:58:05,869 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 11:58:05,951 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 11:58:06,036 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 11:58:06,318 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 11:58:06,413 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 11:58:06,518 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 11:58:06,560 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 11:58:06,639 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 11:58:06,702 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 11:58:07,109 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 11:58:07,109 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:58:07,774 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 11:58:08,022 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 11:58:08,033 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 11:58:08,049 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:58:08,049 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:58:08,049 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 11:58:08,075 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 11:58:08,711 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.348 seconds (JVM running for 5.012)
2022-10-05 11:58:12,338 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 11:58:12,338 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 11:58:12,340 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-05 11:58:12,441 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 11:58:12,455 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 11:58:13,537 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-05 11:58:13,539 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:14,636 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:14,641 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 11:58:15,991 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :22 and token: 6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:15,995 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 22
2022-10-05 11:58:17,131 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: 6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:17,132 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:22, with token :6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:18,331 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.NextMonthCallbackType [http-nio-5000-exec-6] Got Next Month Callback type with callback :20&6e45b9df4ff941f28afe099d97cee27f&29&2022-10-01 by user: Myachin97
2022-10-05 11:58:19,087 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.PreviousMonthCallbackType [http-nio-5000-exec-7] Got Next Month Callback type with callback :21&6e45b9df4ff941f28afe099d97cee27f&29&2022-11-01 by user: Myachin97
2022-10-05 11:58:19,862 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.NextMonthCallbackType [http-nio-5000-exec-8] Got Next Month Callback type with callback :20&6e45b9df4ff941f28afe099d97cee27f&29&2022-10-01 by user: Myachin97
2022-10-05 11:58:20,772 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-9] Change the first date of offer, changed first date: 2022-11-24 and token : 6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:35,825 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.PreviousMonthCallbackType [http-nio-5000-exec-10] Got Next Month Callback type with callback :21&6e45b9df4ff941f28afe099d97cee27f&29&2022-11-01 by user: Myachin97
2022-10-05 11:58:37,668 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-1] Change the first date of offer, changed first date: 2022-10-31 and token : 6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:38,733 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-02 and token : 6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:38,734 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Incorrect first date, return to the first date
2022-10-05 11:58:39,282 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-3] Change the first date of offer, changed first date: 2022-10-05 and token : 6e45b9df4ff941f28afe099d97cee27f
2022-10-05 11:58:42,094 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-4] Got /start message
2022-10-05 11:58:42,098 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-05 11:58:43,529 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Income message with token :8e0d044354654d6e916a56e5aa049176
2022-10-05 11:58:43,531 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :DRIVER and token : 8e0d044354654d6e916a56e5aa049176
2022-10-05 11:58:43,554 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-5] Find all routes
2022-10-05 11:58:43,588 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 215
2022-10-05 11:58:44,698 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 8e0d044354654d6e916a56e5aa049176
2022-10-05 11:58:45,517 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 8e0d044354654d6e916a56e5aa049176
2022-10-05 11:58:46,288 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-8] Callback data with type: CHOSE_DATE_DRIVER with token : 8e0d044354654d6e916a56e5aa049176
2022-10-05 11:58:46,289 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Edit previous message with message Id : 216
2022-10-05 11:58:47,402 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-9] Got FIRST_DATE_DRIVER callback type with first date :2022-10-09 with token: 8e0d044354654d6e916a56e5aa049176
2022-10-05 11:58:51,265 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_DRIVER callback type with first date :2022-10-14 with token: 8e0d044354654d6e916a56e5aa049176
2022-10-05 11:59:10,424 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:59:10,424 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 11:59:10,434 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 11:59:14,506 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 22360 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 11:59:14,506 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 11:59:14,986 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 11:59:15,049 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2022-10-05 11:59:15,450 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 11:59:15,456 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 11:59:15,457 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 11:59:15,457 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 11:59:15,522 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 11:59:15,522 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 985 ms
2022-10-05 11:59:15,630 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 11:59:15,686 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 11:59:15,759 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 11:59:15,831 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 11:59:16,078 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 11:59:16,137 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 11:59:16,224 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 11:59:16,250 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 11:59:16,326 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 11:59:16,384 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 11:59:16,750 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 11:59:16,759 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 11:59:17,276 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 11:59:17,534 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 11:59:17,545 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 11:59:17,545 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:59:17,545 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 11:59:17,545 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 11:59:17,572 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 11:59:18,161 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.985 seconds (JVM running for 4.641)
2022-10-05 11:59:22,346 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 11:59:22,346 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 11:59:22,347 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 11:59:22,454 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 11:59:22,472 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 11:59:23,890 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :126f14a4bb49c3343352c335f8d
2022-10-05 11:59:23,891 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : 126f14a4bb49c3343352c335f8d
2022-10-05 11:59:23,919 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-05 11:59:23,973 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 219
2022-10-05 11:59:26,714 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 126f14a4bb49c3343352c335f8d
2022-10-05 11:59:27,303 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 126f14a4bb49c3343352c335f8d
2022-10-05 11:59:28,006 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_DRIVER with token : 126f14a4bb49c3343352c335f8d
2022-10-05 11:59:28,008 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Edit previous message with message Id : 220
2022-10-05 11:59:29,479 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_DRIVER callback type with first date :2022-10-09 with token: 126f14a4bb49c3343352c335f8d
2022-10-05 11:59:30,152 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_DRIVER callback type with second date :2022-10-11 and token : 126f14a4bb49c3343352c335f8d
2022-10-05 11:59:30,154 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Edit previous message with message Id : 221
2022-10-05 11:59:30,334 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find passengers by first date :2022-10-09 and second date:2022-10-11 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 11:59:31,549 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-10] Got callback : CANCEL_DRIVER_REQUEST with token : 126f14a4bb49c3343352c335f8d
2022-10-05 11:59:31,549 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-10] Delete token from messages : 126f14a4bb49c3343352c335f8d
2022-10-05 11:59:31,549 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Delete messages with chat id : 834450967 and messages : [219, 220, 221, 222]
2022-10-05 11:59:32,898 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-05 11:59:32,898 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Income message with token :ace04dc464f8697316d5bc4a494
2022-10-05 11:59:33,743 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : PASSENGER and token: ace04dc464f8697316d5bc4a494
2022-10-05 11:59:33,748 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 11:59:34,834 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :25 and token: ace04dc464f8697316d5bc4a494
2022-10-05 11:59:34,838 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 25
2022-10-05 11:59:35,520 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_DATE_OF_OFFER type with token: ace04dc464f8697316d5bc4a494
2022-10-05 11:59:35,521 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with id:25, with token :ace04dc464f8697316d5bc4a494
2022-10-05 11:59:36,331 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-5] Change the first date of offer, changed first date: 2022-10-11 and token : ace04dc464f8697316d5bc4a494
2022-10-05 11:59:38,212 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-4] Change the first date of offer, changed first date: 2022-10-18 and token : ace04dc464f8697316d5bc4a494
2022-10-05 12:00:51,648 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-6] Change the first date of offer, changed first date: 2022-10-08 and token : ace04dc464f8697316d5bc4a494
2022-10-05 12:01:42,412 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:01:42,412 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:01:42,421 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:01:46,214 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10340 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:01:46,230 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:01:46,685 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:01:46,738 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2022-10-05 12:01:47,028 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:01:47,038 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:01:47,038 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:01:47,038 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:01:47,113 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:01:47,113 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 849 ms
2022-10-05 12:01:47,213 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:01:47,275 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:01:47,348 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:01:47,420 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:01:47,664 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:01:47,722 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:01:47,783 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:01:47,793 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:01:47,871 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:01:47,930 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:01:48,240 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:01:48,240 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:01:48,679 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:01:48,895 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:01:48,916 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:01:48,916 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:01:48,916 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:01:48,916 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:01:48,938 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:01:49,433 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.561 seconds (JVM running for 4.229)
2022-10-05 12:01:55,395 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:01:55,395 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:01:55,396 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 12:01:55,508 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 12:01:55,517 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 12:01:56,559 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-05 12:01:56,560 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Income message with token :eb40d9bd2ce12518655530
2022-10-05 12:01:57,321 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: eb40d9bd2ce12518655530
2022-10-05 12:01:57,325 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:01:58,648 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_OFFER callback type with route id :25 and token: eb40d9bd2ce12518655530
2022-10-05 12:01:58,651 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 25
2022-10-05 12:01:59,467 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_DATE_OF_OFFER type with token: eb40d9bd2ce12518655530
2022-10-05 12:01:59,469 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with id:25, with token :eb40d9bd2ce12518655530
2022-10-05 12:02:00,361 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-4] Change the first date of offer, changed first date: 2022-10-20 and token : eb40d9bd2ce12518655530
2022-10-05 12:02:04,358 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with date :2022-10-26 with token: eb40d9bd2ce12518655530
2022-10-05 12:02:04,364 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Update date of offer with first date : 2022-10-20 , and second date : 2022-10-26 
2022-10-05 12:02:04,365 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Get offer by id: 25
2022-10-05 12:02:04,412 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-10-20 and second date:2022-10-26 with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-05 12:02:04,446 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : eb40d9bd2ce12518655530
2022-10-05 12:02:06,249 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-05 12:02:06,253 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-05 12:02:06,260 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Delete token from messages : eb40d9bd2ce12518655530
2022-10-05 12:02:12,070 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-05 12:02:12,070 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-9] Income message with token :694becb7c7ba4deacaa93d
2022-10-05 12:02:12,898 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : PASSENGER and token: 694becb7c7ba4deacaa93d
2022-10-05 12:02:12,901 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:02:13,782 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :25 and token: 694becb7c7ba4deacaa93d
2022-10-05 12:02:13,786 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 25
2022-10-05 12:02:14,930 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_DATE_OF_OFFER type with token: 694becb7c7ba4deacaa93d
2022-10-05 12:02:14,930 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with id:25, with token :694becb7c7ba4deacaa93d
2022-10-05 12:02:16,238 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-29 and token : 694becb7c7ba4deacaa93d
2022-10-05 12:02:19,941 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-30 with token: 694becb7c7ba4deacaa93d
2022-10-05 12:02:19,946 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Update date of offer with first date : 2022-10-29 , and second date : 2022-10-30 
2022-10-05 12:02:19,946 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Get offer by id: 25
2022-10-05 12:02:19,954 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-10-29 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-05 12:02:19,957 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Delete token from messages : 694becb7c7ba4deacaa93d
2022-10-05 12:02:21,568 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type
2022-10-05 12:02:21,571 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-05 12:02:21,574 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Delete token from messages : 694becb7c7ba4deacaa93d
2022-10-05 12:02:23,093 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-05 12:02:23,093 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Income message with token :0146a480e6589d0507ce9f
2022-10-05 12:02:24,288 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: 0146a480e6589d0507ce9f
2022-10-05 12:02:24,291 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:02:25,476 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :19 and token: 0146a480e6589d0507ce9f
2022-10-05 12:02:25,479 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 19
2022-10-05 12:02:27,067 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_DATE_OF_OFFER type with token: 0146a480e6589d0507ce9f
2022-10-05 12:02:27,067 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with id:19, with token :0146a480e6589d0507ce9f
2022-10-05 12:02:27,921 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-10] Change the first date of offer, changed first date: 2022-10-13 and token : 0146a480e6589d0507ce9f
2022-10-05 12:02:28,519 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with date :2022-10-16 with token: 0146a480e6589d0507ce9f
2022-10-05 12:02:28,522 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Update date of offer with first date : 2022-10-13 , and second date : 2022-10-16 
2022-10-05 12:02:28,523 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Get offer by id: 19
2022-10-05 12:02:28,532 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find drivers by first date :2022-10-13 and second date:2022-10-16 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 12:02:28,535 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Delete token from messages : 0146a480e6589d0507ce9f
2022-10-05 12:02:29,693 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type
2022-10-05 12:02:29,696 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-05 12:02:29,700 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Delete token from messages : 0146a480e6589d0507ce9f
2022-10-05 12:02:30,768 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-05 12:02:30,768 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :eb46cfb42d4ce356842633
2022-10-05 12:02:31,427 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : DRIVER and token: eb46cfb42d4ce356842633
2022-10-05 12:02:31,429 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :DRIVER
2022-10-05 12:02:32,571 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :18 and token: eb46cfb42d4ce356842633
2022-10-05 12:02:32,574 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 18
2022-10-05 12:02:33,323 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_DATE_OF_OFFER type with token: eb46cfb42d4ce356842633
2022-10-05 12:02:33,323 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with id:18, with token :eb46cfb42d4ce356842633
2022-10-05 12:02:34,185 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-7] Change the first date of offer, changed first date: 2022-10-20 and token : eb46cfb42d4ce356842633
2022-10-05 12:02:37,844 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with date :2022-10-24 with token: eb46cfb42d4ce356842633
2022-10-05 12:02:37,851 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Update date of offer with first date : 2022-10-20 , and second date : 2022-10-24 
2022-10-05 12:02:37,851 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Get offer by id: 18
2022-10-05 12:02:37,859 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find passengers by first date :2022-10-20 and second date:2022-10-24 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 12:02:37,863 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Delete token from messages : eb46cfb42d4ce356842633
2022-10-05 12:02:40,358 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-9] Got MAIN_MENU callback type
2022-10-05 12:02:40,361 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Check existing of user by id: 834450967
2022-10-05 12:02:40,366 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-9] Delete token from messages : eb46cfb42d4ce356842633
2022-10-05 12:02:41,361 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-10] Income message with token :db44a089fab9272a6f7979
2022-10-05 12:02:41,361 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :PASSENGER and token : db44a089fab9272a6f7979
2022-10-05 12:02:41,380 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-10] Find all routes
2022-10-05 12:02:41,408 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Edit previous message with message Id : 225
2022-10-05 12:02:42,552 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: db44a089fab9272a6f7979
2022-10-05 12:02:43,085 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: db44a089fab9272a6f7979
2022-10-05 12:02:43,824 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-2] Callback data with type: CHOSE_DATE_PASSENGER with token : db44a089fab9272a6f7979
2022-10-05 12:02:43,824 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 226
2022-10-05 12:02:44,831 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-24 with token: db44a089fab9272a6f7979
2022-10-05 12:02:45,497 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date : 2022-10-27 and token : db44a089fab9272a6f7979
2022-10-05 12:02:45,498 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 227
2022-10-05 12:02:45,640 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find drivers by first date :2022-10-24 and second date:2022-10-27 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-05 12:02:46,734 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-4] Got callback : CANCEL_PASSENGER_REQUEST with token : db44a089fab9272a6f7979
2022-10-05 12:02:46,734 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Delete messages with chat id : 834450967 and messages : [225, 226, 227, 228]
2022-10-05 12:02:47,022 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Delete token from messages : db44a089fab9272a6f7979
2022-10-05 12:03:09,725 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:03:09,725 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:03:09,734 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:03:13,714 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 3272 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:03:13,720 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:03:14,147 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:03:14,207 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 57 ms. Found 3 JPA repository interfaces.
2022-10-05 12:03:14,527 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:03:14,527 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:03:14,527 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:03:14,527 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:03:14,593 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:03:14,593 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 843 ms
2022-10-05 12:03:14,689 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:03:14,758 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:03:14,835 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:03:14,914 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:03:15,177 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:03:15,244 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:03:15,302 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:03:15,322 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:03:15,394 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:03:15,451 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:03:15,793 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:03:15,808 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:03:16,250 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:03:16,450 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:03:16,466 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:03:16,466 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:03:16,466 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:03:16,466 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:03:16,492 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:03:17,037 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.643 seconds (JVM running for 4.293)
2022-10-05 12:03:18,236 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:03:18,236 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:03:18,237 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 12:03:18,347 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-05 12:03:18,347 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :e54d4bb8a4abd5672eae79
2022-10-05 12:03:19,308 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: e54d4bb8a4abd5672eae79
2022-10-05 12:03:19,312 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:03:20,379 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :19 and token: e54d4bb8a4abd5672eae79
2022-10-05 12:03:20,384 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 19
2022-10-05 12:03:21,204 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_DATE_OF_OFFER type with token: e54d4bb8a4abd5672eae79
2022-10-05 12:03:21,205 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with id:19, with token :e54d4bb8a4abd5672eae79
2022-10-05 12:03:22,215 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-5] Change the first date of offer, changed first date: 2022-10-21 and token : e54d4bb8a4abd5672eae79
2022-10-05 12:03:26,128 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-24 with token: e54d4bb8a4abd5672eae79
2022-10-05 12:03:26,138 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Update date of offer with first date : 2022-10-21 , and second date : 2022-10-24 
2022-10-05 12:03:26,139 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 19
2022-10-05 12:03:26,186 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find drivers by first date :2022-10-21 and second date:2022-10-24 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 12:03:26,215 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Delete token from messages : e54d4bb8a4abd5672eae79
2022-10-05 12:03:29,173 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-05 12:03:29,179 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-05 12:03:29,190 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : e54d4bb8a4abd5672eae79
2022-10-05 12:03:37,362 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-05 12:03:37,363 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Income message with token :0ee84edfa5423afbd0692418
2022-10-05 12:03:38,122 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : DRIVER and token: 0ee84edfa5423afbd0692418
2022-10-05 12:03:38,127 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :DRIVER
2022-10-05 12:03:39,191 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :18 and token: 0ee84edfa5423afbd0692418
2022-10-05 12:03:39,195 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 18
2022-10-05 12:03:40,081 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_DATE_OF_OFFER type with token: 0ee84edfa5423afbd0692418
2022-10-05 12:03:40,081 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with id:18, with token :0ee84edfa5423afbd0692418
2022-10-05 12:03:40,814 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-27 and token : 0ee84edfa5423afbd0692418
2022-10-05 12:03:44,523 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-30 with token: 0ee84edfa5423afbd0692418
2022-10-05 12:03:44,528 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Update date of offer with first date : 2022-10-27 , and second date : 2022-10-30 
2022-10-05 12:03:44,529 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Get offer by id: 18
2022-10-05 12:03:44,550 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find passengers by first date :2022-10-27 and second date:2022-10-30 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 12:03:44,555 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Delete token from messages : 0ee84edfa5423afbd0692418
2022-10-05 12:03:45,574 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-4] Got MAIN_MENU callback type
2022-10-05 12:03:45,576 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-05 12:03:45,580 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Delete token from messages : 0ee84edfa5423afbd0692418
2022-10-05 12:03:52,909 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:03:52,909 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:03:52,919 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:03:56,642 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16008 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:03:56,642 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:03:57,096 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:03:57,148 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2022-10-05 12:03:57,503 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:03:57,503 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:03:57,503 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:03:57,503 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:03:57,580 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:03:57,580 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 895 ms
2022-10-05 12:03:57,680 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:03:57,746 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:03:57,819 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:03:57,891 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:03:58,139 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:03:58,209 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:03:58,268 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:03:58,284 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:03:58,355 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:03:58,421 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:03:58,730 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:03:58,740 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:03:59,240 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:03:59,453 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:03:59,467 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:03:59,476 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:03:59,476 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:03:59,477 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:03:59,490 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:04:00,043 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.709 seconds (JVM running for 4.373)
2022-10-05 12:04:07,558 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:04:07,558 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:04:07,559 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 12:04:07,671 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 12:04:07,676 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 12:04:08,914 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-05 12:04:08,915 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :dc8a904682aea97cb66abf3e36
2022-10-05 12:04:10,118 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: dc8a904682aea97cb66abf3e36
2022-10-05 12:04:10,123 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:04:11,136 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :25 and token: dc8a904682aea97cb66abf3e36
2022-10-05 12:04:11,141 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 25
2022-10-05 12:04:12,139 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_DATE_OF_OFFER type with token: dc8a904682aea97cb66abf3e36
2022-10-05 12:04:12,140 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with id:25, with token :dc8a904682aea97cb66abf3e36
2022-10-05 12:04:13,014 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-5] Change the first date of offer, changed first date: 2022-10-27 and token : dc8a904682aea97cb66abf3e36
2022-10-05 12:04:16,684 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with date :2022-10-30 with token: dc8a904682aea97cb66abf3e36
2022-10-05 12:04:16,689 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Update date of offer with first date : 2022-10-27 , and second date : 2022-10-30 
2022-10-05 12:04:16,690 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Get offer by id: 25
2022-10-05 12:04:16,749 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find drivers by first date :2022-10-27 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-05 12:04:16,780 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Delete token from messages : dc8a904682aea97cb66abf3e36
2022-10-05 12:04:18,031 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-9] Got MAIN_MENU callback type
2022-10-05 12:04:18,034 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Check existing of user by id: 834450967
2022-10-05 12:04:18,039 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-9] Delete token from messages : dc8a904682aea97cb66abf3e36
2022-10-05 12:04:19,461 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-05 12:04:19,462 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Income message with token :e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:20,231 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : DRIVER and token: e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:20,235 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :DRIVER
2022-10-05 12:04:21,133 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :18 and token: e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:21,138 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 18
2022-10-05 12:04:21,928 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_DATE_OF_OFFER type with token: e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:21,929 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with id:18, with token :e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:22,745 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-3] Change the first date of offer, changed first date: 2022-10-24 and token : e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:23,361 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with date :2022-10-27 with token: e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:23,366 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Update date of offer with first date : 2022-10-24 , and second date : 2022-10-27 
2022-10-05 12:04:23,367 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Get offer by id: 18
2022-10-05 12:04:23,379 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find passengers by first date :2022-10-24 and second date:2022-10-27 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 12:04:23,392 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Delete token from messages : e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:24,458 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type
2022-10-05 12:04:24,462 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-05 12:04:24,468 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Delete token from messages : e32ec449cb92782ab8b2cc4895
2022-10-05 12:04:31,956 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:04:31,958 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:04:31,965 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:04:35,879 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 11476 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:04:35,879 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:04:36,351 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:04:36,409 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2022-10-05 12:04:36,730 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:04:36,746 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:04:36,746 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:04:36,746 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:04:36,814 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:04:36,814 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 904 ms
2022-10-05 12:04:36,912 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:04:36,975 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:04:37,049 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:04:37,110 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:04:37,366 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:04:37,436 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:04:37,489 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:04:37,520 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:04:37,588 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:04:37,646 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:04:37,955 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:04:37,974 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:04:38,420 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:04:38,610 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:04:38,630 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:04:38,630 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:04:38,630 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:04:38,630 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:04:38,654 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:04:39,173 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.64 seconds (JVM running for 4.318)
2022-10-05 12:04:42,135 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:04:42,136 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:04:42,137 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 12:04:42,252 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-05 12:04:42,253 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:43,246 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:43,250 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:04:44,332 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_OFFER callback type with route id :22 and token: ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:44,336 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 22
2022-10-05 12:04:46,505 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:46,506 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:22, with token :ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:47,366 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-6] Change the first date of offer, changed first date: 2022-10-23 and token : ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:48,016 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with date :2022-10-30 with token: ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:48,018 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Update date of offer with first date : 2022-10-23 , and second date : 2022-10-30 
2022-10-05 12:04:48,019 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Get offer by id: 22
2022-10-05 12:04:48,073 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find drivers by first date :2022-10-23 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-05 12:04:48,107 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Delete token from messages : ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:49,662 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-05 12:04:49,670 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-05 12:04:49,682 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : ba3e81428688eebed7fe8cd9ec
2022-10-05 12:04:53,872 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-05 12:04:53,872 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Income message with token :e142fd44a70ba17f8df7b438654
2022-10-05 12:04:54,676 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: e142fd44a70ba17f8df7b438654
2022-10-05 12:04:54,680 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:04:55,467 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :25 and token: e142fd44a70ba17f8df7b438654
2022-10-05 12:04:55,470 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 25
2022-10-05 12:04:56,162 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_DATE_OF_OFFER type with token: e142fd44a70ba17f8df7b438654
2022-10-05 12:04:56,162 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with id:25, with token :e142fd44a70ba17f8df7b438654
2022-10-05 12:04:56,872 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-3] Change the first date of offer, changed first date: 2022-10-23 and token : e142fd44a70ba17f8df7b438654
2022-10-05 12:05:01,412 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-30 and token : e142fd44a70ba17f8df7b438654
2022-10-05 12:05:09,774 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:05:09,774 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:05:09,785 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:05:13,762 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 22300 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:05:13,773 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:05:14,236 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:05:14,294 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2022-10-05 12:05:14,628 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:05:14,635 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:05:14,635 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:05:14,636 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:05:14,733 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:05:14,733 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 939 ms
2022-10-05 12:05:14,867 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:05:14,926 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:05:15,013 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:05:15,109 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:05:15,380 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:05:15,450 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:05:15,517 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:05:15,541 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:05:15,599 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:05:15,656 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:05:16,023 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:05:16,039 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:05:16,643 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:05:16,883 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:05:16,916 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:05:16,926 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:05:16,926 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:05:16,926 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:05:16,946 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:05:17,616 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.263 seconds (JVM running for 4.936)
2022-10-05 12:05:20,324 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:05:20,324 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:05:20,324 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-05 12:05:20,439 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 12:05:20,463 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 12:05:21,652 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-05 12:05:21,654 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :2f10654737987b5f880ba0decc
2022-10-05 12:05:22,633 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 2f10654737987b5f880ba0decc
2022-10-05 12:05:22,639 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:05:23,595 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :25 and token: 2f10654737987b5f880ba0decc
2022-10-05 12:05:23,599 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 25
2022-10-05 12:05:24,515 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: 2f10654737987b5f880ba0decc
2022-10-05 12:05:24,515 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:25, with token :2f10654737987b5f880ba0decc
2022-10-05 12:05:25,250 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-6] Change the first date of offer, changed first date: 2022-10-24 and token : 2f10654737987b5f880ba0decc
2022-10-05 12:05:28,950 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with date :2022-10-30 with token: 2f10654737987b5f880ba0decc
2022-10-05 12:05:28,956 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Update date of offer with first date : 2022-10-24 , and second date : 2022-10-30 
2022-10-05 12:05:28,956 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Get offer by id: 25
2022-10-05 12:05:29,018 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-10-24 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-05 12:05:29,047 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : 2f10654737987b5f880ba0decc
2022-10-05 12:05:31,826 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-05 12:05:31,830 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-05 12:05:31,834 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Delete token from messages : 2f10654737987b5f880ba0decc
2022-10-05 12:05:32,997 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-05 12:05:32,997 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-9] Income message with token :45b0c84abc9a45c9c731e33427
2022-10-05 12:05:34,556 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : PASSENGER and token: 45b0c84abc9a45c9c731e33427
2022-10-05 12:05:34,562 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:05:36,153 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :19 and token: 45b0c84abc9a45c9c731e33427
2022-10-05 12:05:36,157 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 19
2022-10-05 12:05:37,705 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_DATE_OF_OFFER type with token: 45b0c84abc9a45c9c731e33427
2022-10-05 12:05:37,706 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with id:19, with token :45b0c84abc9a45c9c731e33427
2022-10-05 12:05:38,384 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-3] Change the first date of offer, changed first date: 2022-10-24 and token : 45b0c84abc9a45c9c731e33427
2022-10-05 12:05:38,952 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with date :2022-10-27 with token: 45b0c84abc9a45c9c731e33427
2022-10-05 12:05:38,958 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Update date of offer with first date : 2022-10-24 , and second date : 2022-10-27 
2022-10-05 12:05:38,958 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Get offer by id: 19
2022-10-05 12:05:38,978 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find drivers by first date :2022-10-24 and second date:2022-10-27 with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-05 12:05:38,985 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Delete token from messages : 45b0c84abc9a45c9c731e33427
2022-10-05 12:05:40,018 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-5] Got MAIN_MENU callback type
2022-10-05 12:05:40,021 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-05 12:05:40,025 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Delete token from messages : 45b0c84abc9a45c9c731e33427
2022-10-05 12:05:43,070 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:05:43,070 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:05:43,078 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:22:19,275 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 12112 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:22:19,275 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:22:19,885 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:22:19,968 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 68 ms. Found 3 JPA repository interfaces.
2022-10-05 12:22:20,388 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:22:20,388 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:22:20,397 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:22:20,397 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:22:20,498 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:22:20,498 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1191 ms
2022-10-05 12:22:20,677 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:22:20,743 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:22:20,844 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:22:20,920 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:22:21,222 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:22:21,288 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:22:21,366 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:22:21,415 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:22:21,531 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:22:21,631 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:22:22,048 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:22:22,058 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:22:22,658 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:22:22,916 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:22:22,932 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:22:22,932 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:22:22,932 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:22:22,932 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:22:22,960 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:22:23,549 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.697 seconds (JVM running for 5.47)
2022-10-05 12:22:31,016 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:22:31,017 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:22:31,019 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-05 12:22:31,156 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :591b38452cb2130c21859f634a
2022-10-05 12:22:31,156 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 591b38452cb2130c21859f634a
2022-10-05 12:22:31,201 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-05 12:22:31,256 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 233
2022-10-05 12:22:33,681 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 591b38452cb2130c21859f634a
2022-10-05 12:22:42,414 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 591b38452cb2130c21859f634a
2022-10-05 12:22:43,323 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 591b38452cb2130c21859f634a
2022-10-05 12:22:44,124 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 591b38452cb2130c21859f634a
2022-10-05 12:22:44,763 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 591b38452cb2130c21859f634a
2022-10-05 12:22:45,737 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 591b38452cb2130c21859f634a
2022-10-05 12:22:49,479 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 591b38452cb2130c21859f634a
2022-10-05 12:23:14,779 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:23:14,779 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:23:14,790 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:23:18,681 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 9516 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:23:18,691 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:23:19,172 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:23:19,239 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62 ms. Found 3 JPA repository interfaces.
2022-10-05 12:23:19,563 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:23:19,571 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:23:19,571 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:23:19,571 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:23:19,664 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:23:19,664 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 947 ms
2022-10-05 12:23:19,758 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:23:19,824 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:23:19,896 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:23:19,958 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:23:20,216 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:23:20,276 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:23:20,326 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:23:20,358 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:23:20,426 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:23:20,474 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:23:20,796 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:23:20,812 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:23:21,213 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:23:21,447 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:23:21,463 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:23:21,463 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:23:21,463 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:23:21,463 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:23:21,483 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:23:22,014 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.679 seconds (JVM running for 4.34)
2022-10-05 12:23:31,556 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:23:31,557 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:23:31,558 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 12:23:31,656 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 12:23:31,672 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 12:23:32,888 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :a631904b469dd102e80a3007f7
2022-10-05 12:23:32,889 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : a631904b469dd102e80a3007f7
2022-10-05 12:23:32,910 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-05 12:23:32,959 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 236
2022-10-05 12:23:33,904 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:34,680 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:35,548 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:36,435 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:40,525 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 5 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:23:42,861 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:43,863 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:23:44,978 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:46,239 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 5 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:23:47,453 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:48,808 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:49,737 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 3 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:23:51,771 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:56,834 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 3 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:23:58,402 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 6 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:23:59,163 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 1 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:23:59,760 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:00,632 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 3 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:04,446 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 1 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:05,678 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:06,320 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:10,715 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:11,441 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 2 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:13,054 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:14,492 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:19,979 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 5 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:20,909 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:21,933 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:22,549 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:25,667 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:26,445 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:27,495 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:28,156 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:29,317 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:33,102 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 2 and token: a631904b469dd102e80a3007f7 
2022-10-05 12:24:34,317 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:34,921 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:35,876 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_PASSENGER with token : a631904b469dd102e80a3007f7
2022-10-05 12:24:35,876 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Edit previous message with message Id : 237
2022-10-05 12:24:37,647 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_PASSENGER type with first date :2022-10-20 with token: a631904b469dd102e80a3007f7
2022-10-05 12:24:57,797 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_PASSENGER type with first date :2022-10-11 with token: a631904b469dd102e80a3007f7
2022-10-05 12:25:09,645 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:25:09,645 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:25:09,654 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:25:13,922 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 19680 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:25:13,929 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:25:14,464 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:25:14,528 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 3 JPA repository interfaces.
2022-10-05 12:25:14,831 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:25:14,857 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:25:14,857 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:25:14,857 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:25:14,931 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:25:14,931 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 976 ms
2022-10-05 12:25:15,048 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:25:15,111 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:25:15,184 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:25:15,263 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:25:15,546 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:25:15,620 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:25:15,673 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:25:15,689 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:25:15,759 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:25:15,816 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:25:16,201 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:25:16,217 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:25:16,851 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:25:17,162 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:25:17,194 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:25:17,204 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:25:17,204 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:25:17,204 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:25:17,224 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:25:17,936 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.359 seconds (JVM running for 5.09)
2022-10-05 12:25:19,451 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:25:19,453 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:25:19,454 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 12:25:19,570 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 12:25:19,577 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 12:25:21,576 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:21,577 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:21,603 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-05 12:25:21,656 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 240
2022-10-05 12:25:22,696 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:23,624 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:24,874 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: ec4c7ba96fcf1f4d0256ff 
2022-10-05 12:25:25,696 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:27,583 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:28,402 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:29,694 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-9] Callback data with type: CHOSE_DATE_PASSENGER with token : ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:29,695 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Edit previous message with message Id : 241
2022-10-05 12:25:30,814 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_PASSENGER type with first date :2022-10-20 with token: ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:31,547 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_PASSENGER callback type with second date : 2022-10-24 and token : ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:31,548 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 242
2022-10-05 12:25:31,718 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find drivers by first date :2022-10-20 and second date:2022-10-24 with cities:[City(id=3, name=WROCLAW), City(id=6, name=GRODNO)]
2022-10-05 12:25:33,829 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_PASSENGER_REQUEST with token : ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:33,830 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Delete messages with chat id : 834450967 and messages : [240, 241, 242, 243]
2022-10-05 12:25:34,407 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Delete token from messages : ec4c7ba96fcf1f4d0256ff
2022-10-05 12:25:47,458 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:25:47,458 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:25:47,467 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:29:22,691 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15692 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:29:22,691 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:29:23,218 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:29:23,276 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 3 JPA repository interfaces.
2022-10-05 12:29:23,600 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:29:23,616 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:29:23,616 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:29:23,616 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:29:23,710 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:29:23,710 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 977 ms
2022-10-05 12:29:23,800 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:29:23,867 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:29:23,942 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:29:24,023 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:29:24,271 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:29:24,330 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:29:24,384 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:29:24,409 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:29:24,475 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:29:24,532 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:29:24,911 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:29:24,911 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:29:25,361 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:29:25,565 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:29:25,581 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:29:25,581 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:29:25,596 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:29:25,581 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:29:25,611 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:29:26,152 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.798 seconds (JVM running for 4.453)
2022-10-05 12:29:38,700 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:29:38,700 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:29:38,701 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 12:29:38,841 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-05 12:29:38,842 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :d64edfa42842860c4511ea
2022-10-05 12:29:40,328 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: d64edfa42842860c4511ea
2022-10-05 12:29:40,332 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 12:29:41,888 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :25 and token: d64edfa42842860c4511ea
2022-10-05 12:29:41,892 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 25
2022-10-05 12:29:43,043 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-4] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: d64edfa42842860c4511ea
2022-10-05 12:29:43,071 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-4] Find all routes
2022-10-05 12:29:44,409 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelRouteOfOfferCallbackType [http-nio-5000-exec-5] Callback data with type: CANCEL_ROUTE_OF_OFFER and routeId: 5 and token : d64edfa42842860c4511ea
2022-10-05 12:29:45,681 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-6] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: d64edfa42842860c4511ea
2022-10-05 12:29:46,647 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-7] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: d64edfa42842860c4511ea
2022-10-05 12:29:47,580 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-8] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: d64edfa42842860c4511ea
2022-10-05 12:29:48,423 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-9] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: d64edfa42842860c4511ea
2022-10-05 12:29:52,249 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeRouteOfOfferCallbackType [http-nio-5000-exec-10] Got callback type :FINISH_CHANGING_ROUTE_OF_OFFER, with token:d64edfa42842860c4511ea
2022-10-05 12:29:52,249 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update route of offer with id :25
2022-10-05 12:29:52,255 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Update cities of offer with id : 25 and cities : [City(id=3, name=WROCLAW), City(id=6, name=GRODNO)] 
2022-10-05 12:29:52,262 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 25
2022-10-05 12:29:52,318 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-10-24 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=6, name=GRODNO)]
2022-10-05 12:29:52,338 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-10] Delete token from messages : d64edfa42842860c4511ea
2022-10-05 12:29:53,865 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-05 12:29:53,872 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 12:29:53,882 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Delete token from messages : d64edfa42842860c4511ea
2022-10-05 12:29:57,219 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:29:57,219 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:29:57,228 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:35:37,767 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 20704 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:35:37,767 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:35:38,238 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:35:38,301 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2022-10-05 12:35:38,607 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:35:38,623 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:35:38,623 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:35:38,623 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:35:38,684 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:35:38,684 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 879 ms
2022-10-05 12:35:38,790 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:35:38,842 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:35:38,911 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:35:38,983 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:35:39,222 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:35:39,292 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:35:39,340 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:35:39,376 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:35:39,445 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:35:39,493 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:35:39,809 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:35:39,809 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:35:40,241 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:35:40,426 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:35:40,442 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:35:40,458 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:35:40,459 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:35:40,458 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:35:40,475 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:35:41,208 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.785 seconds (JVM running for 4.422)
2022-10-05 12:35:43,917 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:35:43,917 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:35:43,918 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-05 12:35:44,040 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :ae43daa9f2a6e5cccfa070
2022-10-05 12:35:44,040 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : ae43daa9f2a6e5cccfa070
2022-10-05 12:35:44,060 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-05 12:35:44,110 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 244
2022-10-05 12:35:45,241 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: ae43daa9f2a6e5cccfa070
2022-10-05 12:35:49,046 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: ae43daa9f2a6e5cccfa070
2022-10-05 12:36:15,733 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:36:15,733 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 12:36:15,742 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 12:36:20,208 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8424 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 12:36:20,208 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 12:36:20,658 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 12:36:20,706 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-05 12:36:21,012 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 12:36:21,027 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 12:36:21,027 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 12:36:21,027 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 12:36:21,116 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 12:36:21,116 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 876 ms
2022-10-05 12:36:21,217 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 12:36:21,276 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 12:36:21,346 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 12:36:21,418 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 12:36:21,661 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 12:36:21,727 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 12:36:21,775 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 12:36:21,801 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 12:36:21,860 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 12:36:21,917 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 12:36:22,224 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 12:36:22,224 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 12:36:22,635 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 12:36:22,823 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 12:36:22,849 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 12:36:22,849 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:36:22,849 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 12:36:22,849 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 12:36:22,875 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 12:36:23,363 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.47 seconds (JVM running for 4.091)
2022-10-05 12:36:35,131 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 12:36:35,131 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 12:36:35,132 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 12:36:35,246 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-05 12:36:35,256 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 12:36:36,848 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :044040bcbf592d7bb1d165
2022-10-05 12:36:36,849 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : 044040bcbf592d7bb1d165
2022-10-05 12:36:36,879 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-05 12:36:36,931 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 247
2022-10-05 12:36:38,035 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 044040bcbf592d7bb1d165
2022-10-05 12:36:38,987 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 044040bcbf592d7bb1d165
2022-10-05 12:36:40,792 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: 044040bcbf592d7bb1d165 
2022-10-05 12:36:41,619 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 044040bcbf592d7bb1d165
2022-10-05 12:36:43,275 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: 044040bcbf592d7bb1d165
2022-10-05 12:36:44,826 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 2 and token: 044040bcbf592d7bb1d165 
2022-10-05 12:36:45,560 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 044040bcbf592d7bb1d165
2022-10-05 12:37:01,419 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 5 and token: 044040bcbf592d7bb1d165 
2022-10-05 12:37:43,106 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 044040bcbf592d7bb1d165
2022-10-05 12:37:43,906 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-2] Callback data with type: CHOSE_DATE_PASSENGER with token : 044040bcbf592d7bb1d165
2022-10-05 12:37:43,907 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 248
2022-10-05 12:37:45,689 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-3] Got FIRST_DATE_PASSENGER type with first date :2022-10-14 with token: 044040bcbf592d7bb1d165
2022-10-05 12:37:46,517 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_PASSENGER callback type with second date : 2022-10-23 and token : 044040bcbf592d7bb1d165
2022-10-05 12:37:46,519 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Edit previous message with message Id : 249
2022-10-05 12:37:46,637 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find drivers by first date :2022-10-14 and second date:2022-10-23 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-05 12:37:47,720 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-5] Got callback : CANCEL_PASSENGER_REQUEST with token : 044040bcbf592d7bb1d165
2022-10-05 12:37:47,721 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Delete messages with chat id : 834450967 and messages : [247, 248, 249, 250]
2022-10-05 12:37:47,998 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Delete token from messages : 044040bcbf592d7bb1d165
2022-10-05 13:13:36,329 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:13:36,332 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 13:13:36,339 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 13:13:59,288 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 3956 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 13:13:59,288 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 13:13:59,755 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 13:13:59,813 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 3 JPA repository interfaces.
2022-10-05 13:14:00,118 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 13:14:00,135 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 13:14:00,135 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 13:14:00,135 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 13:14:00,213 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 13:14:00,213 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 878 ms
2022-10-05 13:14:00,297 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 13:14:00,362 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 13:14:00,432 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 13:14:00,494 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 13:14:00,761 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 13:14:00,829 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 13:14:00,882 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 13:14:00,898 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 13:14:00,965 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 13:14:01,022 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 13:14:01,340 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 13:14:01,340 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:14:01,776 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 13:14:01,969 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 13:14:01,985 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 13:14:02,001 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:14:02,001 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 13:14:02,001 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:14:02,016 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 13:14:02,570 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.592 seconds (JVM running for 4.289)
2022-10-05 13:14:19,960 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 13:14:19,960 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 13:14:19,962 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-05 13:14:20,086 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :6741f2a5c5107c9f80704a
2022-10-05 13:14:20,086 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : 6741f2a5c5107c9f80704a
2022-10-05 13:14:20,107 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-05 13:14:20,153 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 251
2022-10-05 13:14:25,251 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 6741f2a5c5107c9f80704a
2022-10-05 13:14:28,536 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 6741f2a5c5107c9f80704a
2022-10-05 13:14:30,774 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token : 6741f2a5c5107c9f80704a
2022-10-05 13:14:31,496 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 3 and token : 6741f2a5c5107c9f80704a
2022-10-05 13:14:34,446 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 6741f2a5c5107c9f80704a
2022-10-05 13:14:35,161 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 6741f2a5c5107c9f80704a
2022-10-05 13:14:37,204 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 4 and token : 6741f2a5c5107c9f80704a
2022-10-05 13:14:37,797 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 3 and token : 6741f2a5c5107c9f80704a
2022-10-05 13:14:38,810 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 6741f2a5c5107c9f80704a
2022-10-05 13:14:39,422 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 6741f2a5c5107c9f80704a
2022-10-05 13:14:43,541 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_DRIVER_REQUEST with token : 6741f2a5c5107c9f80704a
2022-10-05 13:14:43,543 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Delete token from messages : 6741f2a5c5107c9f80704a
2022-10-05 13:14:43,544 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Delete messages with chat id : 834450967 and messages : [251, 252]
2022-10-05 13:16:42,454 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:16:42,454 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 13:16:42,464 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 13:16:48,046 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 4812 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 13:16:48,046 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 13:16:48,517 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 13:16:48,571 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-05 13:16:48,900 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 13:16:48,900 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 13:16:48,900 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 13:16:48,900 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 13:16:48,984 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 13:16:48,984 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 900 ms
2022-10-05 13:16:49,084 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 13:16:49,141 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 13:16:49,212 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 13:16:49,283 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 13:16:49,541 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 13:16:49,609 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 13:16:49,674 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 13:16:49,685 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 13:16:49,766 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 13:16:49,817 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 13:16:50,200 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 13:16:50,210 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:16:50,820 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 13:16:51,114 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 13:16:51,146 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 13:16:51,156 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:16:51,156 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 13:16:51,156 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:16:51,181 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 13:16:52,190 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.467 seconds (JVM running for 5.126)
2022-10-05 13:17:13,607 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 13:17:13,607 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 13:17:13,608 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 13:17:13,713 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :d84786966fcab88088d084
2022-10-05 13:17:13,713 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : d84786966fcab88088d084
2022-10-05 13:17:13,735 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-05 13:17:13,778 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 253
2022-10-05 13:17:28,945 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:17:28,945 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 13:17:28,955 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 13:17:33,875 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8196 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 13:17:33,878 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 13:17:34,335 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 13:17:34,375 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2022-10-05 13:17:34,716 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 13:17:34,716 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 13:17:34,716 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 13:17:34,716 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 13:17:34,811 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 13:17:34,811 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 899 ms
2022-10-05 13:17:34,923 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 13:17:34,982 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 13:17:35,055 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 13:17:35,128 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 13:17:35,385 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 13:17:35,445 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 13:17:35,491 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 13:17:35,523 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 13:17:35,592 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 13:17:35,639 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 13:17:35,992 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 13:17:35,992 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:17:36,541 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 13:17:36,811 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 13:17:36,832 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 13:17:36,848 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 13:17:36,848 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:17:36,848 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:17:36,871 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 13:17:36,942 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 13:17:36,942 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 13:17:36,942 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-05 13:17:37,110 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_PASSENGER_REQUEST with token : d84786966fcab88088d084
2022-10-05 13:17:37,110 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.PassengerRequest wasn't found by token=d84786966fcab88088d084
2022-10-05 13:17:37,503 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.943 seconds (JVM running for 4.664)
2022-10-05 13:17:47,562 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-05 13:17:47,562 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :7941b78a258313eb7542da
2022-10-05 13:17:49,656 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 7941b78a258313eb7542da
2022-10-05 13:17:49,660 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 13:17:50,782 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :25 and token: 7941b78a258313eb7542da
2022-10-05 13:17:50,785 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 25
2022-10-05 13:17:51,696 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-5] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: 7941b78a258313eb7542da
2022-10-05 13:17:51,718 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-5] Find all routes
2022-10-05 13:17:53,565 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type
2022-10-05 13:17:53,573 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-05 13:17:53,586 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Delete token from messages : 7941b78a258313eb7542da
2022-10-05 13:17:57,859 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Income message with token :3f47c8a6f09b138863b1c3
2022-10-05 13:17:57,859 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :DRIVER and token : 3f47c8a6f09b138863b1c3
2022-10-05 13:17:57,887 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Edit previous message with message Id : 254
2022-10-05 13:17:59,445 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_DRIVER_REQUEST with token : 3f47c8a6f09b138863b1c3
2022-10-05 13:17:59,446 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Delete token from messages : 3f47c8a6f09b138863b1c3
2022-10-05 13:17:59,446 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Delete messages with chat id : 834450967 and messages : [254, 255]
2022-10-05 13:18:01,886 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-9] Income message with token :5c4ec6a70686d57205382f
2022-10-05 13:18:01,886 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-9] Got ACTIVITY callback type with activity :PASSENGER and token : 5c4ec6a70686d57205382f
2022-10-05 13:18:01,888 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Edit previous message with message Id : 256
2022-10-05 13:18:03,086 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 5c4ec6a70686d57205382f
2022-10-05 13:18:04,121 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 5c4ec6a70686d57205382f
2022-10-05 13:18:06,275 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_PASSENGER_REQUEST with token : 5c4ec6a70686d57205382f
2022-10-05 13:18:06,276 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Delete messages with chat id : 834450967 and messages : [256, 257]
2022-10-05 13:18:06,496 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Delete token from messages : 5c4ec6a70686d57205382f
2022-10-05 13:18:19,517 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:18:19,517 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 13:18:19,526 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 13:18:23,624 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 17540 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 13:18:23,624 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 13:18:24,079 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 13:18:24,122 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-05 13:18:24,455 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 13:18:24,455 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 13:18:24,455 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 13:18:24,464 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 13:18:24,541 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 13:18:24,541 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 891 ms
2022-10-05 13:18:24,639 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 13:18:24,703 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 13:18:24,774 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 13:18:24,842 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 13:18:25,085 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 13:18:25,153 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 13:18:25,222 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 13:18:25,240 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 13:18:25,335 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 13:18:25,408 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 13:18:25,712 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 13:18:25,727 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:18:26,140 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 13:18:26,326 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 13:18:26,346 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 13:18:26,352 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:18:26,352 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 13:18:26,352 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:18:26,368 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 13:18:26,901 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.598 seconds (JVM running for 4.301)
2022-10-05 13:18:28,998 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 13:18:28,998 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 13:18:29,000 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-05 13:18:29,137 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :5841b9b4fe141dddfec747
2022-10-05 13:18:29,137 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : 5841b9b4fe141dddfec747
2022-10-05 13:18:29,161 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-05 13:18:29,210 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 258
2022-10-05 13:18:31,155 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 5841b9b4fe141dddfec747
2022-10-05 13:18:32,793 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 5841b9b4fe141dddfec747
2022-10-05 13:18:35,039 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 5841b9b4fe141dddfec747
2022-10-05 13:18:37,695 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 3 and token : 5841b9b4fe141dddfec747
2022-10-05 13:18:38,704 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 5841b9b4fe141dddfec747
2022-10-05 13:18:39,619 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 4 and token : 5841b9b4fe141dddfec747
2022-10-05 13:18:40,350 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 5841b9b4fe141dddfec747
2022-10-05 13:18:41,483 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 3 and token : 5841b9b4fe141dddfec747
2022-10-05 13:18:42,324 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 6 and token: 5841b9b4fe141dddfec747
2022-10-05 13:18:43,161 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 6 and token : 5841b9b4fe141dddfec747
2022-10-05 13:18:43,848 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 5841b9b4fe141dddfec747
2022-10-05 13:18:47,753 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token : 5841b9b4fe141dddfec747
2022-10-05 13:18:49,746 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 6 and token: 5841b9b4fe141dddfec747
2022-10-05 13:18:52,550 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-5] Got callback : CANCEL_DRIVER_REQUEST with token : 5841b9b4fe141dddfec747
2022-10-05 13:18:52,552 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Delete token from messages : 5841b9b4fe141dddfec747
2022-10-05 13:18:52,552 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Delete messages with chat id : 834450967 and messages : [258, 259]
2022-10-05 13:19:05,867 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-05 13:19:05,867 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Income message with token :9a4df496911ff0fbef4aa4
2022-10-05 13:19:07,948 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : DRIVER and token: 9a4df496911ff0fbef4aa4
2022-10-05 13:19:07,952 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :DRIVER
2022-10-05 13:19:09,028 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :23 and token: 9a4df496911ff0fbef4aa4
2022-10-05 13:19:09,032 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 23
2022-10-05 13:19:14,673 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : DRIVER and token: 9a4df496911ff0fbef4aa4
2022-10-05 13:19:14,676 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :DRIVER
2022-10-05 13:19:16,724 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :18 and token: 9a4df496911ff0fbef4aa4
2022-10-05 13:19:16,726 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 18
2022-10-05 13:19:17,736 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-1] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: 9a4df496911ff0fbef4aa4
2022-10-05 13:19:20,116 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type
2022-10-05 13:19:20,121 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-05 13:19:20,136 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Delete token from messages : 9a4df496911ff0fbef4aa4
2022-10-05 13:19:38,686 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:19:38,686 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 13:19:38,696 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 13:38:36,314 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 4532 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 13:38:36,314 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 13:38:36,799 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 13:38:36,857 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 3 JPA repository interfaces.
2022-10-05 13:38:37,187 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 13:38:37,187 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 13:38:37,187 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 13:38:37,187 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 13:38:37,274 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 13:38:37,274 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 917 ms
2022-10-05 13:38:37,358 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 13:38:37,422 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 13:38:37,494 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 13:38:37,555 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 13:38:37,807 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 13:38:37,872 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 13:38:37,930 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 13:38:37,945 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 13:38:38,016 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 13:38:38,075 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 13:38:38,388 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 13:38:38,388 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:38:38,815 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 13:38:39,010 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 13:38:39,026 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 13:38:39,026 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:38:39,026 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:38:39,026 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 13:38:39,054 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 13:38:39,762 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.815 seconds (JVM running for 4.492)
2022-10-05 13:38:41,713 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 13:38:41,713 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 13:38:41,715 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-05 13:38:41,832 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-1] Got RETURN_TO_CHANGE_OF_OFFER type with token : ce45f2b53f8ec3779e3f16
2022-10-05 13:38:41,833 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.ChangeOfferRequest wasn't found by token=ce45f2b53f8ec3779e3f16
2022-10-05 13:38:44,379 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-05 13:38:44,380 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Income message with token :5547ca8255151c54c4d503
2022-10-05 13:38:45,378 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 5547ca8255151c54c4d503
2022-10-05 13:38:45,382 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 13:38:46,923 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :25 and token: 5547ca8255151c54c4d503
2022-10-05 13:38:46,928 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 25
2022-10-05 13:38:49,057 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-5] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: 5547ca8255151c54c4d503
2022-10-05 13:38:49,086 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-5] Find all routes
2022-10-05 13:38:50,697 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelRouteOfOfferCallbackType [http-nio-5000-exec-9] Callback data with type: CANCEL_ROUTE_OF_OFFER and routeId: 6 and token : 5547ca8255151c54c4d503
2022-10-05 13:38:51,417 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-7] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: 5547ca8255151c54c4d503
2022-10-05 13:38:53,289 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-05 13:38:53,297 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-05 13:38:53,309 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Delete token from messages : 5547ca8255151c54c4d503
2022-10-05 13:39:28,091 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:39:28,091 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 13:39:28,102 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 13:39:31,912 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 24144 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 13:39:31,912 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 13:39:32,435 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 13:39:32,487 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-05 13:39:32,792 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 13:39:32,807 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 13:39:32,808 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 13:39:32,808 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 13:39:32,888 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 13:39:32,888 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 936 ms
2022-10-05 13:39:32,994 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 13:39:33,056 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 13:39:33,127 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 13:39:33,188 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 13:39:33,435 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 13:39:33,503 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 13:39:33,555 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 13:39:33,581 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 13:39:33,649 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 13:39:33,706 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 13:39:34,007 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 13:39:34,007 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 13:39:34,425 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 13:39:34,603 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 13:39:34,630 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 13:39:34,630 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:39:34,630 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 13:39:34,630 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 13:39:34,654 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 13:39:35,146 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.551 seconds (JVM running for 4.225)
2022-10-05 13:39:39,779 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 13:39:39,779 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 13:39:39,780 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 13:39:39,905 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-05 13:39:39,906 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :734438941f3de287eef3e4
2022-10-05 13:39:40,978 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 734438941f3de287eef3e4
2022-10-05 13:39:40,982 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 13:39:42,336 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :25 and token: 734438941f3de287eef3e4
2022-10-05 13:39:42,341 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 25
2022-10-05 13:39:45,499 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-4] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: 734438941f3de287eef3e4
2022-10-05 13:39:45,530 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-4] Find all routes
2022-10-05 13:39:46,988 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelRouteOfOfferCallbackType [http-nio-5000-exec-5] Callback data with type: CANCEL_ROUTE_OF_OFFER and routeId: 6 and token : 734438941f3de287eef3e4
2022-10-05 13:39:48,177 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-6] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: 734438941f3de287eef3e4
2022-10-05 13:39:49,443 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-7] Got RETURN_TO_CHANGE_OF_OFFER type with token : 734438941f3de287eef3e4
2022-10-05 13:39:49,448 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offer by id : 25
2022-10-05 13:39:57,736 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: 734438941f3de287eef3e4
2022-10-05 13:39:57,741 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 13:39:59,161 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-10] Got MAIN_MENU callback type
2022-10-05 13:39:59,174 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-10] Check existing of user by id: 834450967
2022-10-05 13:39:59,185 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-10] Delete token from messages : 734438941f3de287eef3e4
2022-10-05 13:40:11,991 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-05 13:40:11,992 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Income message with token :ed4715b5afad0143efefcd
2022-10-05 13:40:12,779 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: ed4715b5afad0143efefcd
2022-10-05 13:40:12,783 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 13:40:13,977 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-2] Got MAIN_MENU callback type
2022-10-05 13:40:13,980 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-05 13:40:13,985 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Delete token from messages : ed4715b5afad0143efefcd
2022-10-05 14:01:33,541 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:01:33,543 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 14:01:33,550 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 14:01:38,667 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 24140 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 14:01:38,671 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 14:01:39,172 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 14:01:39,226 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 3 JPA repository interfaces.
2022-10-05 14:01:39,547 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 14:01:39,552 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 14:01:39,553 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 14:01:39,553 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 14:01:39,624 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 14:01:39,624 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 916 ms
2022-10-05 14:01:39,729 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 14:01:39,782 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 14:01:39,853 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 14:01:39,915 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 14:01:40,173 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 14:01:40,243 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 14:01:40,303 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 14:01:40,327 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 14:01:40,399 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 14:01:40,460 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 14:01:40,789 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 14:01:40,794 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:01:41,281 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 14:01:41,530 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 14:01:41,547 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 14:01:41,554 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:01:41,554 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 14:01:41,554 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:01:41,567 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 14:01:42,132 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.79 seconds (JVM running for 4.477)
2022-10-05 14:04:42,037 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 14:04:42,037 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 14:04:42,038 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 14:04:42,151 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :f2456199c3f66bb9eddb45
2022-10-05 14:04:42,152 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : f2456199c3f66bb9eddb45
2022-10-05 14:04:42,179 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-05 14:04:42,227 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 260
2022-10-05 14:04:44,959 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: f2456199c3f66bb9eddb45
2022-10-05 14:04:45,552 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: f2456199c3f66bb9eddb45
2022-10-05 14:04:48,046 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_DRIVER with token : f2456199c3f66bb9eddb45
2022-10-05 14:04:48,047 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Edit previous message with message Id : 261
2022-10-05 14:04:51,689 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_DRIVER callback type with first date :2022-10-10 with token: f2456199c3f66bb9eddb45
2022-10-05 14:04:54,788 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.NextMonthCallbackType [http-nio-5000-exec-6] Got Next Month Callback type with callback :20&f2456199c3f66bb9eddb45&7&2022-10-01 by user: Myachin97
2022-10-05 14:04:56,784 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.PreviousMonthCallbackType [http-nio-5000-exec-7] Got Next Month Callback type with callback :21&f2456199c3f66bb9eddb45&7&2022-11-01 by user: Myachin97
2022-10-05 14:04:57,700 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.NextMonthCallbackType [http-nio-5000-exec-8] Got Next Month Callback type with callback :20&f2456199c3f66bb9eddb45&7&2022-10-01 by user: Myachin97
2022-10-05 14:04:58,431 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_DRIVER_REQUEST with token : f2456199c3f66bb9eddb45
2022-10-05 14:04:58,432 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-9] Delete token from messages : f2456199c3f66bb9eddb45
2022-10-05 14:04:58,433 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Delete messages with chat id : 834450967 and messages : [260, 261, 262]
2022-10-05 14:05:03,310 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-10] Income message with token :404eda9640ad9949244120
2022-10-05 14:05:03,311 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :PASSENGER and token : 404eda9640ad9949244120
2022-10-05 14:05:03,313 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Edit previous message with message Id : 263
2022-10-05 14:05:05,722 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 404eda9640ad9949244120
2022-10-05 14:05:06,450 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: 404eda9640ad9949244120
2022-10-05 14:05:07,977 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_PASSENGER with token : 404eda9640ad9949244120
2022-10-05 14:05:07,979 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Edit previous message with message Id : 264
2022-10-05 14:05:09,367 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: 404eda9640ad9949244120
2022-10-05 14:05:10,035 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_PASSENGER callback type with second date : 2022-10-30 and token : 404eda9640ad9949244120
2022-10-05 14:05:10,037 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 265
2022-10-05 14:05:10,208 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-10-26 and second date:2022-10-30 with cities:[City(id=4, name=GDANSK), City(id=6, name=GRODNO)]
2022-10-05 14:05:11,749 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-6] Got callback : CANCEL_PASSENGER_REQUEST with token : 404eda9640ad9949244120
2022-10-05 14:05:11,751 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Delete messages with chat id : 834450967 and messages : [263, 264, 265, 266]
2022-10-05 14:05:12,402 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Delete token from messages : 404eda9640ad9949244120
2022-10-05 14:05:14,250 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-05 14:05:14,250 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Income message with token :e34ddaa6a9a0714a8f89c2
2022-10-05 14:05:15,064 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : PASSENGER and token: e34ddaa6a9a0714a8f89c2
2022-10-05 14:05:15,069 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:05:16,228 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :25 and token: e34ddaa6a9a0714a8f89c2
2022-10-05 14:05:16,231 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 25
2022-10-05 14:05:17,169 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_DATE_OF_OFFER type with token: e34ddaa6a9a0714a8f89c2
2022-10-05 14:05:17,169 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with id:25, with token :e34ddaa6a9a0714a8f89c2
2022-10-05 14:05:18,307 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.NextMonthCallbackType [http-nio-5000-exec-1] Got Next Month Callback type with callback :20&e34ddaa6a9a0714a8f89c2&29&2022-10-01 by user: Myachin97
2022-10-05 14:05:19,508 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-2] Got RETURN_TO_CHANGE_OF_OFFER type with token : e34ddaa6a9a0714a8f89c2
2022-10-05 14:05:19,510 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 25
2022-10-05 14:05:22,735 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: e34ddaa6a9a0714a8f89c2
2022-10-05 14:05:22,740 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:05:23,792 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-4] Got MAIN_MENU callback type
2022-10-05 14:05:23,797 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-05 14:05:23,810 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Delete token from messages : e34ddaa6a9a0714a8f89c2
2022-10-05 14:05:36,083 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-5] Got OFFERS_ACTIVITY callback type
2022-10-05 14:05:36,083 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Income message with token :1947068d3965e23b296263
2022-10-05 14:05:37,193 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 1947068d3965e23b296263
2022-10-05 14:05:37,196 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:05:39,257 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-05 14:05:39,259 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-05 14:05:39,263 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : 1947068d3965e23b296263
2022-10-05 14:05:56,787 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:05:56,789 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 14:05:56,794 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 14:09:07,483 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 5436 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 14:09:07,485 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 14:09:07,993 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 14:09:12,010 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 3965 ms. Found 3 JPA repository interfaces.
2022-10-05 14:09:37,006 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 14:09:37,100 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 29580 ms
2022-10-05 14:09:37,234 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 14:09:37,311 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 14:09:38,154 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 14:09:38,184 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 14:09:38,263 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 14:09:38,326 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 14:09:38,686 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 14:09:38,692 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:09:39,172 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 14:09:39,436 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 14:09:39,443 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:09:39,444 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:09:39,443 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 14:09:39,458 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 14:09:40,005 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 32.86 seconds (JVM running for 34.198)
2022-10-05 14:09:40,159 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:09:40,161 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 14:09:40,167 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 14:09:43,414 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 13376 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 14:09:43,416 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 14:09:43,883 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 14:09:43,935 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2022-10-05 14:09:44,260 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 14:09:44,265 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 14:09:44,265 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 14:09:44,265 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 14:09:44,353 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 14:09:44,353 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 905 ms
2022-10-05 14:09:44,487 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 14:09:44,546 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 14:09:44,624 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 14:09:44,691 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 14:09:44,962 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 14:09:45,026 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 14:09:45,089 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 14:09:45,116 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 14:09:45,194 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 14:09:45,251 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 14:09:45,577 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 14:09:45,582 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:09:46,040 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 14:09:46,270 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 14:09:46,285 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 14:09:46,293 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:09:46,293 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 14:09:46,294 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:09:46,306 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 14:09:46,818 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.788 seconds (JVM running for 4.497)
2022-10-05 14:09:51,547 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 14:09:51,548 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 14:09:51,549 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 14:09:51,684 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-05 14:09:51,685 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :2848ddbe45c2cb0ae07eba
2022-10-05 14:09:52,849 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 2848ddbe45c2cb0ae07eba
2022-10-05 14:09:52,854 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:09:54,314 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :25 and token: 2848ddbe45c2cb0ae07eba
2022-10-05 14:09:54,319 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 25
2022-10-05 14:09:55,863 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-4] Change description of offer with id: 25 and token : 2848ddbe45c2cb0ae07eba
2022-10-05 14:09:59,038 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-5] Got RETURN_TO_CHANGE_OF_OFFER type with token : 2848ddbe45c2cb0ae07eba
2022-10-05 14:09:59,042 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 25
2022-10-05 14:12:00,589 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: 2848ddbe45c2cb0ae07eba
2022-10-05 14:12:00,594 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:12:01,746 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-05 14:12:01,751 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-05 14:12:01,762 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Delete token from messages : 2848ddbe45c2cb0ae07eba
2022-10-05 14:12:06,763 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-9] Income message with token :474be3a0556a696e22a25e
2022-10-05 14:12:06,764 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-9] Got ACTIVITY callback type with activity :PASSENGER and token : 474be3a0556a696e22a25e
2022-10-05 14:12:06,797 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-9] Find all routes
2022-10-05 14:12:06,834 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Edit previous message with message Id : 267
2022-10-05 14:12:08,020 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 474be3a0556a696e22a25e
2022-10-05 14:12:08,717 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: 474be3a0556a696e22a25e
2022-10-05 14:12:10,474 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-2] Callback data with type: CHOSE_DATE_PASSENGER with token : 474be3a0556a696e22a25e
2022-10-05 14:12:10,477 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 268
2022-10-05 14:12:14,255 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-3] Got callback : CANCEL_PASSENGER_REQUEST with token : 474be3a0556a696e22a25e
2022-10-05 14:12:14,255 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Delete messages with chat id : 834450967 and messages : [267, 268, 269]
2022-10-05 14:12:14,553 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Delete token from messages : 474be3a0556a696e22a25e
2022-10-05 14:12:39,829 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Income message with token :914ffdbf248a2e41e641ed
2022-10-05 14:12:39,830 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-4] Got ACTIVITY callback type with activity :PASSENGER and token : 914ffdbf248a2e41e641ed
2022-10-05 14:12:39,831 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Edit previous message with message Id : 270
2022-10-05 14:12:41,485 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-5] Got callback : CANCEL_PASSENGER_REQUEST with token : 914ffdbf248a2e41e641ed
2022-10-05 14:12:41,486 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Delete messages with chat id : 834450967 and messages : [270, 271]
2022-10-05 14:12:41,621 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Delete token from messages : 914ffdbf248a2e41e641ed
2022-10-05 14:12:42,386 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-05 14:12:42,386 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-6] Income message with token :744b26927ceb160cd65b39
2022-10-05 14:12:43,501 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: 744b26927ceb160cd65b39
2022-10-05 14:12:43,505 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:12:44,598 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :19 and token: 744b26927ceb160cd65b39
2022-10-05 14:12:44,601 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 19
2022-10-05 14:12:58,484 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: 744b26927ceb160cd65b39
2022-10-05 14:12:58,488 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:12:59,899 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :25 and token: 744b26927ceb160cd65b39
2022-10-05 14:12:59,904 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 25
2022-10-05 14:14:10,996 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 744b26927ceb160cd65b39
2022-10-05 14:14:11,000 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:14:16,428 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type
2022-10-05 14:14:16,432 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-05 14:14:16,437 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Delete token from messages : 744b26927ceb160cd65b39
2022-10-05 14:34:31,936 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:34:31,939 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 14:34:31,944 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 14:34:36,796 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 18640 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 14:34:36,799 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 14:34:37,288 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 14:34:37,344 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2022-10-05 14:34:37,674 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 14:34:37,679 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 14:34:37,680 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 14:34:37,680 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 14:34:37,753 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 14:34:37,753 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 919 ms
2022-10-05 14:34:37,858 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 14:34:37,930 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 14:34:38,030 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 14:34:38,142 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 14:34:38,477 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 14:34:38,539 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 14:34:38,602 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 14:34:38,626 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 14:34:38,695 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 14:34:38,757 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 14:34:39,304 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 14:34:39,311 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:34:40,195 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 14:34:40,463 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 14:34:40,482 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 14:34:40,491 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:34:40,491 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 14:34:40,492 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:34:40,505 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 14:34:41,113 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.64 seconds (JVM running for 5.351)
2022-10-05 14:35:00,576 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 14:35:00,576 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 14:35:00,577 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 14:35:00,716 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-05 14:35:00,716 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Income message with token :644a2fbc3c4d5f83733057
2022-10-05 14:35:01,682 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 644a2fbc3c4d5f83733057
2022-10-05 14:35:01,684 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:35:03,350 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :25 and token: 644a2fbc3c4d5f83733057
2022-10-05 14:35:03,353 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 25
2022-10-05 14:35:09,218 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-4] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: 644a2fbc3c4d5f83733057
2022-10-05 14:35:09,245 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-4] Find all routes
2022-10-05 14:35:10,867 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-5] Got RETURN_TO_CHANGE_OF_OFFER type with token : 644a2fbc3c4d5f83733057
2022-10-05 14:35:10,871 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 25
2022-10-05 14:35:11,837 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 644a2fbc3c4d5f83733057
2022-10-05 14:35:11,840 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:35:13,386 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-05 14:35:13,392 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-05 14:35:13,402 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : 644a2fbc3c4d5f83733057
2022-10-05 14:35:33,229 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-05 14:35:33,229 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Income message with token :d84159a01ad805da522d4e
2022-10-05 14:35:34,259 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: d84159a01ad805da522d4e
2022-10-05 14:35:34,264 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:47:27,361 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-05 14:47:27,365 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-05 14:47:27,368 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-1] Delete token from messages : d84159a01ad805da522d4e
2022-10-05 14:47:58,988 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-05 14:47:58,989 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :8b477d95c6c82fc0c6250c
2022-10-05 14:48:00,768 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 8b477d95c6c82fc0c6250c
2022-10-05 14:48:00,772 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:48:01,738 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-4] Got MAIN_MENU callback type
2022-10-05 14:48:01,741 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-05 14:48:01,744 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-4] Delete token from messages : 8b477d95c6c82fc0c6250c
2022-10-05 14:48:02,793 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-5] Got OFFERS_ACTIVITY callback type
2022-10-05 14:48:02,793 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Income message with token :50466e844db4b55795f72a
2022-10-05 14:48:03,518 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 50466e844db4b55795f72a
2022-10-05 14:48:03,522 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:48:09,450 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-05 14:48:09,455 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-05 14:48:09,458 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Delete token from messages : 50466e844db4b55795f72a
2022-10-05 14:48:10,599 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-05 14:48:10,600 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-8] Income message with token :e84ae7968a55e9beccaf42
2022-10-05 14:48:11,459 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: e84ae7968a55e9beccaf42
2022-10-05 14:48:11,461 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:48:12,148 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :25 and token: e84ae7968a55e9beccaf42
2022-10-05 14:48:12,152 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 25
2022-10-05 14:48:18,100 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: e84ae7968a55e9beccaf42
2022-10-05 14:48:18,104 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:49:05,729 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-2] Got MAIN_MENU callback type
2022-10-05 14:49:05,732 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-05 14:49:05,737 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Delete token from messages : e84ae7968a55e9beccaf42
2022-10-05 14:49:11,881 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:49:11,883 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 14:49:11,889 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 14:49:16,971 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 1440 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 14:49:16,975 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 14:49:17,463 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 14:49:17,518 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-05 14:49:17,855 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 14:49:17,861 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 14:49:17,861 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 14:49:17,861 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 14:49:17,935 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 14:49:17,935 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 929 ms
2022-10-05 14:49:18,037 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 14:49:18,086 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 14:49:18,157 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 14:49:18,219 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 14:49:18,487 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 14:49:18,557 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 14:49:18,619 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 14:49:18,642 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 14:49:18,714 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 14:49:18,772 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 14:49:19,113 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 14:49:19,118 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:49:19,544 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 14:49:19,776 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 14:49:19,791 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 14:49:19,798 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:49:19,798 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 14:49:19,799 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:49:19,813 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 14:49:20,386 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.74 seconds (JVM running for 4.436)
2022-10-05 14:49:21,886 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 14:49:21,886 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 14:49:21,887 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 14:49:22,009 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-1] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 284df8995e1eb96a86502b
2022-10-05 14:49:22,010 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.ChangeOfferRequest wasn't found by token=284df8995e1eb96a86502b
2022-10-05 14:49:24,572 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-05 14:49:24,572 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Income message with token :f245f7b76d9f57fcec947e
2022-10-05 14:49:26,118 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: f245f7b76d9f57fcec947e
2022-10-05 14:49:26,123 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:49:28,920 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-4] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : f245f7b76d9f57fcec947e
2022-10-05 14:49:28,921 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-4] class com.godeltech.springgodelbot.dto.ChangeOfferRequest wasn't found by token=f245f7b76d9f57fcec947e
2022-10-05 14:49:38,857 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-5] Got OFFERS_ACTIVITY callback type
2022-10-05 14:49:38,858 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Income message with token :5f4bff8e226b8713349807
2022-10-05 14:49:40,254 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 5f4bff8e226b8713349807
2022-10-05 14:49:40,257 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:49:43,387 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-8] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 5f4bff8e226b8713349807
2022-10-05 14:49:43,388 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-8] class com.godeltech.springgodelbot.dto.ChangeOfferRequest wasn't found by token=5f4bff8e226b8713349807
2022-10-05 14:49:45,188 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-05 14:49:45,189 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-7] Income message with token :bb47c0965c8c6327ef7a83
2022-10-05 14:49:45,932 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: bb47c0965c8c6327ef7a83
2022-10-05 14:49:45,935 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:49:47,031 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :19 and token: bb47c0965c8c6327ef7a83
2022-10-05 14:49:47,035 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 19
2022-10-05 14:49:48,126 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: bb47c0965c8c6327ef7a83
2022-10-05 14:49:48,132 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:49:49,378 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-3] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : bb47c0965c8c6327ef7a83
2022-10-05 14:49:49,379 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] class com.godeltech.springgodelbot.dto.ChangeOfferRequest wasn't found by token=bb47c0965c8c6327ef7a83
2022-10-05 14:49:59,696 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-05 14:49:59,697 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :574572961612d3b3d656c1
2022-10-05 14:50:00,572 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : PASSENGER and token: 574572961612d3b3d656c1
2022-10-05 14:50:00,575 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:50:01,822 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_OFFER callback type with route id :25 and token: 574572961612d3b3d656c1
2022-10-05 14:50:01,825 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 25
2022-10-05 14:51:59,617 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:51:59,619 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 14:51:59,626 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-05 14:52:03,579 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16604 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-05 14:52:03,583 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-05 14:52:04,081 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-05 14:52:04,139 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2022-10-05 14:52:04,467 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-05 14:52:04,473 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-05 14:52:04,474 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-05 14:52:04,474 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-05 14:52:04,548 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-05 14:52:04,548 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 928 ms
2022-10-05 14:52:04,648 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-05 14:52:04,698 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-05 14:52:04,777 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-05 14:52:04,851 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-05 14:52:05,105 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-05 14:52:05,163 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-05 14:52:05,225 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-05 14:52:05,247 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-05 14:52:05,316 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-05 14:52:05,371 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-05 14:52:05,689 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-05 14:52:05,694 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:52:06,123 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-05 14:52:06,337 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-05 14:52:06,354 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-05 14:52:06,362 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:52:06,362 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-05 14:52:06,363 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://d6d0-82-209-241-194.eu.ngrok.io
2022-10-05 14:52:06,377 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-05
2022-10-05 14:52:07,161 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.944 seconds (JVM running for 4.623)
2022-10-05 14:52:07,612 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-05 14:52:07,612 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-05 14:52:07,613 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-05 14:52:07,728 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: 574572961612d3b3d656c1
2022-10-05 14:52:07,731 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-05 14:52:10,658 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-3] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 574572961612d3b3d656c1
2022-10-05 14:52:10,658 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-3] Delete token from messages : 574572961612d3b3d656c1
2022-10-05 14:52:36,049 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-2] Income message with token :9142b4a84c87d710fbf2ca
2022-10-05 14:52:36,050 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : 9142b4a84c87d710fbf2ca
2022-10-05 14:52:36,074 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-05 14:52:36,115 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 273
2022-10-05 14:52:38,276 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 9142b4a84c87d710fbf2ca
2022-10-05 14:52:40,159 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-5] Got callback : CANCEL_DRIVER_REQUEST with token : 9142b4a84c87d710fbf2ca
2022-10-05 14:52:40,160 INFO com.godeltech.springgodelbot.service.impl.MessageServiceImpl [http-nio-5000-exec-5] Delete token from messages : 9142b4a84c87d710fbf2ca
2022-10-05 14:52:40,160 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Delete messages with chat id : 834450967 and messages : [273, 274]
2022-10-05 14:52:48,565 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-05 14:52:48,567 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-05 14:52:48,572 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.

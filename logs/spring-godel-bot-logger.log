2022-10-14 08:44:01,499 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 4824 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 08:44:01,499 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 08:44:02,299 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 08:44:02,384 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 75 ms. Found 5 JPA repository interfaces.
2022-10-14 08:44:02,864 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 08:44:02,880 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 08:44:02,880 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 08:44:02,880 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 08:44:03,003 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 08:44:03,003 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1453 ms
2022-10-14 08:44:03,340 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 08:44:03,502 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 08:44:03,802 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 08:44:03,981 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 08:44:04,802 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 08:44:04,948 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 08:44:05,148 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 08:44:05,229 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 08:44:05,447 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 08:44:05,646 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 08:44:06,871 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 08:44:06,887 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 08:44:08,528 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 08:44:09,201 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 08:44:09,232 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 08:44:09,248 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://2373-82-209-241-194.eu.ngrok.io
2022-10-14 08:44:09,248 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 08:44:09,248 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://2373-82-209-241-194.eu.ngrok.io
2022-10-14 08:44:09,287 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 08:44:09,523 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 08:44:09,535 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 08:44:09,544 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 08:44:09,608 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 08:44:09,806 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 8.769 seconds (JVM running for 9.649)
2022-10-14 08:44:10,103 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 869
2022-10-14 08:44:10,155 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 862
2022-10-14 08:44:10,273 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 873
2022-10-14 08:44:10,354 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 876
2022-10-14 08:44:10,363 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@5f9c3bd1, com.godeltech.springgodelbot.model.entity.Token@6796ae9d, com.godeltech.springgodelbot.model.entity.Token@4f422317, com.godeltech.springgodelbot.model.entity.Token@3a526409, com.godeltech.springgodelbot.model.entity.Token@4ae9221, com.godeltech.springgodelbot.model.entity.Token@561e266f]
2022-10-14 08:45:05,734 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 08:45:05,734 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 08:45:05,749 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-14 08:45:08,643 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16912 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 08:45:08,643 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 08:45:09,185 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 08:45:09,259 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2022-10-14 08:45:09,602 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 08:45:09,602 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 08:45:09,602 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 08:45:09,602 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 08:45:09,685 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 08:45:09,685 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1010 ms
2022-10-14 08:45:09,795 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 08:45:09,866 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 08:45:09,958 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 08:45:10,053 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 08:45:10,377 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 08:45:10,464 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 08:45:10,521 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 08:45:10,547 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 08:45:10,622 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 08:45:10,689 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 08:45:11,089 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 08:45:11,089 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 08:45:11,647 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 08:45:11,863 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 08:45:11,887 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 08:45:11,889 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 08:45:11,889 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 08:45:11,889 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 08:45:11,912 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 08:45:11,991 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 08:45:11,998 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 08:45:12,002 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 08:45:12,036 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 08:45:12,042 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 08:45:12,242 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.945 seconds (JVM running for 4.706)
2022-10-14 08:45:12,294 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-14 08:45:12,294 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-14 08:45:12,294 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-14 08:45:35,220 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-14 08:45:35,559 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-4] Got ACTIVITY callback type with activity :DRIVER and token : 574464b6456f84bc93af4f by user : Myachin97
2022-10-14 08:45:35,603 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-4] Find all routes
2022-10-14 08:45:35,640 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Save new request with tokenId: 574464b6456f84bc93af4f with activity : DRIVER
2022-10-14 08:45:35,641 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :574464b6456f84bc93af4f
2022-10-14 08:45:37,283 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 08:45:37,354 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-5] Got /start message
2022-10-14 08:45:37,368 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 08:45:37,447 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check and save user with id: 834450967 username : Myachin97
2022-10-14 08:45:37,515 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97, isValid=true)
2022-10-14 08:45:37,552 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token with userId :834450967 and chatId :834450967
2022-10-14 08:47:12,642 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : Myachin97
2022-10-14 08:47:12,861 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-7] Got /start message
2022-10-14 08:47:12,861 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : Myachin97
2022-10-14 08:47:12,936 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check and save user with id: 834450967 username : Myachin97
2022-10-14 08:47:12,938 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97, isValid=true)
2022-10-14 08:47:12,947 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token with userId :834450967 and chatId :834450967
2022-10-14 08:49:31,822 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 08:49:31,822 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 08:49:31,834 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-14 08:49:40,389 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 3760 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 08:49:40,391 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 08:49:40,917 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 08:49:40,994 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2022-10-14 08:49:41,402 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 08:49:41,408 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 08:49:41,408 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 08:49:41,408 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 08:49:41,493 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 08:49:41,494 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1075 ms
2022-10-14 08:49:41,602 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 08:49:41,665 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 08:49:41,748 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 08:49:41,838 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 08:49:42,156 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 08:49:42,239 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 08:49:42,314 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 08:49:42,338 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 08:49:42,424 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 08:49:42,485 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 08:49:42,920 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 08:49:42,926 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 08:49:43,469 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 08:49:43,676 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 08:49:43,699 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 08:49:43,708 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 08:49:43,707 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 08:49:43,709 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 08:49:43,725 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 08:49:43,831 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 08:49:43,839 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 08:49:43,839 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 08:49:43,843 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 08:49:43,853 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 08:49:43,995 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.951 seconds (JVM running for 4.759)
2022-10-14 08:51:44,780 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-14 08:51:44,781 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-14 08:51:44,785 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 4 ms
2022-10-14 08:51:45,136 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 08:51:45,502 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-14 08:51:45,518 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 08:51:45,595 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check and save user with id: 834450967 username : Myachin97
2022-10-14 08:51:45,633 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97, isValid=true)
2022-10-14 08:51:45,691 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967 and chatId :834450967
2022-10-14 08:53:49,417 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 08:53:49,419 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 08:53:49,425 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-14 08:53:53,804 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 18212 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 08:53:53,807 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 08:53:54,362 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 08:53:54,423 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2022-10-14 08:53:54,765 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 08:53:54,772 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 08:53:54,772 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 08:53:54,772 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 08:53:54,856 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 08:53:54,856 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1020 ms
2022-10-14 08:53:54,962 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 08:53:55,022 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 08:53:55,100 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 08:53:55,186 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 08:53:55,478 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 08:53:55,554 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 08:53:55,618 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 08:53:55,640 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 08:53:55,709 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 08:53:55,765 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 08:53:56,166 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 08:53:56,170 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 08:53:56,680 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 08:53:56,886 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 08:53:56,902 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 08:53:56,910 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 08:53:56,909 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 08:53:56,910 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 08:53:56,928 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 08:53:57,011 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 08:53:57,016 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 08:53:57,019 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 08:53:57,055 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 08:53:57,060 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 08:53:57,268 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.799 seconds (JVM running for 4.536)
2022-10-14 08:54:04,605 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-14 08:54:04,605 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-14 08:54:04,607 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-14 08:54:04,758 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 08:54:04,968 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-14 08:54:04,974 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 08:54:05,032 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check and save user with id: 834450967 username : Myachin97
2022-10-14 08:54:05,070 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97, isValid=true)
2022-10-14 08:54:05,199 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967 and chatId :834450967
2022-10-14 10:09:14,700 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 10:09:14,700 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 10:09:14,711 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-14 12:36:54,102 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15612 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 12:36:54,105 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 12:36:54,634 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 12:36:54,695 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2022-10-14 12:36:55,026 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 12:36:55,031 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 12:36:55,031 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 12:36:55,031 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 12:36:55,110 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 12:36:55,110 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 972 ms
2022-10-14 12:36:55,212 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 12:36:55,266 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 12:36:55,345 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 12:36:55,423 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 12:36:55,735 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 12:36:55,823 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,825 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,827 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,829 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,830 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,832 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,833 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,834 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,835 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 12:36:55,837 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/v.0.9/2022-10-14-changes-filling-table-city.xml::2022-10-14-changes-filling-table-city::a.miachyn ran successfully in 29ms
2022-10-14 12:36:55,846 INFO liquibase.logging.core.JavaLogger [main] Data updated in city
2022-10-14 12:36:55,848 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/v.0.9/2022-10-14-changes-correct-name-city.xml::2022-10-14-changes-correct-name-city::a.miachyn ran successfully in 3ms
2022-10-14 12:36:55,854 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 12:36:55,920 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 12:36:55,943 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 12:36:56,027 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 12:36:56,087 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 12:36:56,498 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 12:36:56,503 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 12:36:56,988 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 12:36:57,191 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 12:36:57,210 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 12:36:57,217 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 12:36:57,217 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 12:36:57,218 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 12:36:57,232 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 12:36:57,322 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 12:36:57,327 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 12:36:57,328 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 12:36:57,331 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 12:36:57,336 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 12:36:57,575 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.813 seconds (JVM running for 4.786)
2022-10-14 12:44:36,913 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-14 12:44:36,913 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-14 12:44:36,917 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 3 ms
2022-10-14 12:44:37,067 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 12:44:37,517 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 9a4f18b83e6896cafa6f5c by user : Myachin97
2022-10-14 12:44:37,535 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-14 12:44:37,552 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: 9a4f18b83e6896cafa6f5c with activity : PASSENGER
2022-10-14 12:44:37,552 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :9a4f18b83e6896cafa6f5c
2022-10-14 14:45:46,967 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 18164 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 14:45:46,971 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 14:45:47,700 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 14:45:47,763 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2022-10-14 14:45:48,145 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 14:45:48,151 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 14:45:48,151 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 14:45:48,151 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 14:45:48,254 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 14:45:48,254 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1242 ms
2022-10-14 14:45:48,378 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 14:45:48,442 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 14:45:48,524 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 14:45:48,592 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 14:45:48,935 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 14:45:49,030 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 14:45:49,033 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.0.9/2022-10-14-changes-filling-table-city.xml::2022-10-14-changes-filling-table-city::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "city_name_key"
  Detail: Key (name)=(WARSAW) already exists. [Failed SQL: (0) INSERT INTO public.city (name) VALUES ('WARSAW')]
2022-10-14 14:45:49,033 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 14:45:49,040 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 14:45:49,043 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 14:45:49,052 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 14:45:49,068 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.0.9/2022-10-14-changes-filling-table-city.xml::2022-10-14-changes-filling-table-city::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "city_name_key"
  Detail: Key (name)=(WARSAW) already exists. [Failed SQL: (0) INSERT INTO public.city (name) VALUES ('WARSAW')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.0.9/2022-10-14-changes-filling-table-city.xml::2022-10-14-changes-filling-table-city::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "city_name_key"
  Detail: Key (name)=(WARSAW) already exists. [Failed SQL: (0) INSERT INTO public.city (name) VALUES ('WARSAW')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.0.9/2022-10-14-changes-filling-table-city.xml::2022-10-14-changes-filling-table-city::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "city_name_key"
  Detail: Key (name)=(WARSAW) already exists. [Failed SQL: (0) INSERT INTO public.city (name) VALUES ('WARSAW')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "city_name_key"
  Detail: Key (name)=(WARSAW) already exists. [Failed SQL: (0) INSERT INTO public.city (name) VALUES ('WARSAW')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "city_name_key"
  Detail: Key (name)=(WARSAW) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-14 14:47:00,065 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 280 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 14:47:00,068 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 14:47:00,615 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 14:47:00,677 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2022-10-14 14:47:01,062 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 14:47:01,069 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 14:47:01,070 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 14:47:01,070 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 14:47:01,165 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 14:47:01,166 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1062 ms
2022-10-14 14:47:01,293 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 14:47:01,352 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 14:47:01,437 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 14:47:01,510 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 14:47:01,865 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 14:47:01,964 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,966 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,967 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,968 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,970 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,971 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,973 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,974 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,976 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,977 INFO liquibase.logging.core.JavaLogger [main] New row inserted into city
2022-10-14 14:47:01,979 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/v.0.9/2022-10-14-changes-filling-table-city.xml::2022-10-14-changes-filling-table-city::a.miachyn ran successfully in 18ms
2022-10-14 14:47:01,988 INFO liquibase.logging.core.JavaLogger [main] Data updated in city
2022-10-14 14:47:01,989 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/v.0.9/2022-10-14-changes-correct-name-city.xml::2022-10-14-changes-correct-name-city::a.miachyn ran successfully in 3ms
2022-10-14 14:47:01,996 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 14:47:02,080 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 14:47:02,111 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 14:47:02,195 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 14:47:02,263 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 14:47:02,704 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 14:47:02,709 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 14:47:03,256 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 14:47:03,488 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 14:47:03,504 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 14:47:03,513 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 14:47:03,514 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 14:47:03,514 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://5bf3-92-38-63-218.eu.ngrok.io
2022-10-14 14:47:03,528 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 14:47:03,609 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 14:47:03,616 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 14:47:03,620 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 14:47:03,654 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 14:47:03,659 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 14:47:03,780 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.13 seconds (JVM running for 4.946)
2022-10-14 14:47:41,929 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 14:47:41,931 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 14:47:41,937 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-14 14:47:44,914 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 18784 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 14:47:44,918 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 14:47:45,504 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 14:47:45,575 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 65 ms. Found 5 JPA repository interfaces.
2022-10-14 14:47:45,953 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 14:47:45,963 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 14:47:45,964 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 14:47:45,964 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 14:47:46,050 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 14:47:46,051 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1101 ms
2022-10-14 14:47:46,179 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 14:47:46,235 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 14:47:46,315 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 14:47:46,394 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 14:47:46,745 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 14:47:46,823 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 14:47:46,899 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 14:47:46,926 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 14:47:47,004 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 14:47:47,068 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 14:47:47,508 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 14:47:47,513 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 14:47:48,049 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 14:47:48,284 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 14:47:48,300 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 14:47:48,308 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://2d6c-91-220-250-49.eu.ngrok.io
2022-10-14 14:47:48,307 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 14:47:48,308 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://2d6c-91-220-250-49.eu.ngrok.io
2022-10-14 14:47:48,321 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 14:47:48,395 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 14:47:48,400 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 14:47:48,403 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 14:47:48,435 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 14:47:48,439 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 14:47:48,613 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.092 seconds (JVM running for 4.926)
2022-10-14 14:47:48,655 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-14 14:47:48,656 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-14 14:47:48,656 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-14 14:47:48,805 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 14:47:48,998 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_PASSENGER_REQUEST with token : 9a4f18b83e6896cafa6f5c by user : Myachin97
2022-10-14 14:47:49,003 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 9a4f18b83e6896cafa6f5c
2022-10-14 14:47:49,039 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Delete request with id : 214
2022-10-14 14:47:49,120 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967, messageId: 1000 and chatId :834450967
2022-10-14 14:47:52,267 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-14 14:47:52,320 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : da411594d04b56d34b4e31 by user : Myachin97
2022-10-14 14:47:52,345 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-14 14:47:52,358 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: da411594d04b56d34b4e31 with activity : DRIVER
2022-10-14 14:47:52,358 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :da411594d04b56d34b4e31
2022-10-14 14:47:54,750 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-14 14:47:54,816 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 1 and token: da411594d04b56d34b4e31 by user : Myachin97
2022-10-14 14:47:54,819 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : da411594d04b56d34b4e31
2022-10-14 14:47:54,828 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 215
2022-10-14 14:47:54,829 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 215
2022-10-14 14:47:57,530 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-14 14:47:57,586 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-4] Got callback : CANCEL_DRIVER_REQUEST with token : da411594d04b56d34b4e31 by user : Myachin97
2022-10-14 14:47:57,588 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : da411594d04b56d34b4e31
2022-10-14 14:47:57,599 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 215
2022-10-14 14:47:57,653 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 1001 and chatId :834450967
2022-10-14 14:47:58,802 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 14:47:58,882 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :DRIVER and token : 3642918bf479fb0bec71a6 by user : Myachin97
2022-10-14 14:47:58,885 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Save new request with tokenId: 3642918bf479fb0bec71a6 with activity : DRIVER
2022-10-14 14:47:58,886 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :3642918bf479fb0bec71a6
2022-10-14 15:09:39,128 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 15:09:39,130 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 15:09:39,135 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-14 15:09:44,205 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8608 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 15:09:44,208 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 15:09:44,773 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 15:09:44,831 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-10-14 15:09:45,198 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 15:09:45,204 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 15:09:45,205 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 15:09:45,205 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 15:09:45,330 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 15:09:45,330 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1082 ms
2022-10-14 15:09:45,454 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 15:09:45,509 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 15:09:45,588 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 15:09:45,665 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 15:09:45,996 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 15:09:46,074 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 15:09:46,141 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 15:09:46,163 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 15:09:46,245 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 15:09:46,305 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 15:09:46,690 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 15:09:46,695 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 15:09:47,184 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 15:09:47,389 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 15:09:47,405 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 15:09:47,411 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://2d6c-91-220-250-49.eu.ngrok.io
2022-10-14 15:09:47,411 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://2d6c-91-220-250-49.eu.ngrok.io
2022-10-14 15:09:47,411 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 15:09:47,426 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 15:09:47,513 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 15:09:47,519 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 15:09:47,519 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 15:09:47,522 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 15:09:47,528 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 15:09:47,668 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.887 seconds (JVM running for 4.61)
2022-10-14 15:09:59,029 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-14 15:09:59,029 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-14 15:09:59,030 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-14 15:09:59,223 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 15:09:59,656 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 3642918bf479fb0bec71a6 by user : Myachin97
2022-10-14 15:09:59,670 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 3642918bf479fb0bec71a6
2022-10-14 15:09:59,705 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Delete request with id : 216
2022-10-14 15:09:59,882 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967, messageId: 1002 and chatId :834450967
2022-10-14 15:10:01,212 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-14 15:10:01,324 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:01,367 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-14 15:10:01,382 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: b4472d822b39e5e759b254 with activity : DRIVER
2022-10-14 15:10:01,382 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :b4472d822b39e5e759b254
2022-10-14 15:10:02,452 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-14 15:10:02,537 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:02,545 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:02,554 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 217
2022-10-14 15:10:02,554 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 217
2022-10-14 15:10:04,207 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-14 15:10:04,351 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:04,357 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:04,367 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 217
2022-10-14 15:10:04,368 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 217
2022-10-14 15:10:09,468 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 15:10:09,564 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 18 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:09,569 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:09,578 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 217
2022-10-14 15:10:09,578 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 217
2022-10-14 15:10:10,556 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Is he member of group? user : Myachin97
2022-10-14 15:10:10,711 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 20 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:10,715 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:10,723 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 217
2022-10-14 15:10:10,723 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 217
2022-10-14 15:10:13,361 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : Myachin97
2022-10-14 15:10:13,444 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 22 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:13,446 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:13,455 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 217
2022-10-14 15:10:13,455 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 217
2022-10-14 15:10:17,087 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group? user : Myachin97
2022-10-14 15:10:17,170 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 22 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:17,175 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:17,183 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 217
2022-10-14 15:10:17,183 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 217
2022-10-14 15:10:17,907 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Is he member of group? user : Myachin97
2022-10-14 15:10:17,984 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 20 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:17,988 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:17,997 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 217
2022-10-14 15:10:17,997 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 217
2022-10-14 15:10:18,696 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Is he member of group? user : Myachin97
2022-10-14 15:10:18,798 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 18 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:18,803 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:18,814 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 217
2022-10-14 15:10:18,815 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 217
2022-10-14 15:10:20,031 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 15:10:20,139 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 2 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:20,143 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:20,151 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 217
2022-10-14 15:10:20,152 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 217
2022-10-14 15:10:22,316 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-14 15:10:22,417 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 17 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:22,423 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:22,429 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 217
2022-10-14 15:10:22,429 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 217
2022-10-14 15:10:29,819 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-14 15:10:29,909 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 19 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:29,913 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:29,922 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 217
2022-10-14 15:10:29,922 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 217
2022-10-14 15:10:31,545 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-14 15:10:31,643 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 19 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:31,648 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:31,657 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 217
2022-10-14 15:10:31,658 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 217
2022-10-14 15:10:34,346 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 15:10:34,430 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 17 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:34,434 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:34,440 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 217
2022-10-14 15:10:34,440 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 217
2022-10-14 15:10:40,663 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Is he member of group? user : Myachin97
2022-10-14 15:10:40,778 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 6 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:40,782 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:40,789 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 217
2022-10-14 15:10:40,789 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 217
2022-10-14 15:10:56,884 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : Myachin97
2022-10-14 15:10:57,018 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:57,023 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:57,032 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 217
2022-10-14 15:10:57,032 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 217
2022-10-14 15:10:58,897 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group? user : Myachin97
2022-10-14 15:10:58,980 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:10:58,985 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:10:58,993 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 217
2022-10-14 15:10:58,993 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 217
2022-10-14 15:11:05,697 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Is he member of group? user : Myachin97
2022-10-14 15:11:05,860 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 2 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:11:05,866 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:11:05,875 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 217
2022-10-14 15:11:05,876 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 217
2022-10-14 15:11:06,944 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Is he member of group? user : Myachin97
2022-10-14 15:11:07,052 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 3 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:11:07,057 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:11:07,066 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 217
2022-10-14 15:11:07,066 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 217
2022-10-14 15:11:08,382 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 15:11:08,456 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 4 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:11:08,462 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:11:08,470 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 217
2022-10-14 15:11:08,471 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 217
2022-10-14 15:11:09,421 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-14 15:11:09,614 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 6 and token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:11:09,619 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:11:09,626 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 217
2022-10-14 15:11:09,627 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 217
2022-10-14 15:11:11,056 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-14 15:11:11,150 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-3] Got callback : CANCEL_DRIVER_REQUEST with token : b4472d822b39e5e759b254 by user : Myachin97
2022-10-14 15:11:11,154 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : b4472d822b39e5e759b254
2022-10-14 15:11:11,160 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Delete request with id : 217
2022-10-14 15:11:11,232 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967, messageId: 1003 and chatId :834450967
2022-10-14 15:11:12,506 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-14 15:11:12,570 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-4] Got ACTIVITY callback type with activity :DRIVER and token : 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:12,574 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Save new request with tokenId: 4446dd92325a87ff6db3c5 with activity : DRIVER
2022-10-14 15:11:12,574 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :4446dd92325a87ff6db3c5
2022-10-14 15:11:14,338 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 15:11:14,426 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 6 and token: 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:14,432 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:14,441 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 218
2022-10-14 15:11:14,441 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 218
2022-10-14 15:11:15,638 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Is he member of group? user : Myachin97
2022-10-14 15:11:15,782 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:15,788 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:15,797 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 218
2022-10-14 15:11:15,797 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 218
2022-10-14 15:11:17,165 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : Myachin97
2022-10-14 15:11:17,287 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 3 and token : 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:17,291 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:17,299 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 218
2022-10-14 15:11:17,299 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 218
2022-10-14 15:11:18,250 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group? user : Myachin97
2022-10-14 15:11:18,452 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 6 and token : 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:18,457 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:18,466 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 218
2022-10-14 15:11:18,467 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 218
2022-10-14 15:11:38,635 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Is he member of group? user : Myachin97
2022-10-14 15:11:38,707 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 20 and token: 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:38,711 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:38,719 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 218
2022-10-14 15:11:38,720 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 218
2022-10-14 15:11:39,516 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Is he member of group? user : Myachin97
2022-10-14 15:11:39,564 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 20 and token : 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:39,567 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:39,573 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 218
2022-10-14 15:11:39,573 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 218
2022-10-14 15:11:40,319 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 15:11:40,374 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 22 and token: 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:40,377 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:40,385 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 218
2022-10-14 15:11:40,385 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 218
2022-10-14 15:11:40,970 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-14 15:11:41,020 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 20 and token: 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:41,022 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:41,028 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 218
2022-10-14 15:11:41,029 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 218
2022-10-14 15:11:41,923 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-14 15:11:42,111 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_DRIVER with token : 4446dd92325a87ff6db3c5 by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-14 15:11:42,115 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:43,765 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-14 15:11:43,827 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_DRIVER callback type with first date :2022-10-26 with token: 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:43,830 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:43,838 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 218
2022-10-14 15:11:43,839 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 218
2022-10-14 15:11:44,918 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 15:11:44,981 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FinishDateDriverCallbackType [http-nio-5000-exec-5] Get callback : FINISH_CHOSE_DATE_DRIVER type with token : 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:44,985 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:44,994 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find passengers by first date :2022-10-26 and second date:null with cities:[SOFIA, LODZ]
2022-10-14 15:11:46,442 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Is he member of group? user : Myachin97
2022-10-14 15:11:46,489 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-6] Got callback type :CHECK_DRIVER_REQUEST with token :4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:46,493 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:46,529 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check and save user with id: 834450967 username : Myachin97
2022-10-14 15:11:46,552 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97, isValid=true)
2022-10-14 15:11:46,571 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Prepare request with id :218 and user id : 834450967 for save with description
2022-10-14 15:11:49,478 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : Myachin97
2022-10-14 15:11:49,581 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Find request for saving with user id : 834450967
2022-10-14 15:11:49,593 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-7] Got message for saving description of driver with token :4446dd92325a87ff6db3c5 
2022-10-14 15:11:49,728 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Save supplier by: Request(id=218, offerId=null, cities=[SOFIA, LODZ], firstDate=2022-10-26, secondDate=null, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@79b2eeb8, activity=DRIVER, description=Yap yap)
2022-10-14 15:11:49,771 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 218
2022-10-14 15:11:49,771 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 218
2022-10-14 15:11:49,788 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find passengers by first date :2022-10-26 and second date:null with cities:[SOFIA, LODZ]
2022-10-14 15:11:52,609 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group? user : Myachin97
2022-10-14 15:11:52,684 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_DRIVER_REQUEST with token : 4446dd92325a87ff6db3c5 by user : Myachin97
2022-10-14 15:11:52,687 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 4446dd92325a87ff6db3c5
2022-10-14 15:11:52,692 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Delete request with id : 218
2022-10-14 15:11:52,761 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token with userId :834450967, messageId: 1006 and chatId :834450967
2022-10-14 15:20:17,210 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Is he member of group? user : Myachin97
2022-10-14 15:20:17,464 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :DRIVER and token : e94ed298a9dbb63df3c906 by user : Myachin97
2022-10-14 15:20:17,468 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Save new request with tokenId: e94ed298a9dbb63df3c906 with activity : DRIVER
2022-10-14 15:20:17,470 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :e94ed298a9dbb63df3c906
2022-10-14 15:38:41,842 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 15:38:41,844 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 15:38:41,849 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-14 15:40:57,806 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 1428 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 15:40:57,809 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 15:40:58,278 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 15:40:58,332 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2022-10-14 15:40:58,657 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 15:40:58,662 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 15:40:58,663 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 15:40:58,663 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 15:40:58,736 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 15:40:58,736 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 893 ms
2022-10-14 15:40:58,835 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 15:40:58,884 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 15:40:58,959 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 15:40:59,034 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 15:40:59,336 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 15:40:59,431 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 15:40:59,497 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 15:40:59,521 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 15:40:59,592 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 15:40:59,650 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 15:41:00,046 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 15:41:00,051 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 15:41:00,615 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 15:41:00,815 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 15:41:00,830 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 15:41:00,838 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://2d6c-91-220-250-49.eu.ngrok.io
2022-10-14 15:41:00,838 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://2d6c-91-220-250-49.eu.ngrok.io
2022-10-14 15:41:00,838 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 15:41:00,852 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 15:41:00,919 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 15:41:00,925 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 15:41:00,928 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 15:41:00,953 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 15:41:00,957 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 15:41:01,155 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.707 seconds (JVM running for 4.417)
2022-10-14 15:41:13,784 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-14 15:41:13,784 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-14 15:41:13,785 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-14 15:41:13,970 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 15:41:14,318 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : e94ed298a9dbb63df3c906 by user : Myachin97
2022-10-14 15:41:14,325 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : e94ed298a9dbb63df3c906
2022-10-14 15:41:14,352 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Delete request with id : 219
2022-10-14 15:41:14,484 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967, messageId: 1007 and chatId :834450967
2022-10-14 15:41:15,573 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-14 15:41:15,672 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-3] Got ACTIVITY callback type with activity :DRIVER and token : a948fd9ba0ffa079dce185 by user : Myachin97
2022-10-14 15:41:15,700 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-3] Find all routes
2022-10-14 15:41:15,711 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Save new request with tokenId: a948fd9ba0ffa079dce185 with activity : DRIVER
2022-10-14 15:41:15,711 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :a948fd9ba0ffa079dce185
2022-10-14 15:41:16,472 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-14 15:41:16,582 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 21 and token: a948fd9ba0ffa079dce185 by user : Myachin97
2022-10-14 15:41:16,588 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : a948fd9ba0ffa079dce185
2022-10-14 15:41:16,594 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 220
2022-10-14 15:41:16,595 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 220
2022-10-14 15:41:17,155 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-14 15:41:17,220 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 24 and token: a948fd9ba0ffa079dce185 by user : Myachin97
2022-10-14 15:41:17,223 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : a948fd9ba0ffa079dce185
2022-10-14 15:41:17,233 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 220
2022-10-14 15:41:17,233 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 220
2022-10-14 15:41:18,647 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 15:41:18,799 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-5] Got callback : CANCEL_DRIVER_REQUEST with token : a948fd9ba0ffa079dce185 by user : Myachin97
2022-10-14 15:41:18,802 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : a948fd9ba0ffa079dce185
2022-10-14 15:41:18,807 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Delete request with id : 220
2022-10-14 15:41:18,938 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token with userId :834450967, messageId: 1008 and chatId :834450967
2022-10-14 15:41:20,206 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Is he member of group? user : Myachin97
2022-10-14 15:41:20,269 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type with token : 464c00bf79c5b9b5d1f14d by user : Myachin97
2022-10-14 15:41:20,272 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :464c00bf79c5b9b5d1f14d
2022-10-14 15:41:20,295 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check and save user with id: 834450967 username : Myachin97
2022-10-14 15:41:20,321 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97, isValid=true)
2022-10-14 15:41:21,990 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group? user : Myachin97
2022-10-14 15:41:22,065 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : DRIVER and token: 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:22,070 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Check request by tokenId :464c00bf79c5b9b5d1f14d
2022-10-14 15:41:22,096 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :DRIVER
2022-10-14 15:41:22,109 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-8] Get ordered cities
2022-10-14 15:41:22,128 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-8] Get ordered cities
2022-10-14 15:41:22,130 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-8] Get ordered cities
2022-10-14 15:41:23,667 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : Myachin97
2022-10-14 15:41:23,798 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_OFFER callback type with route id :20 and token: 464c00bf79c5b9b5d1f14d by user :Myachin97
2022-10-14 15:41:23,801 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:23,809 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offer by id : 20
2022-10-14 15:41:23,811 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-7] Get ordered cities
2022-10-14 15:41:25,009 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Is he member of group? user : Myachin97
2022-10-14 15:41:25,076 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_DATE_OF_OFFER type with token: 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:25,080 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:25,088 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with id:20, with token :464c00bf79c5b9b5d1f14d
2022-10-14 15:41:26,351 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Is he member of group? user : Myachin97
2022-10-14 15:41:26,415 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-05 and token: 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:26,418 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:26,426 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 221
2022-10-14 15:41:26,426 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 221
2022-10-14 15:41:29,650 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-14 15:41:29,741 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-1] Got RETURN_TO_CHANGE_OF_OFFER type with token : 464c00bf79c5b9b5d1f14d by user : Myachin97
2022-10-14 15:41:29,745 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:29,753 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Refresh change offer request with id : 20
2022-10-14 15:41:29,754 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 20
2022-10-14 15:41:29,756 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Get ordered cities
2022-10-14 15:41:40,063 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-14 15:41:40,145 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ShowSuitableOffersCallbackType [http-nio-5000-exec-3] Get callback : SHOW_SUITABLE_OFFERS type with token : 464c00bf79c5b9b5d1f14d by user : Myachin97
2022-10-14 15:41:40,149 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:40,159 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find passengers by first date :2022-11-05 and second date:null with cities:[GRODNO, GDANSK, WROCLAW]
2022-10-14 15:41:40,167 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-3] Get ordered cities
2022-10-14 15:41:46,402 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-14 15:41:46,506 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :20 and token: 464c00bf79c5b9b5d1f14d by user :Myachin97
2022-10-14 15:41:46,510 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:46,519 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 20
2022-10-14 15:41:46,521 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-4] Get ordered cities
2022-10-14 15:41:48,815 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-14 15:41:48,879 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:48,883 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :464c00bf79c5b9b5d1f14d
2022-10-14 15:41:48,904 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-14 15:41:48,908 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Get ordered cities
2022-10-14 15:41:48,910 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Get ordered cities
2022-10-14 15:41:48,911 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Get ordered cities
2022-10-14 15:41:50,464 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : Myachin97
2022-10-14 15:41:50,534 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_OFFER callback type with route id :32 and token: 464c00bf79c5b9b5d1f14d by user :Myachin97
2022-10-14 15:41:50,540 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:50,547 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 32
2022-10-14 15:41:50,549 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-5] Get ordered cities
2022-10-14 15:41:52,209 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Is he member of group? user : Myachin97
2022-10-14 15:41:52,327 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ShowSuitableOffersCallbackType [http-nio-5000-exec-6] Get callback : SHOW_SUITABLE_OFFERS type with token : 464c00bf79c5b9b5d1f14d by user : Myachin97
2022-10-14 15:41:52,331 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:52,337 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-26 and second date:null with cities:[SOFIA, LODZ]
2022-10-14 15:41:53,392 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group? user : Myachin97
2022-10-14 15:41:53,516 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :32 and token: 464c00bf79c5b9b5d1f14d by user :Myachin97
2022-10-14 15:41:53,520 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:53,527 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 32
2022-10-14 15:41:53,530 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-8] Get ordered cities
2022-10-14 15:41:54,346 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : Myachin97
2022-10-14 15:41:54,418 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : DRIVER and token: 464c00bf79c5b9b5d1f14d
2022-10-14 15:41:54,427 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Check request by tokenId :464c00bf79c5b9b5d1f14d
2022-10-14 15:41:54,439 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :DRIVER
2022-10-14 15:41:54,443 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-7] Get ordered cities
2022-10-14 15:41:54,445 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-7] Get ordered cities
2022-10-14 15:41:54,446 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-7] Get ordered cities
2022-10-14 15:42:34,645 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Is he member of group? user : Myachin97
2022-10-14 15:42:34,881 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type with token : 9a4058ac7dcfa785ac5bea by user : Myachin97
2022-10-14 15:42:34,883 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :9a4058ac7dcfa785ac5bea
2022-10-14 15:42:34,901 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Check and save user with id: 834450967 username : Myachin97
2022-10-14 15:42:34,902 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97, isValid=true)
2022-10-14 16:39:40,973 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 16:39:40,975 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 16:39:40,980 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-14 16:39:46,600 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 11076 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 16:39:46,603 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 16:39:47,123 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 16:39:47,183 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-10-14 16:39:47,507 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 16:39:47,512 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 16:39:47,513 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 16:39:47,513 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 16:39:47,589 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 16:39:47,589 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 951 ms
2022-10-14 16:39:47,691 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 16:39:47,741 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 16:39:47,816 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 16:39:47,880 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 16:39:48,200 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 16:39:48,264 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 16:39:48,268 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     2 changes have validation failures
          columnName is required, db/changelog/v.1.0/2022-10-14-changes-update-table-request.xml::2022-10-14-changes-update-table-request::a.miachyn
          columnType is required, db/changelog/v.1.0/2022-10-14-changes-update-table-request.xml::2022-10-14-changes-update-table-request::a.miachyn

2022-10-14 16:39:48,268 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 16:39:48,275 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 16:39:48,278 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 16:39:48,286 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 16:39:48,302 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     2 changes have validation failures
          columnName is required, db/changelog/v.1.0/2022-10-14-changes-update-table-request.xml::2022-10-14-changes-update-table-request::a.miachyn
          columnType is required, db/changelog/v.1.0/2022-10-14-changes-update-table-request.xml::2022-10-14-changes-update-table-request::a.miachyn

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     2 changes have validation failures
          columnName is required, db/changelog/v.1.0/2022-10-14-changes-update-table-request.xml::2022-10-14-changes-update-table-request::a.miachyn
          columnType is required, db/changelog/v.1.0/2022-10-14-changes-update-table-request.xml::2022-10-14-changes-update-table-request::a.miachyn

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2022-10-14 16:40:53,609 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 19384 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 16:40:53,612 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 16:40:54,099 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 16:40:54,154 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2022-10-14 16:40:54,483 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 16:40:54,489 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 16:40:54,489 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 16:40:54,489 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 16:40:54,563 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 16:40:54,563 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 921 ms
2022-10-14 16:40:54,662 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 16:40:54,715 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 16:40:54,790 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 16:40:54,862 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 16:40:55,172 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 16:40:55,266 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 16:40:55,268 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
2022-10-14 16:40:55,268 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 16:40:55,275 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 16:40:55,278 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 16:40:55,286 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 16:40:55,302 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-14 16:41:44,897 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 20304 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 16:41:44,900 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 16:41:45,374 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 16:41:45,427 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2022-10-14 16:41:45,747 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 16:41:45,752 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 16:41:45,753 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 16:41:45,753 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 16:41:45,834 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 16:41:45,834 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 904 ms
2022-10-14 16:41:45,947 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 16:41:45,999 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 16:41:46,074 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 16:41:46,146 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 16:41:46,474 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 16:41:46,558 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 16:41:46,560 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
2022-10-14 16:41:46,561 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 16:41:46,567 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 16:41:46,570 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 16:41:46,578 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 16:41:46,595 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block [Failed SQL: (0) ALTER TYPE activity_type ADD VALUE 'PARCEL']
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: ALTER TYPE ... ADD cannot run inside a transaction block
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-14 17:00:04,968 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 19504 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 17:00:04,970 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 17:00:05,487 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 17:00:05,545 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2022-10-14 17:00:05,894 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 17:00:05,901 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 17:00:05,901 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 17:00:05,901 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 17:00:05,976 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 17:00:05,976 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 975 ms
2022-10-14 17:00:06,079 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 17:00:06,131 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 17:00:06,214 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 17:00:06,295 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 17:00:06,622 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 17:00:06,718 INFO liquibase.logging.core.JavaLogger [main] Custom SQL executed
2022-10-14 17:00:06,720 INFO liquibase.logging.core.JavaLogger [main] Column offer.activity renamed to activity_
2022-10-14 17:00:06,724 INFO liquibase.logging.core.JavaLogger [main] Columns activity(activity_type) added to offer
2022-10-14 17:00:06,733 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 17:00:06,735 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: cannot cast type activity_type_ to activity_type
  Position: 44 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(o2.activity_ as activity_type) FROM offer o2 where o1.id=id)]
2022-10-14 17:00:06,735 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 17:00:06,742 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 17:00:06,744 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 17:00:06,752 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 17:00:06,768 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: cannot cast type activity_type_ to activity_type
  Position: 44 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(o2.activity_ as activity_type) FROM offer o2 where o1.id=id)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: cannot cast type activity_type_ to activity_type
  Position: 44 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(o2.activity_ as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: cannot cast type activity_type_ to activity_type
  Position: 44 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(o2.activity_ as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: cannot cast type activity_type_ to activity_type
  Position: 44 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(o2.activity_ as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: cannot cast type activity_type_ to activity_type
  Position: 44
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-14 17:01:00,969 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 11256 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 17:01:00,973 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 17:01:01,480 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 17:01:01,537 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2022-10-14 17:01:01,851 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 17:01:01,856 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 17:01:01,856 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 17:01:01,856 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 17:01:01,946 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 17:01:01,946 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 947 ms
2022-10-14 17:01:02,051 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 17:01:02,106 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 17:01:02,181 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 17:01:02,255 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 17:01:02,553 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 17:01:02,639 INFO liquibase.logging.core.JavaLogger [main] Custom SQL executed
2022-10-14 17:01:02,641 INFO liquibase.logging.core.JavaLogger [main] Column offer.activity renamed to activity_
2022-10-14 17:01:02,643 INFO liquibase.logging.core.JavaLogger [main] Columns activity(activity_type) added to offer
2022-10-14 17:01:02,651 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 17:01:02,653 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "as"
  Position: 82 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20) as activity_type) FROM offer o2 where o1.id=id)]
2022-10-14 17:01:02,654 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 17:01:02,660 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 17:01:02,662 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 17:01:02,670 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 17:01:02,685 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "as"
  Position: 82 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20) as activity_type) FROM offer o2 where o1.id=id)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "as"
  Position: 82 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20) as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "as"
  Position: 82 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20) as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "as"
  Position: 82 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20) as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "as"
  Position: 82
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-14 17:01:49,108 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8032 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 17:01:49,111 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 17:01:49,610 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 17:01:49,669 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-10-14 17:01:50,022 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 17:01:50,028 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 17:01:50,029 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 17:01:50,029 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 17:01:50,108 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 17:01:50,109 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 963 ms
2022-10-14 17:01:50,261 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 17:01:50,348 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 17:01:50,430 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 17:01:50,500 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 17:01:50,799 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 17:01:50,895 INFO liquibase.logging.core.JavaLogger [main] Custom SQL executed
2022-10-14 17:01:50,896 INFO liquibase.logging.core.JavaLogger [main] Column offer.activity renamed to activity_
2022-10-14 17:01:50,899 INFO liquibase.logging.core.JavaLogger [main] Columns activity(activity_type) added to offer
2022-10-14 17:01:50,912 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 17:01:50,914 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: missing FROM-clause entry for table "o1"
  Position: 121 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o1.id=id)]
2022-10-14 17:01:50,914 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 17:01:50,921 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 17:01:50,923 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 17:01:50,931 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 17:01:50,949 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: missing FROM-clause entry for table "o1"
  Position: 121 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o1.id=id)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: missing FROM-clause entry for table "o1"
  Position: 121 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: missing FROM-clause entry for table "o1"
  Position: 121 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: missing FROM-clause entry for table "o1"
  Position: 121 [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o1.id=id)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table "o1"
  Position: 121
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-14 17:02:14,455 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 20264 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 17:02:14,459 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 17:02:14,928 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 17:02:14,989 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2022-10-14 17:02:15,314 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 17:02:15,319 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 17:02:15,319 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 17:02:15,319 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 17:02:15,395 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 17:02:15,395 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 905 ms
2022-10-14 17:02:15,496 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 17:02:15,547 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 17:02:15,626 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 17:02:15,690 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 17:02:15,988 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 17:02:16,078 INFO liquibase.logging.core.JavaLogger [main] Custom SQL executed
2022-10-14 17:02:16,080 INFO liquibase.logging.core.JavaLogger [main] Column offer.activity renamed to activity_
2022-10-14 17:02:16,083 INFO liquibase.logging.core.JavaLogger [main] Columns activity(activity_type) added to offer
2022-10-14 17:02:16,093 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 17:02:16,095 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: more than one row returned by a subquery used as an expression [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o2.id=id)]
2022-10-14 17:02:16,095 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 17:02:16,102 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 17:02:16,104 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 17:02:16,112 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 17:02:16,129 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: more than one row returned by a subquery used as an expression [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o2.id=id)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: more than one row returned by a subquery used as an expression [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o2.id=id)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: more than one row returned by a subquery used as an expression [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o2.id=id)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: more than one row returned by a subquery used as an expression [Failed SQL: (0) UPDATE public.offer SET activity = (select cast(cast(o2.activity_ as VARCHAR(20)) as activity_type) FROM offer o2 where o2.id=id)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: more than one row returned by a subquery used as an expression
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-14 17:05:27,540 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 9584 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 17:05:27,543 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 17:05:28,028 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 17:05:28,089 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2022-10-14 17:05:28,440 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 17:05:28,445 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 17:05:28,446 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 17:05:28,446 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 17:05:28,527 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 17:05:28,527 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 956 ms
2022-10-14 17:05:28,630 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 17:05:28,686 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 17:05:28,764 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 17:05:28,836 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 17:05:29,146 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 17:05:29,234 INFO liquibase.logging.core.JavaLogger [main] Custom SQL executed
2022-10-14 17:05:29,236 INFO liquibase.logging.core.JavaLogger [main] Column offer.activity renamed to activity_
2022-10-14 17:05:29,239 INFO liquibase.logging.core.JavaLogger [main] Columns activity(activity_type) added to offer
2022-10-14 17:05:29,241 INFO liquibase.logging.core.JavaLogger [main] Data updated in offer
2022-10-14 17:05:29,255 INFO liquibase.logging.core.JavaLogger [main] Column offer.activity_ dropped
2022-10-14 17:05:29,265 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 17:05:29,267 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: cannot drop type activity_type_ because other objects depend on it
  Detail: column activity of table request depends on type activity_type_
  Hint: Use DROP ... CASCADE to drop the dependent objects too. [Failed SQL: (0) DROP TYPE activity_type_]
2022-10-14 17:05:29,267 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-14 17:05:29,274 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-14 17:05:29,277 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-14 17:05:29,286 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-14 17:05:29,302 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: cannot drop type activity_type_ because other objects depend on it
  Detail: column activity of table request depends on type activity_type_
  Hint: Use DROP ... CASCADE to drop the dependent objects too. [Failed SQL: (0) DROP TYPE activity_type_]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: cannot drop type activity_type_ because other objects depend on it
  Detail: column activity of table request depends on type activity_type_
  Hint: Use DROP ... CASCADE to drop the dependent objects too. [Failed SQL: (0) DROP TYPE activity_type_]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: cannot drop type activity_type_ because other objects depend on it
  Detail: column activity of table request depends on type activity_type_
  Hint: Use DROP ... CASCADE to drop the dependent objects too. [Failed SQL: (0) DROP TYPE activity_type_]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: cannot drop type activity_type_ because other objects depend on it
  Detail: column activity of table request depends on type activity_type_
  Hint: Use DROP ... CASCADE to drop the dependent objects too. [Failed SQL: (0) DROP TYPE activity_type_]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: cannot drop type activity_type_ because other objects depend on it
  Detail: column activity of table request depends on type activity_type_
  Hint: Use DROP ... CASCADE to drop the dependent objects too.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-14 17:11:17,119 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16632 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-14 17:11:17,121 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-14 17:11:17,623 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-14 17:11:17,684 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2022-10-14 17:11:18,011 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-14 17:11:18,016 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-14 17:11:18,017 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-14 17:11:18,017 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-14 17:11:18,093 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-14 17:11:18,093 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 936 ms
2022-10-14 17:11:18,195 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-14 17:11:18,246 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-14 17:11:18,325 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-14 17:11:18,400 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-14 17:11:18,693 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-14 17:11:18,783 INFO liquibase.logging.core.JavaLogger [main] Custom SQL executed
2022-10-14 17:11:18,784 INFO liquibase.logging.core.JavaLogger [main] Column offer.activity renamed to activity_
2022-10-14 17:11:18,788 INFO liquibase.logging.core.JavaLogger [main] Columns activity(activity_type) added to offer
2022-10-14 17:11:18,789 INFO liquibase.logging.core.JavaLogger [main] Data updated in offer
2022-10-14 17:11:18,791 INFO liquibase.logging.core.JavaLogger [main] Column offer.activity_ dropped
2022-10-14 17:11:18,792 INFO liquibase.logging.core.JavaLogger [main] Column request.activity renamed to activity_
2022-10-14 17:11:18,794 INFO liquibase.logging.core.JavaLogger [main] Columns activity(activity_type) added to request
2022-10-14 17:11:18,795 INFO liquibase.logging.core.JavaLogger [main] Data updated in request
2022-10-14 17:11:18,797 INFO liquibase.logging.core.JavaLogger [main] Column request.activity_ dropped
2022-10-14 17:11:18,798 INFO liquibase.logging.core.JavaLogger [main] Custom SQL executed
2022-10-14 17:11:18,800 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/v.1.0/2022-10-14-changes-alter-type-activity_type.xml::2022-10-14--alter-type-activity_type::a.miachyn ran successfully in 25ms
2022-10-14 17:11:18,808 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-14 17:11:18,870 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-14 17:11:18,892 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-14 17:11:18,969 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-14 17:11:19,032 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-14 17:11:19,430 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-14 17:11:19,437 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 17:11:19,919 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-14 17:11:20,120 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-14 17:11:20,135 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-14 17:11:20,142 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://2d6c-91-220-250-49.eu.ngrok.io
2022-10-14 17:11:20,142 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://2d6c-91-220-250-49.eu.ngrok.io
2022-10-14 17:11:20,142 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 17:11:20,156 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-14 17:11:20,250 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-14 17:11:20,255 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-14 17:11:20,256 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-14 17:11:20,259 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-14
2022-10-14 17:11:20,265 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-14 and second date is null
2022-10-14 17:11:20,407 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.628 seconds (JVM running for 4.374)
2022-10-14 18:51:52,066 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-14 18:51:52,083 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-14 18:51:52,102 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.

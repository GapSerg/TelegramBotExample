2022-10-07 10:31:19,759 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 14492 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 10:31:19,766 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 10:31:20,460 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 10:31:20,544 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 74 ms. Found 3 JPA repository interfaces.
2022-10-07 10:31:21,037 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 10:31:21,045 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 10:31:21,046 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 10:31:21,046 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 10:31:21,151 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 10:31:21,151 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1348 ms
2022-10-07 10:31:21,347 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 10:31:21,432 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 10:31:21,549 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 10:31:21,650 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 10:31:22,024 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 10:31:22,101 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 10:31:22,185 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 10:31:22,237 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 10:31:22,365 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 10:31:22,469 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 10:31:22,916 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 10:31:22,922 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 10:31:23,570 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 10:31:23,866 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 10:31:23,885 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 10:31:23,893 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 10:31:23,893 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 10:31:23,894 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 10:31:23,908 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 10:31:25,045 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.668 seconds (JVM running for 6.519)
2022-10-07 10:31:59,069 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 10:31:59,069 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 10:31:59,071 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-07 10:31:59,218 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :d24ec7ac0b0e21d379001f
2022-10-07 10:31:59,218 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : d24ec7ac0b0e21d379001f
2022-10-07 10:31:59,244 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-07 10:31:59,299 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 429
2022-10-07 10:32:01,533 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: d24ec7ac0b0e21d379001f
2022-10-07 10:32:02,229 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: d24ec7ac0b0e21d379001f
2022-10-07 10:32:03,320 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:03,321 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Edit previous message with message Id : 430
2022-10-07 10:32:04,411 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-23 with token: d24ec7ac0b0e21d379001f
2022-10-07 10:32:06,096 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:06,845 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-24 and token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:07,587 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:08,347 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-26 and token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:12,456 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-20 and token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:13,803 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-23 and token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:14,868 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-24 and token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:16,352 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-3] Got CANCEL_DATE_PASSENGER type with token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:17,443 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-26 and token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:19,084 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 431
2022-10-07 10:32:19,168 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find passengers by first date :2022-10-24 and second date:2022-10-26 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 10:32:21,378 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-6] Got callback : CANCEL_PASSENGER_REQUEST with token : d24ec7ac0b0e21d379001f
2022-10-07 10:32:21,379 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Delete messages with chat id : 834450967 and messages : [432, 429, 430, 431]
2022-10-07 10:32:21,927 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : d24ec7ac0b0e21d379001f
2022-10-07 10:32:23,916 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-07 10:32:23,917 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :c54f2a808bb3d2c30161ba
2022-10-07 10:32:25,519 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : DRIVER and token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:25,524 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :DRIVER
2022-10-07 10:32:26,521 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :18 and token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:26,526 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 18
2022-10-07 10:32:27,507 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_DATE_OF_OFFER type with token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:27,508 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with id:18, with token :c54f2a808bb3d2c30161ba
2022-10-07 10:32:28,209 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-1] Change the first date of offer, changed first date: 2022-10-23 and token : c54f2a808bb3d2c30161ba
2022-10-07 10:32:28,892 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with date :2022-10-27 with token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:30,529 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-24 with token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:32,013 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with date :2022-10-20 with token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:33,270 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-23 with token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:34,818 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-22 with token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:35,730 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-22 and token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:36,766 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-8] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-20 and token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:37,915 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-9] Got RETURN_TO_CHANGE_OF_OFFER type with token : c54f2a808bb3d2c30161ba
2022-10-07 10:32:37,919 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 18
2022-10-07 10:32:38,866 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : DRIVER and token: c54f2a808bb3d2c30161ba
2022-10-07 10:32:38,870 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :DRIVER
2022-10-07 10:32:39,689 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-1] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : c54f2a808bb3d2c30161ba
2022-10-07 10:32:39,690 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : c54f2a808bb3d2c30161ba
2022-10-07 10:32:40,893 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 10:32:40,894 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :d9413da136d93a3d743c3f
2022-10-07 10:32:41,604 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: d9413da136d93a3d743c3f
2022-10-07 10:32:41,609 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 10:32:43,174 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :19 and token: d9413da136d93a3d743c3f
2022-10-07 10:32:43,177 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 19
2022-10-07 10:32:43,907 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: d9413da136d93a3d743c3f
2022-10-07 10:32:43,907 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:19, with token :d9413da136d93a3d743c3f
2022-10-07 10:32:44,627 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-6] Change the first date of offer, changed first date: 2022-10-27 and token : d9413da136d93a3d743c3f
2022-10-07 10:32:48,431 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with date :2022-10-23 with token: d9413da136d93a3d743c3f
2022-10-07 10:32:50,305 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with date :2022-10-20 with token: d9413da136d93a3d743c3f
2022-10-07 10:32:51,627 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with date :2022-10-23 with token: d9413da136d93a3d743c3f
2022-10-07 10:32:52,758 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with date :2022-10-24 with token: d9413da136d93a3d743c3f
2022-10-07 10:32:53,485 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-24 and token: d9413da136d93a3d743c3f
2022-10-07 10:32:54,362 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with date :2022-10-21 with token: d9413da136d93a3d743c3f
2022-10-07 10:32:55,091 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-23 with token: d9413da136d93a3d743c3f
2022-10-07 10:32:55,851 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-4] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-23 and token: d9413da136d93a3d743c3f
2022-10-07 10:32:56,634 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-22 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:00,703 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-17 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:01,746 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with date :2022-10-19 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:02,409 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with date :2022-10-22 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:03,155 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with date :2022-10-19 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:03,822 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-19 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:07,648 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-17 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:09,309 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-19 and token : d9413da136d93a3d743c3f
2022-10-07 10:33:10,141 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-23 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:10,923 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-4] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-23 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:11,953 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-20 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:12,768 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-6] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-20 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:13,587 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with date :2022-10-17 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:19,231 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with date :2022-10-22 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:19,651 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-9] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-17 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:24,817 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with date :2022-10-23 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:24,867 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with date :2022-10-20 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:27,963 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with date :2022-10-19 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:32,544 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-17 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:35,609 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with date :2022-10-21 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:37,629 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-20 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:38,728 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-18 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:39,895 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with date :2022-10-14 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:41,036 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-8] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-14 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:42,472 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with date :2022-10-17 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:43,471 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-18 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:44,294 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with date :2022-10-21 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:45,304 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with date :2022-10-23 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:46,373 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-3] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-23 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:47,127 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with date :2022-10-22 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:48,526 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-19 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:49,289 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-6] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-19 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:50,048 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with date :2022-10-20 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:50,853 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-8] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-20 and token: d9413da136d93a3d743c3f
2022-10-07 10:33:51,629 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with date :2022-10-21 with token: d9413da136d93a3d743c3f
2022-10-07 10:33:55,631 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-21 and token: d9413da136d93a3d743c3f
2022-10-07 10:34:00,353 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with date :2022-10-23 with token: d9413da136d93a3d743c3f
2022-10-07 10:34:01,237 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-2] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-23 and token: d9413da136d93a3d743c3f
2022-10-07 10:34:02,042 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-22 with token: d9413da136d93a3d743c3f
2022-10-07 10:34:03,098 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with date :2022-10-19 with token: d9413da136d93a3d743c3f
2022-10-07 10:34:04,261 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-16 with token: d9413da136d93a3d743c3f
2022-10-07 10:34:05,231 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-17 with token: d9413da136d93a3d743c3f
2022-10-07 10:34:09,097 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with date :2022-10-20 with token: d9413da136d93a3d743c3f
2022-10-07 10:34:10,756 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-8] Got RETURN_TO_CHANGE_OF_OFFER type with token : d9413da136d93a3d743c3f
2022-10-07 10:34:10,760 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 19
2022-10-07 10:34:12,165 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: d9413da136d93a3d743c3f
2022-10-07 10:34:12,169 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 10:34:13,075 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-10] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : d9413da136d93a3d743c3f
2022-10-07 10:34:13,075 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : d9413da136d93a3d743c3f
2022-10-07 10:37:56,936 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 10:37:56,938 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 10:37:56,945 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 10:38:00,230 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 23352 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 10:38:00,234 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 10:38:00,754 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 10:38:00,818 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 57 ms. Found 3 JPA repository interfaces.
2022-10-07 10:38:01,228 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 10:38:01,234 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 10:38:01,235 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 10:38:01,235 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 10:38:01,324 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 10:38:01,324 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1056 ms
2022-10-07 10:38:01,435 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 10:38:01,494 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 10:38:01,580 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 10:38:01,647 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 10:38:01,960 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 10:38:02,037 INFO liquibase.logging.core.JavaLogger [main] Null constraint dropped from offer.second_date
2022-10-07 10:38:02,040 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/v.0.5/2022-10-07-changes-alter-table-offer-second-date.xml::2022-10-07-changes-alter-table-offer-second-date::a.miachyn ran successfully in 9ms
2022-10-07 10:38:02,052 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 10:38:02,126 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 10:38:02,152 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 10:38:02,233 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 10:38:02,299 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 10:38:02,655 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 10:38:02,660 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 10:38:03,143 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 10:38:03,480 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 10:38:03,495 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 10:38:03,502 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 10:38:03,502 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 10:38:03,503 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 10:38:03,513 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 10:38:03,978 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.135 seconds (JVM running for 5.064)
2022-10-07 10:38:12,560 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 10:38:12,562 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 10:38:12,568 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 10:50:11,750 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15956 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 10:50:11,753 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 10:50:12,302 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 10:50:12,355 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 3 JPA repository interfaces.
2022-10-07 10:50:12,697 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 10:50:12,703 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 10:50:12,704 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 10:50:12,704 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 10:50:12,788 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 10:50:12,788 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1001 ms
2022-10-07 10:50:12,918 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 10:50:12,977 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 10:50:13,051 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 10:50:13,132 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 10:50:13,525 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 10:50:13,586 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 10:50:13,649 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 10:50:13,672 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 10:50:13,745 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 10:50:13,809 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 10:50:14,157 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 10:50:14,162 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 10:50:14,629 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 10:50:14,829 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 10:50:14,847 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 10:50:14,854 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 10:50:14,853 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 10:50:14,855 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 10:50:14,871 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 10:50:15,328 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.943 seconds (JVM running for 4.654)
2022-10-07 10:50:34,694 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 10:50:34,694 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 10:50:34,696 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-07 10:50:34,794 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :3c4b689f282d95df4463a8
2022-10-07 10:50:34,794 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 3c4b689f282d95df4463a8
2022-10-07 10:50:34,815 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-07 10:50:34,871 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 435
2022-10-07 10:50:36,261 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 3c4b689f282d95df4463a8
2022-10-07 10:50:37,295 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: 3c4b689f282d95df4463a8
2022-10-07 10:50:38,588 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : 3c4b689f282d95df4463a8
2022-10-07 10:50:38,589 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Edit previous message with message Id : 436
2022-10-07 10:50:40,518 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-14 with token: 3c4b689f282d95df4463a8
2022-10-07 10:50:41,279 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-18 and token : 3c4b689f282d95df4463a8
2022-10-07 10:50:42,217 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_PASSENGER type with token : 3c4b689f282d95df4463a8
2022-10-07 10:50:42,941 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-17 and token : 3c4b689f282d95df4463a8
2022-10-07 10:50:44,713 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Edit previous message with message Id : 437
2022-10-07 10:50:44,849 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find passengers by first date :2022-10-14 and second date:2022-10-17 with cities:[City(id=3, name=WROCLAW), City(id=6, name=GRODNO)]
2022-10-07 10:50:44,878 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-9] SQL Error: 0, SQLState: 42703
2022-10-07 10:50:44,878 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-9] ERROR: column o1.seconddate does not exist
  Hint: Perhaps you meant to reference the column "o1.second_date".
  Position: 195
2022-10-07 10:50:44,887 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-9] could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSetcould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2022-10-07 10:51:23,475 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 10:51:23,477 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 10:51:23,482 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 10:51:27,169 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8256 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 10:51:27,172 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 10:51:27,699 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 10:51:27,751 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2022-10-07 10:51:28,107 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 10:51:28,114 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 10:51:28,115 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 10:51:28,115 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 10:51:28,220 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 10:51:28,220 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1010 ms
2022-10-07 10:51:28,392 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 10:51:28,467 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 10:51:28,544 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 10:51:28,622 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 10:51:28,889 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 10:51:28,963 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 10:51:29,029 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 10:51:29,053 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 10:51:29,132 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 10:51:29,194 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 10:51:29,538 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 10:51:29,544 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 10:51:30,004 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 10:51:30,199 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 10:51:30,216 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 10:51:30,223 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 10:51:30,223 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 10:51:30,224 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 10:51:30,238 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 10:51:30,748 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.922 seconds (JVM running for 4.661)
2022-10-07 10:51:57,926 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 10:51:57,927 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 10:51:57,933 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:01:55,704 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8944 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:01:55,707 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:01:56,230 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:01:56,279 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
2022-10-07 11:01:56,654 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:01:56,671 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:01:56,672 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:01:56,672 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:01:56,805 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:01:56,805 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1063 ms
2022-10-07 11:01:56,997 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:01:57,056 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:01:57,138 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:01:57,211 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:01:57,487 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:01:57,557 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:01:57,638 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:01:57,664 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:01:57,748 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:01:57,830 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:01:58,241 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:01:58,248 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:01:58,885 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:01:59,174 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:01:59,193 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:01:59,204 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:01:59,203 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:01:59,204 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:01:59,222 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 11:02:00,016 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.652 seconds (JVM running for 5.495)
2022-10-07 11:09:54,942 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:09:54,944 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:09:54,950 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:09:57,808 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15972 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:09:57,811 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:09:58,310 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:09:58,367 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2022-10-07 11:09:58,707 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:09:58,712 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:09:58,713 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:09:58,713 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:09:58,787 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:09:58,787 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 942 ms
2022-10-07 11:09:58,891 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:09:58,942 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:09:59,018 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:09:59,091 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:09:59,359 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:09:59,429 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:09:59,492 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:09:59,514 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:09:59,582 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:09:59,638 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:09:59,968 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:09:59,972 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:10:00,417 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:10:00,612 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:10:00,625 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:10:00,632 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:10:00,632 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:10:00,633 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:10:00,647 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 11:10:01,118 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.633 seconds (JVM running for 4.477)
2022-10-07 11:10:06,617 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:10:06,618 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:10:06,619 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:10:06,745 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-07 11:10:06,753 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 11:10:07,974 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :c04871a5cd6d045a1685de
2022-10-07 11:10:07,975 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : c04871a5cd6d045a1685de
2022-10-07 11:10:08,003 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 11:10:08,056 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 439
2022-10-07 11:10:09,276 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: c04871a5cd6d045a1685de
2022-10-07 11:10:09,906 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: c04871a5cd6d045a1685de
2022-10-07 11:10:11,072 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : c04871a5cd6d045a1685de
2022-10-07 11:10:11,074 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 440
2022-10-07 11:10:12,678 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-7] Got FIRST_DATE_PASSENGER type with first date :2022-10-25 with token: c04871a5cd6d045a1685de
2022-10-07 11:10:13,488 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-29 and token : c04871a5cd6d045a1685de
2022-10-07 11:10:15,213 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-8] Got CANCEL_DATE_PASSENGER type with token : c04871a5cd6d045a1685de
2022-10-07 11:10:15,916 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Edit previous message with message Id : 441
2022-10-07 11:10:16,020 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find passengers by first date :2022-10-25 and second date:null with cities:[City(id=4, name=GDANSK), City(id=5, name=BREST)]
2022-10-07 11:10:16,035 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-10] org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT * FROM offer o1 JOIN offer_city oc ON o1.id=oc.offer_id JOIN city c ON oc.city_id=c.id WHERE (o1.second_date is null AND o1.first_date = :firstDate) OR (o1.second_date IS NOT NULL AND o1.first_date < = :firstDate AND o2.first_date > = : firstDate)AND o1.activity = cast(:activity as activity_type) AND  o1.id IN (SELECT o2.id FROM offer o2 JOIN offer_city oc ON o2.id=oc.offer_id JOIN city c ON oc.city_id=c.id WHERE c.name IN :cities GROUP BY o2.id HAVING COUNT(o2.id)>= 2)]; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT * FROM offer o1 JOIN offer_city oc ON o1.id=oc.offer_id JOIN city c ON oc.city_id=c.id WHERE (o1.second_date is null AND o1.first_date = :firstDate) OR (o1.second_date IS NOT NULL AND o1.first_date < = :firstDate AND o2.first_date > = : firstDate)AND o1.activity = cast(:activity as activity_type) AND  o1.id IN (SELECT o2.id FROM offer o2 JOIN offer_city oc ON o2.id=oc.offer_id JOIN city c ON oc.city_id=c.id WHERE c.name IN :cities GROUP BY o2.id HAVING COUNT(o2.id)>= 2)]org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT * FROM offer o1 JOIN offer_city oc ON o1.id=oc.offer_id JOIN city c ON oc.city_id=c.id WHERE (o1.second_date is null AND o1.first_date = :firstDate) OR (o1.second_date IS NOT NULL AND o1.first_date < = :firstDate AND o2.first_date > = : firstDate)AND o1.activity = cast(:activity as activity_type) AND  o1.id IN (SELECT o2.id FROM offer o2 JOIN offer_city oc ON o2.id=oc.offer_id JOIN city c ON oc.city_id=c.id WHERE c.name IN :cities GROUP BY o2.id HAVING COUNT(o2.id)>= 2)]; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT * FROM offer o1 JOIN offer_city oc ON o1.id=oc.offer_id JOIN city c ON oc.city_id=c.id WHERE (o1.second_date is null AND o1.first_date = :firstDate) OR (o1.second_date IS NOT NULL AND o1.first_date < = :firstDate AND o2.first_date > = : firstDate)AND o1.activity = cast(:activity as activity_type) AND  o1.id IN (SELECT o2.id FROM offer o2 JOIN offer_city oc ON o2.id=oc.offer_id JOIN city c ON oc.city_id=c.id WHERE c.name IN :cities GROUP BY o2.id HAVING COUNT(o2.id)>= 2)]
2022-10-07 11:11:47,845 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:11:47,847 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:11:47,853 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:11:52,047 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 20120 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:11:52,050 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:11:52,606 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:11:52,656 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
2022-10-07 11:11:52,976 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:11:52,981 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:11:52,982 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:11:52,982 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:11:53,056 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:11:53,056 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 971 ms
2022-10-07 11:11:53,171 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:11:53,224 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:11:53,304 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:11:53,379 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:11:53,657 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:11:53,733 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:11:53,802 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:11:53,833 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:11:53,913 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:11:53,974 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:11:54,326 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:11:54,331 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:11:54,767 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:11:54,961 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:11:54,976 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:11:54,984 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:11:54,982 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:11:54,984 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:11:55,001 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 11:11:55,457 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.744 seconds (JVM running for 4.489)
2022-10-07 11:11:59,586 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:11:59,586 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:11:59,587 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:11:59,695 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-07 11:11:59,704 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 11:12:01,565 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :c34ecbb7ca70831f50e228
2022-10-07 11:12:01,566 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : c34ecbb7ca70831f50e228
2022-10-07 11:12:01,586 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 11:12:01,636 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 443
2022-10-07 11:12:02,678 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: c34ecbb7ca70831f50e228
2022-10-07 11:12:03,215 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: c34ecbb7ca70831f50e228
2022-10-07 11:12:04,643 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : c34ecbb7ca70831f50e228
2022-10-07 11:12:04,645 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 444
2022-10-07 11:12:05,973 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-7] Got FIRST_DATE_PASSENGER type with first date :2022-10-20 with token: c34ecbb7ca70831f50e228
2022-10-07 11:12:07,154 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 445
2022-10-07 11:12:07,293 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-20 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 11:12:07,320 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-6] SQL Error: 0, SQLState: 42601
2022-10-07 11:12:07,321 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-6] ERROR: syntax error at or near "="
  Position: 200
2022-10-07 11:12:07,329 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-6] could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSetcould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2022-10-07 11:13:41,963 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:13:41,965 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:13:41,971 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:13:45,930 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 1456 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:13:45,934 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:13:46,475 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:13:46,529 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 3 JPA repository interfaces.
2022-10-07 11:13:46,867 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:13:46,874 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:13:46,875 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:13:46,875 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:13:46,969 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:13:46,969 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1003 ms
2022-10-07 11:13:47,081 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:13:47,135 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:13:47,215 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:13:47,289 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:13:47,556 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:13:47,620 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:13:47,683 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:13:47,710 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:13:47,790 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:13:47,851 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:13:48,209 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:13:48,214 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:13:48,705 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:13:48,906 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:13:48,922 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:13:48,930 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:13:48,930 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:13:48,931 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:13:48,943 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 11:13:49,604 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.018 seconds (JVM running for 4.892)
2022-10-07 11:14:01,089 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:14:01,089 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:14:01,090 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:14:01,198 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-07 11:14:01,203 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 11:14:02,334 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :4a4c879ed765a5252d36c7
2022-10-07 11:14:02,335 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : 4a4c879ed765a5252d36c7
2022-10-07 11:14:02,356 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 11:14:02,404 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 447
2022-10-07 11:14:03,308 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 4a4c879ed765a5252d36c7
2022-10-07 11:14:03,824 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 4a4c879ed765a5252d36c7
2022-10-07 11:14:04,809 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-7] Callback data with type: CHOSE_DATE_PASSENGER with token : 4a4c879ed765a5252d36c7
2022-10-07 11:14:04,811 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Edit previous message with message Id : 448
2022-10-07 11:14:05,652 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-8] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: 4a4c879ed765a5252d36c7
2022-10-07 11:14:09,517 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 449
2022-10-07 11:14:09,596 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=4, name=GDANSK), City(id=5, name=BREST)]
2022-10-07 11:14:09,623 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-5] SQL Error: 0, SQLState: 42P01
2022-10-07 11:14:09,623 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-5] ERROR: missing FROM-clause entry for table "o2"
  Position: 208
2022-10-07 11:14:09,631 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-5] could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSetcould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2022-10-07 11:15:25,786 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:15:25,788 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:15:25,793 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:15:28,931 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10940 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:15:28,935 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:15:29,575 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:15:29,679 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 93 ms. Found 3 JPA repository interfaces.
2022-10-07 11:15:30,146 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:15:30,154 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:15:30,154 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:15:30,155 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:15:30,254 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:15:30,254 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1285 ms
2022-10-07 11:15:30,394 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:15:30,456 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:15:30,562 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:15:30,664 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:15:30,969 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:15:31,056 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:15:31,166 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:15:31,229 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:15:31,340 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:15:31,420 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:15:32,121 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:15:32,132 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:15:32,947 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:15:33,354 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:15:33,377 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:15:33,385 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:15:33,386 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:15:33,385 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:15:33,402 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 11:15:34,101 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.496 seconds (JVM running for 7.125)
2022-10-07 11:15:39,491 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:15:39,491 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:15:39,492 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:15:39,655 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-07 11:15:39,664 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 11:15:41,546 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :c74863a4c1502bd3600019
2022-10-07 11:15:41,547 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : c74863a4c1502bd3600019
2022-10-07 11:15:41,573 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 11:15:41,631 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 451
2022-10-07 11:15:42,560 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: c74863a4c1502bd3600019
2022-10-07 11:15:43,104 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: c74863a4c1502bd3600019
2022-10-07 11:15:44,381 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : c74863a4c1502bd3600019
2022-10-07 11:15:44,382 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 452
2022-10-07 11:15:45,314 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: c74863a4c1502bd3600019
2022-10-07 11:15:49,186 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Edit previous message with message Id : 453
2022-10-07 11:15:49,364 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=4, name=GDANSK), City(id=5, name=BREST)]
2022-10-07 11:18:17,699 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m47s140ms515µs800ns).
2022-10-07 11:18:17,707 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Edit previous message with message Id : 453
2022-10-07 11:18:17,708 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Edit previous message with message Id : 453
2022-10-07 11:18:17,738 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-7] SQL Error: 0, SQLState: 42P01
2022-10-07 11:18:17,739 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-7] ERROR: missing FROM-clause entry for table "o2"
  Position: 208
2022-10-07 11:18:17,752 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSetcould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2022-10-07 11:18:17,944 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] There is a tg exception: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2022-10-07 11:18:17,945 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-9] Sorry but the command is incorrect
2022-10-07 11:18:18,048 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] There is a tg exception: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2022-10-07 11:18:18,049 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-8] Sorry but the command is incorrect
2022-10-07 11:18:18,091 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:18:18,093 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:18:18,100 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:18:22,138 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10216 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:18:22,141 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:18:22,598 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:18:22,649 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
2022-10-07 11:18:22,972 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:18:22,978 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:18:22,978 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:18:22,978 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:18:23,054 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:18:23,054 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 881 ms
2022-10-07 11:18:23,157 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:18:23,216 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:18:23,299 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:18:23,366 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:18:23,639 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:18:23,710 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:18:23,771 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:18:23,794 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:18:23,870 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:18:23,934 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:18:24,270 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:18:24,275 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:18:24,724 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:18:24,920 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:18:24,933 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:18:24,940 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:18:24,940 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:18:24,942 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:18:24,954 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 11:18:25,618 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.814 seconds (JVM running for 4.637)
2022-10-07 11:18:30,587 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:18:30,587 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:18:30,588 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:18:30,714 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-07 11:18:30,720 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 11:18:32,226 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :d64928bbd495a66b6cd35e
2022-10-07 11:18:32,226 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : d64928bbd495a66b6cd35e
2022-10-07 11:18:32,252 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 11:18:32,298 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 455
2022-10-07 11:18:33,113 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: d64928bbd495a66b6cd35e
2022-10-07 11:18:33,715 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: d64928bbd495a66b6cd35e
2022-10-07 11:18:34,614 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : d64928bbd495a66b6cd35e
2022-10-07 11:18:34,614 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 456
2022-10-07 11:18:35,833 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: d64928bbd495a66b6cd35e
2022-10-07 11:18:39,680 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Edit previous message with message Id : 457
2022-10-07 11:18:39,760 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=5, name=BREST), City(id=6, name=GRODNO)]
2022-10-07 11:18:46,835 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_PASSENGER_REQUEST with token : d64928bbd495a66b6cd35e
2022-10-07 11:18:46,836 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Delete messages with chat id : 834450967 and messages : [455, 456, 457, 458]
2022-10-07 11:18:47,077 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : d64928bbd495a66b6cd35e
2022-10-07 11:18:48,312 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-07 11:18:48,313 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :5848bebcc3e6a5d0dc8897
2022-10-07 11:18:49,400 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : PASSENGER and token: 5848bebcc3e6a5d0dc8897
2022-10-07 11:18:49,404 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 11:18:50,491 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :19 and token: 5848bebcc3e6a5d0dc8897
2022-10-07 11:18:50,494 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 19
2022-10-07 11:18:51,859 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 5848bebcc3e6a5d0dc8897
2022-10-07 11:18:51,864 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 11:18:52,845 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :19 and token: 5848bebcc3e6a5d0dc8897
2022-10-07 11:18:52,848 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 19
2022-10-07 11:18:55,636 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : PASSENGER and token: 5848bebcc3e6a5d0dc8897
2022-10-07 11:18:55,640 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 11:18:56,583 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-5] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 5848bebcc3e6a5d0dc8897
2022-10-07 11:18:56,583 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : 5848bebcc3e6a5d0dc8897
2022-10-07 11:18:57,861 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :a34066888410170826f023
2022-10-07 11:18:57,861 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-6] Got ACTIVITY callback type with activity :PASSENGER and token : a34066888410170826f023
2022-10-07 11:18:57,863 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 460
2022-10-07 11:18:59,145 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: a34066888410170826f023
2022-10-07 11:18:59,735 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a34066888410170826f023
2022-10-07 11:19:00,672 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-9] Callback data with type: CHOSE_DATE_PASSENGER with token : a34066888410170826f023
2022-10-07 11:19:00,672 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Edit previous message with message Id : 461
2022-10-07 11:19:02,113 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: a34066888410170826f023
2022-10-07 11:19:03,253 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 462
2022-10-07 11:19:03,324 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-07 11:19:14,768 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_PASSENGER_REQUEST with token : a34066888410170826f023
2022-10-07 11:19:14,768 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Delete messages with chat id : 834450967 and messages : [460, 461, 462, 463]
2022-10-07 11:19:15,029 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Delete token from messages : a34066888410170826f023
2022-10-07 11:19:15,902 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :0843198968e6bdd18ba49d
2022-10-07 11:19:15,903 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-3] Got ACTIVITY callback type with activity :DRIVER and token : 0843198968e6bdd18ba49d
2022-10-07 11:19:15,905 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Edit previous message with message Id : 464
2022-10-07 11:19:17,470 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 0843198968e6bdd18ba49d
2022-10-07 11:19:18,235 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 0843198968e6bdd18ba49d
2022-10-07 11:19:19,443 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_DRIVER with token : 0843198968e6bdd18ba49d
2022-10-07 11:19:19,443 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 465
2022-10-07 11:19:20,420 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-7] Got FIRST_DATE_DRIVER callback type with first date :2022-10-26 with token: 0843198968e6bdd18ba49d
2022-10-07 11:19:21,218 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Edit previous message with message Id : 466
2022-10-07 11:19:21,331 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-07 11:19:24,923 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_DRIVER_REQUEST with token : 0843198968e6bdd18ba49d
2022-10-07 11:19:24,924 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : 0843198968e6bdd18ba49d
2022-10-07 11:19:24,925 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Delete messages with chat id : 834450967 and messages : [464, 465, 466, 467]
2022-10-07 11:19:26,169 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-10] Got OFFERS_ACTIVITY callback type
2022-10-07 11:19:26,170 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :7040d2a046f8e3420321d7
2022-10-07 11:19:27,515 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: 7040d2a046f8e3420321d7
2022-10-07 11:19:27,519 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 11:19:29,279 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_OFFER callback type with route id :19 and token: 7040d2a046f8e3420321d7
2022-10-07 11:19:29,283 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 19
2022-10-07 11:19:34,502 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 7040d2a046f8e3420321d7
2022-10-07 11:19:34,505 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 11:19:35,926 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :25 and token: 7040d2a046f8e3420321d7
2022-10-07 11:19:35,929 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 25
2022-10-07 11:19:39,891 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : PASSENGER and token: 7040d2a046f8e3420321d7
2022-10-07 11:19:39,895 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 11:19:40,834 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-6] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 7040d2a046f8e3420321d7
2022-10-07 11:19:40,834 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : 7040d2a046f8e3420321d7
2022-10-07 11:19:42,122 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :50461394bf869b022fd694
2022-10-07 11:19:42,124 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :DRIVER and token : 50461394bf869b022fd694
2022-10-07 11:19:42,125 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Edit previous message with message Id : 469
2022-10-07 11:19:43,483 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 50461394bf869b022fd694
2022-10-07 11:19:44,273 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 6 and token: 50461394bf869b022fd694
2022-10-07 11:19:45,728 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_DRIVER with token : 50461394bf869b022fd694
2022-10-07 11:19:45,729 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Edit previous message with message Id : 470
2022-10-07 11:19:48,242 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_DRIVER callback type with first date :2022-10-25 with token: 50461394bf869b022fd694
2022-10-07 11:19:49,078 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 471
2022-10-07 11:19:49,178 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find passengers by first date :2022-10-25 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=6, name=GRODNO)]
2022-10-07 11:20:24,665 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:20:24,667 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:20:24,672 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:20:28,769 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 17120 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:20:28,772 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:20:29,407 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:20:29,462 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-07 11:20:29,823 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:20:29,828 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:20:29,829 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:20:29,829 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:20:29,908 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:20:29,909 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1089 ms
2022-10-07 11:20:30,011 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:20:30,064 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:20:30,140 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:20:30,215 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:20:30,488 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:20:30,619 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:20:30,690 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:20:30,715 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:20:30,784 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:20:30,841 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:20:31,167 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:20:31,172 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:20:31,621 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:20:31,822 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:20:31,836 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:20:31,844 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:20:31,844 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:20:31,844 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:20:31,857 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete suppliers whose second date is earlier than : 2022-10-07
2022-10-07 11:20:32,355 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.056 seconds (JVM running for 4.928)
2022-10-07 11:20:33,978 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:20:33,978 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:20:33,981 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:20:34,112 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 50461394bf869b022fd694
2022-10-07 11:20:34,114 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=50461394bf869b022fd694
2022-10-07 11:20:35,571 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :cd4064b357554ef206d0fd
2022-10-07 11:20:35,571 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : cd4064b357554ef206d0fd
2022-10-07 11:20:35,600 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 11:20:35,658 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 472
2022-10-07 11:20:36,922 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: cd4064b357554ef206d0fd
2022-10-07 11:20:38,466 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: cd4064b357554ef206d0fd
2022-10-07 11:20:40,022 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : cd4064b357554ef206d0fd
2022-10-07 11:20:40,023 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 473
2022-10-07 11:20:41,745 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: cd4064b357554ef206d0fd
2022-10-07 11:20:49,397 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_PASSENGER_REQUEST with token : cd4064b357554ef206d0fd
2022-10-07 11:20:49,398 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [472, 473, 474]
2022-10-07 11:20:49,544 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : cd4064b357554ef206d0fd
2022-10-07 11:20:50,625 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :8347a6a68b204366e6a0eb
2022-10-07 11:20:50,626 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-8] Got ACTIVITY callback type with activity :DRIVER and token : 8347a6a68b204366e6a0eb
2022-10-07 11:20:50,629 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Edit previous message with message Id : 475
2022-10-07 11:20:53,089 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 8347a6a68b204366e6a0eb
2022-10-07 11:20:53,797 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 8347a6a68b204366e6a0eb
2022-10-07 11:20:54,941 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-1] Callback data with type: CHOSE_DATE_DRIVER with token : 8347a6a68b204366e6a0eb
2022-10-07 11:20:54,942 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 476
2022-10-07 11:20:57,494 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_DRIVER callback type with first date :2022-10-26 with token: 8347a6a68b204366e6a0eb
2022-10-07 11:20:58,257 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Edit previous message with message Id : 477
2022-10-07 11:20:58,360 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-07 11:21:02,558 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-4] Got callback type :CHECK_DRIVER_REQUEST with token :8347a6a68b204366e6a0eb
2022-10-07 11:21:06,894 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-5] Got message for saving description of driver with token :8347a6a68b204366e6a0eb 
2022-10-07 11:21:06,895 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Delete messages with chat id : 834450967 and messages : [475, 476, 477, 478]
2022-10-07 11:21:07,193 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Save supplier by: Request(chatId=834450967, userDto=UserDto(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97), cities=[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)], firstDate=2022-10-26, secondDate=null, description=Yep yep yep, needForDescription=true, messages=[475, 476, 477, 478], activity=DRIVER)
2022-10-07 11:21:07,279 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : 8347a6a68b204366e6a0eb
2022-10-07 11:21:09,516 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-07 11:21:09,517 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :c54e938f42daf0b4bfc5f1
2022-10-07 11:21:10,432 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : DRIVER and token: c54e938f42daf0b4bfc5f1
2022-10-07 11:21:10,436 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :DRIVER
2022-10-07 11:21:11,692 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :27 and token: c54e938f42daf0b4bfc5f1
2022-10-07 11:21:11,696 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 27
2022-10-07 11:21:16,570 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : DRIVER and token: c54e938f42daf0b4bfc5f1
2022-10-07 11:21:16,575 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :DRIVER
2022-10-07 11:21:17,308 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-10] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : c54e938f42daf0b4bfc5f1
2022-10-07 11:21:17,308 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : c54e938f42daf0b4bfc5f1
2022-10-07 11:21:18,356 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :3d44c88a1ec6217288b320
2022-10-07 11:21:18,356 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 3d44c88a1ec6217288b320
2022-10-07 11:21:18,356 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 481
2022-10-07 11:21:20,274 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: 3d44c88a1ec6217288b320
2022-10-07 11:21:21,185 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 3d44c88a1ec6217288b320
2022-10-07 11:21:23,309 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : 3d44c88a1ec6217288b320
2022-10-07 11:21:23,309 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Edit previous message with message Id : 482
2022-10-07 11:21:25,677 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: 3d44c88a1ec6217288b320
2022-10-07 11:21:26,713 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 483
2022-10-07 11:21:26,815 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-07 11:21:43,445 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_PASSENGER_REQUEST with token : 3d44c88a1ec6217288b320
2022-10-07 11:21:43,446 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [481, 482, 483, 484]
2022-10-07 11:21:43,994 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : 3d44c88a1ec6217288b320
2022-10-07 11:42:05,235 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:42:05,237 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:42:05,243 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:42:12,453 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 20512 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:42:12,455 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:42:12,962 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:42:13,013 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 3 JPA repository interfaces.
2022-10-07 11:42:13,381 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:42:13,388 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:42:13,388 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:42:13,388 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:42:13,484 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:42:13,485 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 997 ms
2022-10-07 11:42:13,602 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:42:13,661 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:42:13,740 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:42:13,824 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:42:14,121 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:42:14,198 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:42:14,280 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:42:14,310 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:42:14,450 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:42:14,554 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:42:14,990 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:42:14,996 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:42:15,751 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:42:16,047 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:42:16,068 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:42:16,079 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:42:16,079 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:42:16,080 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:42:16,096 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 11:42:16,198 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 11:42:16,708 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.607 seconds (JVM running for 5.333)
2022-10-07 11:42:38,481 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:42:38,481 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:42:38,482 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:42:38,590 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :824fcbb4e1a4155bf35acc
2022-10-07 11:42:38,590 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 824fcbb4e1a4155bf35acc
2022-10-07 11:42:38,606 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-07 11:42:38,644 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 485
2022-10-07 11:42:39,809 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 824fcbb4e1a4155bf35acc
2022-10-07 11:42:40,412 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 824fcbb4e1a4155bf35acc
2022-10-07 11:42:42,097 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : 824fcbb4e1a4155bf35acc
2022-10-07 11:42:42,098 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Edit previous message with message Id : 486
2022-10-07 11:42:43,202 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-23 with token: 824fcbb4e1a4155bf35acc
2022-10-07 11:42:44,718 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : 824fcbb4e1a4155bf35acc
2022-10-07 11:42:44,721 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-6] Conversion = s, Flags =  Conversion = s, Flags =  
2022-10-07 11:43:08,965 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : 824fcbb4e1a4155bf35acc
2022-10-07 11:43:08,966 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] Conversion = s, Flags =  Conversion = s, Flags =  
2022-10-07 11:43:51,905 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-8] Got CANCEL_DATE_PASSENGER type with token : 824fcbb4e1a4155bf35acc
2022-10-07 11:43:53,358 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-9] Got CANCEL_DATE_PASSENGER type with token : 824fcbb4e1a4155bf35acc
2022-10-07 11:43:54,412 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_PASSENGER type with first date :2022-10-25 with token: 824fcbb4e1a4155bf35acc
2022-10-07 11:43:55,067 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-29 and token : 824fcbb4e1a4155bf35acc
2022-10-07 11:43:55,068 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] Conversion = s, Flags =  Conversion = s, Flags =  
2022-10-07 11:44:13,942 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:44:13,944 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:44:13,950 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:44:17,892 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16160 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:44:17,898 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:44:18,570 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:44:18,630 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 54 ms. Found 3 JPA repository interfaces.
2022-10-07 11:44:19,112 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:44:19,118 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:44:19,119 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:44:19,119 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:44:19,195 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:44:19,195 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1195 ms
2022-10-07 11:44:19,303 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:44:19,358 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:44:19,439 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:44:19,518 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:44:19,861 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:44:19,932 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:44:19,998 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:44:20,023 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:44:20,116 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:44:20,204 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:44:20,599 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:44:20,604 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:44:21,074 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:44:21,372 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:44:21,398 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:44:21,408 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:44:21,410 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:44:21,411 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:44:21,426 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 11:44:21,503 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 11:44:21,898 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.411 seconds (JVM running for 5.178)
2022-10-07 11:44:26,018 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:44:26,018 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:44:26,019 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:44:26,118 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-07 11:44:26,123 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 11:44:27,539 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :e142dd9a0f2e56d9dc1447
2022-10-07 11:44:27,539 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : e142dd9a0f2e56d9dc1447
2022-10-07 11:44:27,557 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 11:44:27,600 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Edit previous message with message Id : 489
2022-10-07 11:44:28,692 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: e142dd9a0f2e56d9dc1447
2022-10-07 11:44:29,200 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: e142dd9a0f2e56d9dc1447
2022-10-07 11:44:29,997 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : e142dd9a0f2e56d9dc1447
2022-10-07 11:44:29,998 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 490
2022-10-07 11:44:31,033 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: e142dd9a0f2e56d9dc1447
2022-10-07 11:44:35,293 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : e142dd9a0f2e56d9dc1447
2022-10-07 11:44:35,303 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-7] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  ] with root cause
java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  
	at java.base/java.util.Formatter$FormatSpecifier.failMismatch(Formatter.java:4422)
	at java.base/java.util.Formatter$FormatSpecifier.checkBadFlags(Formatter.java:3151)
	at java.base/java.util.Formatter$FormatSpecifier.checkGeneral(Formatter.java:3109)
	at java.base/java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2870)
	at java.base/java.util.Formatter.parse(Formatter.java:2713)
	at java.base/java.util.Formatter.format(Formatter.java:2655)
	at java.base/java.util.Formatter.format(Formatter.java:2609)
	at java.base/java.lang.String.format(String.java:2897)
	at com.godeltech.springgodelbot.util.CallbackUtil$DateUtil.createEditMessageForSecondDate(CallbackUtil.java:150)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType.createSendMessage(SecondDatePassengerCallbackType.java:44)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:55)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-07 11:44:35,407 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : e142dd9a0f2e56d9dc1447
2022-10-07 11:44:35,408 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  ] with root cause
java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  
	at java.base/java.util.Formatter$FormatSpecifier.failMismatch(Formatter.java:4422)
	at java.base/java.util.Formatter$FormatSpecifier.checkBadFlags(Formatter.java:3151)
	at java.base/java.util.Formatter$FormatSpecifier.checkGeneral(Formatter.java:3109)
	at java.base/java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2870)
	at java.base/java.util.Formatter.parse(Formatter.java:2713)
	at java.base/java.util.Formatter.format(Formatter.java:2655)
	at java.base/java.util.Formatter.format(Formatter.java:2609)
	at java.base/java.lang.String.format(String.java:2897)
	at com.godeltech.springgodelbot.util.CallbackUtil$DateUtil.createEditMessageForSecondDate(CallbackUtil.java:150)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType.createSendMessage(SecondDatePassengerCallbackType.java:44)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:55)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-07 11:44:37,461 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : e142dd9a0f2e56d9dc1447
2022-10-07 11:44:37,462 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-9] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  ] with root cause
java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  
	at java.base/java.util.Formatter$FormatSpecifier.failMismatch(Formatter.java:4422)
	at java.base/java.util.Formatter$FormatSpecifier.checkBadFlags(Formatter.java:3151)
	at java.base/java.util.Formatter$FormatSpecifier.checkGeneral(Formatter.java:3109)
	at java.base/java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2870)
	at java.base/java.util.Formatter.parse(Formatter.java:2713)
	at java.base/java.util.Formatter.format(Formatter.java:2655)
	at java.base/java.util.Formatter.format(Formatter.java:2609)
	at java.base/java.lang.String.format(String.java:2897)
	at com.godeltech.springgodelbot.util.CallbackUtil$DateUtil.createEditMessageForSecondDate(CallbackUtil.java:150)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType.createSendMessage(SecondDatePassengerCallbackType.java:44)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:55)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-07 11:44:41,514 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : e142dd9a0f2e56d9dc1447
2022-10-07 11:44:41,515 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  ] with root cause
java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  
	at java.base/java.util.Formatter$FormatSpecifier.failMismatch(Formatter.java:4422)
	at java.base/java.util.Formatter$FormatSpecifier.checkBadFlags(Formatter.java:3151)
	at java.base/java.util.Formatter$FormatSpecifier.checkGeneral(Formatter.java:3109)
	at java.base/java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2870)
	at java.base/java.util.Formatter.parse(Formatter.java:2713)
	at java.base/java.util.Formatter.format(Formatter.java:2655)
	at java.base/java.util.Formatter.format(Formatter.java:2609)
	at java.base/java.lang.String.format(String.java:2897)
	at com.godeltech.springgodelbot.util.CallbackUtil$DateUtil.createEditMessageForSecondDate(CallbackUtil.java:150)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType.createSendMessage(SecondDatePassengerCallbackType.java:44)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:55)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-07 11:44:49,569 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : e142dd9a0f2e56d9dc1447
2022-10-07 11:44:49,570 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  ] with root cause
java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  
	at java.base/java.util.Formatter$FormatSpecifier.failMismatch(Formatter.java:4422)
	at java.base/java.util.Formatter$FormatSpecifier.checkBadFlags(Formatter.java:3151)
	at java.base/java.util.Formatter$FormatSpecifier.checkGeneral(Formatter.java:3109)
	at java.base/java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2870)
	at java.base/java.util.Formatter.parse(Formatter.java:2713)
	at java.base/java.util.Formatter.format(Formatter.java:2655)
	at java.base/java.util.Formatter.format(Formatter.java:2609)
	at java.base/java.lang.String.format(String.java:2897)
	at com.godeltech.springgodelbot.util.CallbackUtil$DateUtil.createEditMessageForSecondDate(CallbackUtil.java:150)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType.createSendMessage(SecondDatePassengerCallbackType.java:44)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:55)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-07 11:45:05,626 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : e142dd9a0f2e56d9dc1447
2022-10-07 11:45:05,628 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  ] with root cause
java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  
	at java.base/java.util.Formatter$FormatSpecifier.failMismatch(Formatter.java:4422)
	at java.base/java.util.Formatter$FormatSpecifier.checkBadFlags(Formatter.java:3151)
	at java.base/java.util.Formatter$FormatSpecifier.checkGeneral(Formatter.java:3109)
	at java.base/java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2870)
	at java.base/java.util.Formatter.parse(Formatter.java:2713)
	at java.base/java.util.Formatter.format(Formatter.java:2655)
	at java.base/java.util.Formatter.format(Formatter.java:2609)
	at java.base/java.lang.String.format(String.java:2897)
	at com.godeltech.springgodelbot.util.CallbackUtil$DateUtil.createEditMessageForSecondDate(CallbackUtil.java:150)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType.createSendMessage(SecondDatePassengerCallbackType.java:44)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:55)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-07 11:45:37,701 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : e142dd9a0f2e56d9dc1447
2022-10-07 11:45:37,702 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  ] with root cause
java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags =  
	at java.base/java.util.Formatter$FormatSpecifier.failMismatch(Formatter.java:4422)
	at java.base/java.util.Formatter$FormatSpecifier.checkBadFlags(Formatter.java:3151)
	at java.base/java.util.Formatter$FormatSpecifier.checkGeneral(Formatter.java:3109)
	at java.base/java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2870)
	at java.base/java.util.Formatter.parse(Formatter.java:2713)
	at java.base/java.util.Formatter.format(Formatter.java:2655)
	at java.base/java.util.Formatter.format(Formatter.java:2609)
	at java.base/java.lang.String.format(String.java:2897)
	at com.godeltech.springgodelbot.util.CallbackUtil$DateUtil.createEditMessageForSecondDate(CallbackUtil.java:150)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType.createSendMessage(SecondDatePassengerCallbackType.java:44)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:55)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-07 11:46:28,468 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:46:28,471 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:46:28,477 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:46:40,572 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 23520 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:46:40,575 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:46:41,050 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:46:41,100 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 3 JPA repository interfaces.
2022-10-07 11:46:41,431 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:46:41,436 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:46:41,437 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:46:41,437 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:46:41,511 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:46:41,512 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 895 ms
2022-10-07 11:46:41,621 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:46:41,675 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:46:41,753 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:46:41,826 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:46:42,082 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:46:42,154 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:46:42,219 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:46:42,245 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:46:42,319 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:46:42,376 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:46:42,698 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:46:42,703 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:46:43,141 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:46:43,398 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:46:43,442 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:46:43,452 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:46:43,453 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:46:43,453 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:46:43,465 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 11:46:43,547 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 11:46:44,048 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.861 seconds (JVM running for 4.697)
2022-10-07 11:46:52,252 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:46:52,252 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-3] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:46:52,254 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-3] Completed initialization in 2 ms
2022-10-07 11:46:52,388 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-3] Got /start message
2022-10-07 11:46:52,396 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-07 11:46:54,310 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :5c49cab500360c3353b9fd
2022-10-07 11:46:54,311 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-4] Got ACTIVITY callback type with activity :DRIVER and token : 5c49cab500360c3353b9fd
2022-10-07 11:46:54,336 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-4] Find all routes
2022-10-07 11:46:54,414 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Edit previous message with message Id : 493
2022-10-07 11:46:55,163 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 5c49cab500360c3353b9fd
2022-10-07 11:46:55,640 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 5c49cab500360c3353b9fd
2022-10-07 11:46:57,355 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-1] Callback data with type: CHOSE_DATE_DRIVER with token : 5c49cab500360c3353b9fd
2022-10-07 11:46:57,356 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 494
2022-10-07 11:46:58,249 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_DRIVER callback type with first date :2022-10-23 with token: 5c49cab500360c3353b9fd
2022-10-07 11:47:01,996 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_DRIVER callback type with second date :2022-10-27 and token : 5c49cab500360c3353b9fd
2022-10-07 11:47:04,011 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-6] Got CANCEL_DATE_DRIVER type with token : 5c49cab500360c3353b9fd
2022-10-07 11:47:04,853 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_DRIVER callback type with second date :2022-10-26 and token : 5c49cab500360c3353b9fd
2022-10-07 11:47:05,940 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 5c49cab500360c3353b9fd
2022-10-07 11:47:06,992 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_DRIVER callback type with second date :2022-10-25 and token : 5c49cab500360c3353b9fd
2022-10-07 11:47:07,917 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_DRIVER callback type with second date :2022-10-20 and token : 5c49cab500360c3353b9fd
2022-10-07 11:47:09,127 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_DRIVER type with token : 5c49cab500360c3353b9fd
2022-10-07 11:47:10,272 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_DRIVER callback type with second date :2022-10-19 and token : 5c49cab500360c3353b9fd
2022-10-07 11:47:11,483 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_DRIVER callback type with second date :2022-10-23 and token : 5c49cab500360c3353b9fd
2022-10-07 11:47:12,234 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-2] Got CANCEL_DATE_DRIVER type with token : 5c49cab500360c3353b9fd
2022-10-07 11:47:13,176 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_DRIVER callback type with second date :2022-10-22 and token : 5c49cab500360c3353b9fd
2022-10-07 11:47:14,150 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 495
2022-10-07 11:47:14,234 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-19 and second date:2022-10-22 with cities:[City(id=4, name=GDANSK), City(id=5, name=BREST)]
2022-10-07 11:47:19,379 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_DRIVER_REQUEST with token : 5c49cab500360c3353b9fd
2022-10-07 11:47:19,379 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : 5c49cab500360c3353b9fd
2022-10-07 11:47:19,380 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Delete messages with chat id : 834450967 and messages : [496, 493, 494, 495]
2022-10-07 11:47:26,817 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-10] Got OFFERS_ACTIVITY callback type
2022-10-07 11:47:26,817 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :524ad499bd3162e703ac76
2022-10-07 11:47:27,776 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 524ad499bd3162e703ac76
2022-10-07 11:47:27,778 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 11:47:28,637 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :19 and token: 524ad499bd3162e703ac76
2022-10-07 11:47:28,641 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 19
2022-10-07 11:47:30,086 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_DATE_OF_OFFER type with token: 524ad499bd3162e703ac76
2022-10-07 11:47:30,087 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with id:19, with token :524ad499bd3162e703ac76
2022-10-07 11:47:31,851 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-8] Change the first date of offer, changed first date: 2022-10-26 and token : 524ad499bd3162e703ac76
2022-10-07 11:47:33,003 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with date :2022-10-30 with token: 524ad499bd3162e703ac76
2022-10-07 11:47:34,223 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with date :2022-10-29 with token: 524ad499bd3162e703ac76
2022-10-07 11:47:35,279 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-5] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-29 and token: 524ad499bd3162e703ac76
2022-10-07 11:47:36,429 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-29 with token: 524ad499bd3162e703ac76
2022-10-07 11:47:37,510 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with date :2022-10-30 with token: 524ad499bd3162e703ac76
2022-10-07 11:47:39,015 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-30 and token: 524ad499bd3162e703ac76
2022-10-07 11:47:41,474 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-3] Got FINISH_DATE_OFFER callback type with token : 524ad499bd3162e703ac76
2022-10-07 11:47:41,477 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Update date of offer with first date : 2022-10-26 , and second date : null 
2022-10-07 11:47:41,477 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Get offer by id: 19
2022-10-07 11:47:41,523 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-10-26 and second date:null with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-07 11:47:47,050 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-4] Got MAIN_MENU callback type
2022-10-07 11:47:47,054 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-07 11:47:47,058 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Delete token from messages : 524ad499bd3162e703ac76
2022-10-07 11:53:48,549 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :db440db81119d3b81ba679
2022-10-07 11:53:48,549 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-8] Got ACTIVITY callback type with activity :PASSENGER and token : db440db81119d3b81ba679
2022-10-07 11:53:48,551 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Edit previous message with message Id : 497
2022-10-07 11:53:49,529 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: db440db81119d3b81ba679
2022-10-07 11:53:49,979 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: db440db81119d3b81ba679
2022-10-07 11:53:51,404 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : db440db81119d3b81ba679
2022-10-07 11:53:51,405 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Edit previous message with message Id : 498
2022-10-07 11:53:52,676 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-10-23 with token: db440db81119d3b81ba679
2022-10-07 11:53:56,276 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : db440db81119d3b81ba679
2022-10-07 11:53:58,242 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-26 and token : db440db81119d3b81ba679
2022-10-07 11:53:59,134 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-24 and token : db440db81119d3b81ba679
2022-10-07 11:53:59,824 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : db440db81119d3b81ba679
2022-10-07 11:54:01,618 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-25 and token : db440db81119d3b81ba679
2022-10-07 11:54:03,170 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_PASSENGER_REQUEST with token : db440db81119d3b81ba679
2022-10-07 11:54:03,170 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Delete messages with chat id : 834450967 and messages : [497, 498, 499]
2022-10-07 11:54:03,630 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : db440db81119d3b81ba679
2022-10-07 11:54:07,261 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:07,261 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:07,262 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 500
2022-10-07 11:54:08,498 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:09,013 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:09,705 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_DRIVER with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:09,705 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Edit previous message with message Id : 501
2022-10-07 11:54:10,654 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-9] Got FIRST_DATE_DRIVER callback type with first date :2022-10-20 with token: 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:14,428 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:15,957 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_DRIVER callback type with second date :2022-10-21 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:16,929 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_DRIVER callback type with second date :2022-10-23 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:18,929 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_DRIVER callback type with second date :2022-10-19 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:20,028 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_DRIVER callback type with second date :2022-10-20 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:21,087 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_DRIVER type with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:21,861 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_DRIVER callback type with second date :2022-10-23 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:22,678 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:23,490 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_DRIVER callback type with second date :2022-10-27 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:26,293 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_DRIVER callback type with second date :2022-10-23 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:27,467 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_DRIVER callback type with second date :2022-10-26 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:28,173 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-3] Got CANCEL_DATE_DRIVER type with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:29,430 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:33,444 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_DRIVER type with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:34,948 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:35,837 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_DRIVER type with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:36,725 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:37,610 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-5] Got CANCEL_DATE_DRIVER type with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:41,443 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:43,068 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_DRIVER callback type with second date :2022-10-26 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:43,872 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_DRIVER type with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:44,989 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:45,893 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-4] Got CANCEL_DATE_DRIVER type with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:54:46,759 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_DRIVER callback type with second date :2022-10-24 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:55:14,879 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:55:14,881 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:55:14,886 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:55:18,790 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15380 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:55:18,795 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:55:19,302 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:55:19,363 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 54 ms. Found 3 JPA repository interfaces.
2022-10-07 11:55:19,743 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:55:19,751 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:55:19,751 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:55:19,752 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:55:19,836 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:55:19,836 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1002 ms
2022-10-07 11:55:19,957 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:55:20,023 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:55:20,108 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:55:20,190 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:55:20,499 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:55:20,575 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:55:20,647 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:55:20,690 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:55:20,797 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:55:20,877 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:55:21,274 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:55:21,280 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:56:12,631 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:56:13,070 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:56:13,078 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:56:13,078 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:56:13,079 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:56:13,096 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 11:56:13,223 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 11:56:13,782 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 55.457 seconds (JVM running for 56.323)
2022-10-07 11:56:13,963 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:56:13,965 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:56:13,970 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:56:16,376 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 1492 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:56:16,380 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:56:16,870 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:56:16,935 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 58 ms. Found 3 JPA repository interfaces.
2022-10-07 11:56:17,277 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:56:17,283 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:56:17,283 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:56:17,283 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:56:17,379 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:56:17,379 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 961 ms
2022-10-07 11:56:17,518 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:56:17,582 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:56:17,663 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:56:17,741 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:56:18,065 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:56:18,128 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:56:18,201 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:56:18,229 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:56:18,327 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:56:18,402 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:56:18,772 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:56:18,779 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:57:20,902 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:57:21,581 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:57:21,589 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:57:21,588 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:57:21,589 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:57:21,604 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 11:57:21,734 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 11:57:23,314 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 67.326 seconds (JVM running for 68.402)
2022-10-07 11:57:23,494 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:57:23,496 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:57:23,502 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:57:34,794 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 21108 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:57:34,797 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:57:35,381 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:57:35,443 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 55 ms. Found 3 JPA repository interfaces.
2022-10-07 11:57:35,844 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:57:35,850 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:57:35,851 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:57:35,851 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:57:35,939 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:57:35,940 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1105 ms
2022-10-07 11:57:36,068 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:57:36,131 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:57:36,221 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:57:36,301 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:57:36,614 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:57:36,704 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:57:36,772 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:57:36,801 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:57:36,889 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:57:36,959 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:57:37,338 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:57:37,344 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:57:55,429 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:57:55,751 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:57:55,760 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:57:55,760 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:57:55,760 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:57:55,776 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 11:57:55,885 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 11:57:56,369 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 21.985 seconds (JVM running for 23.139)
2022-10-07 11:57:56,557 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:57:56,558 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:57:56,564 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:57:58,995 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16260 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:57:58,999 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:57:59,499 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:57:59,568 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 63 ms. Found 3 JPA repository interfaces.
2022-10-07 11:57:59,934 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:57:59,940 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:57:59,940 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:57:59,941 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:58:00,033 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:58:00,033 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 996 ms
2022-10-07 11:58:00,156 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:58:00,215 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:58:00,304 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:58:00,389 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:58:00,703 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:58:00,781 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:58:00,860 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:58:00,891 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:58:00,987 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:58:01,058 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:58:01,470 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:58:01,476 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:58:27,553 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:58:27,923 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:58:27,933 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:58:27,933 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:58:27,934 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:58:27,948 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 11:58:28,045 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:58:28,046 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 11:58:28,060 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 11:58:28,300 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:28,302 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:28,578 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 29.991 seconds (JVM running for 31.067)
2022-10-07 11:58:28,648 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-2] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:28,760 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:58:28,761 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 11:58:28,767 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 11:58:39,019 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 23564 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 11:58:39,022 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 11:58:39,557 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 11:58:39,622 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 57 ms. Found 3 JPA repository interfaces.
2022-10-07 11:58:40,018 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 11:58:40,024 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 11:58:40,024 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 11:58:40,025 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 11:58:40,123 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 11:58:40,123 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1069 ms
2022-10-07 11:58:40,265 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 11:58:40,330 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 11:58:40,408 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 11:58:40,474 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 11:58:40,830 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 11:58:40,913 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 11:58:41,010 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 11:58:41,034 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 11:58:41,135 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 11:58:41,208 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 11:58:41,630 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 11:58:41,635 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 11:58:42,163 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 11:58:42,384 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 11:58:42,400 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 11:58:42,408 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:58:42,408 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 11:58:42,409 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 11:58:42,423 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 11:58:42,503 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 11:58:43,098 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.465 seconds (JVM running for 5.38)
2022-10-07 11:58:50,559 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 11:58:50,560 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 11:58:50,560 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-07 11:58:50,652 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:50,653 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:50,838 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_DRIVER callback type with second date :2022-11-03 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:50,839 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-2] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:50,964 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_DRIVER callback type with second date :2022-10-31 and token : 3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:50,965 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=3947fc9e5c56ae6f9ec3ba
2022-10-07 11:58:51,600 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-07 11:58:51,601 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :d94a5fa9388eb6e0ee19e0
2022-10-07 11:58:54,142 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : DRIVER and token: d94a5fa9388eb6e0ee19e0
2022-10-07 11:58:54,145 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :DRIVER
2022-10-07 11:58:55,146 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :18 and token: d94a5fa9388eb6e0ee19e0
2022-10-07 11:58:55,148 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 18
2022-10-07 11:58:55,898 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_DATE_OF_OFFER type with token: d94a5fa9388eb6e0ee19e0
2022-10-07 11:58:55,898 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with id:18, with token :d94a5fa9388eb6e0ee19e0
2022-10-07 11:58:56,975 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-8] Change the first date of offer, changed first date: 2022-10-30 and token : d94a5fa9388eb6e0ee19e0
2022-10-07 11:58:57,709 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with date :2022-11-02 with token: d94a5fa9388eb6e0ee19e0
2022-10-07 11:58:58,536 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-02 and token: d94a5fa9388eb6e0ee19e0
2022-10-07 11:58:59,597 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-30 and token: d94a5fa9388eb6e0ee19e0
2022-10-07 11:59:00,379 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-29 and token : d94a5fa9388eb6e0ee19e0
2022-10-07 11:59:04,267 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-11-02 with token: d94a5fa9388eb6e0ee19e0
2022-10-07 11:59:08,920 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-4] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-02 and token: d94a5fa9388eb6e0ee19e0
2022-10-07 11:59:09,947 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-5] Got FINISH_DATE_OFFER callback type with token : d94a5fa9388eb6e0ee19e0
2022-10-07 11:59:09,951 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Update date of offer with first date : 2022-10-29 , and second date : null 
2022-10-07 11:59:09,952 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Get offer by id: 18
2022-10-07 11:59:09,993 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find passengers by first date :2022-10-29 and second date:null with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-07 11:59:13,010 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type
2022-10-07 11:59:13,014 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-07 11:59:13,022 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : d94a5fa9388eb6e0ee19e0
2022-10-07 11:59:19,549 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-7] Got /start message
2022-10-07 11:59:19,552 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-07 12:21:01,229 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 12:21:01,231 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 12:21:01,237 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 12:21:07,960 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 18568 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 12:21:07,963 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 12:21:08,486 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 12:21:08,538 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2022-10-07 12:21:08,859 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 12:21:08,874 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 12:21:08,875 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 12:21:08,875 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 12:21:08,956 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 12:21:08,957 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 960 ms
2022-10-07 12:21:09,062 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 12:21:09,117 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 12:21:09,197 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 12:21:09,271 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 12:21:09,552 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 12:21:09,626 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 12:21:09,709 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 12:21:09,755 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 12:21:09,884 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 12:21:09,995 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 12:21:10,526 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 12:21:10,534 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 12:21:11,303 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 12:21:11,650 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 12:21:11,667 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 12:21:11,682 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 12:21:11,682 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 12:21:11,682 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 12:21:11,697 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 12:21:11,811 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 12:21:12,321 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.713 seconds (JVM running for 5.579)
2022-10-07 12:21:25,125 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 12:21:25,126 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 12:21:25,127 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 12:21:25,253 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :a64c3b8a1dd15fca4636ea
2022-10-07 12:21:25,253 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : a64c3b8a1dd15fca4636ea
2022-10-07 12:21:25,279 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-07 12:21:27,645 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: a64c3b8a1dd15fca4636ea
2022-10-07 12:21:29,921 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: a64c3b8a1dd15fca4636ea
2022-10-07 12:21:34,436 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token : a64c3b8a1dd15fca4636ea
2022-10-07 12:21:35,023 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 2 and token : a64c3b8a1dd15fca4636ea
2022-10-07 12:21:36,774 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-6] Got callback : CANCEL_DRIVER_REQUEST with token : a64c3b8a1dd15fca4636ea
2022-10-07 12:21:36,775 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : a64c3b8a1dd15fca4636ea
2022-10-07 12:21:36,790 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Delete messages with chat id : 834450967 and messages : [504]
2022-10-07 12:21:40,344 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :0e49bbadbb3cc3e5321347
2022-10-07 12:21:40,344 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :DRIVER and token : 0e49bbadbb3cc3e5321347
2022-10-07 12:49:24,085 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 12:49:24,087 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 12:49:24,094 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 12:49:29,813 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 9392 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 12:49:29,816 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 12:49:30,322 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 12:49:30,376 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2022-10-07 12:49:30,737 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 12:49:30,759 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 12:49:30,759 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 12:49:30,759 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 12:49:30,860 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 12:49:30,860 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1013 ms
2022-10-07 12:49:31,057 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 12:49:31,119 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 12:49:31,228 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 12:49:31,335 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 12:49:31,653 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 12:49:31,715 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 12:49:31,790 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 12:49:31,849 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 12:49:31,973 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 12:49:32,072 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 12:49:32,513 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 12:49:32,519 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 12:49:33,036 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 12:49:33,228 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 12:49:33,243 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 12:49:33,250 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 12:49:33,250 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 12:49:33,252 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 12:49:33,267 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 12:49:33,355 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 12:49:41,132 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 11.688 seconds (JVM running for 12.432)
2022-10-07 12:50:08,394 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 12:50:08,394 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 12:50:08,395 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 12:50:08,493 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 0e49bbadbb3cc3e5321347
2022-10-07 12:50:08,495 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=0e49bbadbb3cc3e5321347
2022-10-07 12:50:15,849 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :784140a20fde66292a2760
2022-10-07 12:50:15,849 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-3] Got ACTIVITY callback type with activity :PASSENGER and token : 784140a20fde66292a2760
2022-10-07 12:50:15,867 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-3] Find all routes
2022-10-07 12:50:17,686 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 784140a20fde66292a2760
2022-10-07 12:50:19,617 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 784140a20fde66292a2760
2022-10-07 12:50:21,816 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 784140a20fde66292a2760
2022-10-07 12:50:22,948 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 784140a20fde66292a2760
2022-10-07 12:50:23,669 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 784140a20fde66292a2760
2022-10-07 12:50:24,488 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 784140a20fde66292a2760
2022-10-07 12:50:25,369 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: 784140a20fde66292a2760 
2022-10-07 12:50:29,414 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 784140a20fde66292a2760
2022-10-07 12:50:31,308 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-1] Callback data with type: CHOSE_DATE_PASSENGER with token : 784140a20fde66292a2760
2022-10-07 12:50:31,315 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Edit previous message with message Id : 505
2022-10-07 15:02:27,481 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 15:02:27,484 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 15:02:27,490 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 15:02:35,026 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 20512 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 15:02:35,030 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 15:02:35,627 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 15:02:35,683 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2022-10-07 15:02:36,091 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 15:02:36,098 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 15:02:36,098 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 15:02:36,098 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 15:02:36,202 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 15:02:36,202 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1129 ms
2022-10-07 15:02:36,315 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 15:02:36,370 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 15:02:36,469 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 15:02:36,545 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 15:02:36,836 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 15:02:36,911 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 15:02:36,985 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 15:02:37,013 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 15:02:37,109 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 15:02:37,181 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 15:02:37,625 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 15:02:37,630 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 15:02:38,293 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 15:02:38,587 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 15:02:38,604 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 15:02:38,612 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 15:02:38,612 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 15:02:38,613 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 15:02:38,626 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 15:02:38,725 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 15:02:39,269 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.604 seconds (JVM running for 5.311)
2022-10-07 15:12:16,106 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 15:12:16,106 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 15:12:16,107 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 15:12:16,222 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-07 15:12:16,229 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 15:12:17,288 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :28404ba5bdcd00b999e507
2022-10-07 15:12:17,288 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : 28404ba5bdcd00b999e507
2022-10-07 15:12:17,315 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 15:12:18,239 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 28404ba5bdcd00b999e507
2022-10-07 15:12:19,782 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 28404ba5bdcd00b999e507
2022-10-07 15:12:21,190 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_DRIVER with token : 28404ba5bdcd00b999e507
2022-10-07 15:12:22,263 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_DRIVER callback type with first date :2022-10-19 with token: 28404ba5bdcd00b999e507
2022-10-07 15:12:29,031 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_DRIVER callback type with second date :2022-10-26 and token : 28404ba5bdcd00b999e507
2022-10-07 15:12:31,162 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-8] Got CANCEL_DATE_DRIVER type with token : 28404ba5bdcd00b999e507
2022-10-07 15:12:39,939 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_DRIVER callback type with second date :2022-10-25 and token : 28404ba5bdcd00b999e507
2022-10-07 15:12:41,601 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find passengers by first date :2022-10-19 and second date:2022-10-25 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 15:12:46,878 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 28404ba5bdcd00b999e507
2022-10-07 15:12:46,879 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : 28404ba5bdcd00b999e507
2022-10-07 15:12:46,894 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Delete messages with chat id : 834450967 and messages : [508]
2022-10-07 15:22:00,565 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 15:22:00,567 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 15:22:00,573 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 15:22:08,827 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 1872 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 15:22:08,829 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 15:22:09,324 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 15:22:09,375 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 3 JPA repository interfaces.
2022-10-07 15:22:09,696 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 15:22:09,701 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 15:22:09,702 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 15:22:09,702 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 15:22:09,777 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 15:22:09,777 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 919 ms
2022-10-07 15:22:09,878 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 15:22:09,931 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 15:22:10,006 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 15:22:10,083 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 15:22:10,378 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 15:22:10,456 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 15:22:10,521 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 15:22:10,544 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 15:22:10,614 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 15:22:10,668 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 15:22:10,992 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 15:22:10,999 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 15:22:11,438 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 15:22:11,635 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 15:22:11,650 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 15:22:11,657 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 15:22:11,657 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 15:22:11,657 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 15:22:11,670 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 15:22:11,740 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 15:22:12,261 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.766 seconds (JVM running for 4.653)
2022-10-07 15:24:24,636 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 15:24:24,636 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 15:24:24,637 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 15:24:24,770 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :b14fab88dc9319bb2c1c80
2022-10-07 15:24:24,771 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:24,791 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-07 15:24:25,977 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: b14fab88dc9319bb2c1c80
2022-10-07 15:24:26,678 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: b14fab88dc9319bb2c1c80
2022-10-07 15:24:28,130 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:29,343 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: b14fab88dc9319bb2c1c80
2022-10-07 15:24:30,945 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:33,109 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_PASSENGER type with token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:34,144 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:35,289 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-9] Got CANCEL_DATE_PASSENGER type with token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:38,421 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-27 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:39,456 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-23 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:40,524 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-24 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:41,416 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-26 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:42,156 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-25 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:43,526 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-29 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:44,615 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-26 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:45,370 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_PASSENGER type with token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:45,955 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-28 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:48,845 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-26 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:49,645 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_PASSENGER type with token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:50,547 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-26 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:52,011 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-29 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:53,197 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-3] Got CANCEL_DATE_PASSENGER type with token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:54,080 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-29 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:55,004 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-28 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:55,676 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-6] Got CANCEL_DATE_PASSENGER type with token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:56,535 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-29 and token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:58,048 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-8] Got CANCEL_DATE_PASSENGER type with token : b14fab88dc9319bb2c1c80
2022-10-07 15:24:59,314 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find drivers by first date :2022-10-23 and second date:null with cities:[City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-07 15:25:12,240 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-10] Got callback : CANCEL_PASSENGER_REQUEST with token : b14fab88dc9319bb2c1c80
2022-10-07 15:25:12,272 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Delete messages with chat id : 834450967 and messages : [509]
2022-10-07 15:25:12,524 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : b14fab88dc9319bb2c1c80
2022-10-07 15:25:14,116 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 15:25:14,116 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :4441a78ab25565a6b0f154
2022-10-07 15:25:15,270 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 4441a78ab25565a6b0f154
2022-10-07 15:25:15,274 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 15:25:16,542 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :25 and token: 4441a78ab25565a6b0f154
2022-10-07 15:25:16,545 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 25
2022-10-07 15:25:20,116 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-4] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: 4441a78ab25565a6b0f154
2022-10-07 15:25:24,077 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeRouteOfOfferCallbackType [http-nio-5000-exec-5] Got callback type :FINISH_CHANGING_ROUTE_OF_OFFER, with token:4441a78ab25565a6b0f154
2022-10-07 15:25:24,078 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update route of offer with id :25
2022-10-07 15:25:24,082 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Update cities of offer with id : 25 and cities : [City(id=3, name=WROCLAW), City(id=6, name=GRODNO)] 
2022-10-07 15:25:24,082 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Get offer by id: 25
2022-10-07 15:25:24,122 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-10-16 and second date:2022-10-20 with cities:[City(id=3, name=WROCLAW), City(id=6, name=GRODNO)]
2022-10-07 15:25:24,129 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : 4441a78ab25565a6b0f154
2022-10-07 15:25:30,569 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type
2022-10-07 15:25:30,578 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-07 15:25:30,591 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : 4441a78ab25565a6b0f154
2022-10-07 15:36:23,906 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 15:36:23,908 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 15:36:23,913 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 15:36:29,139 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 19676 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 15:36:29,142 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 15:36:29,664 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 15:36:29,715 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 3 JPA repository interfaces.
2022-10-07 15:36:30,056 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 15:36:30,062 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 15:36:30,062 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 15:36:30,062 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 15:36:30,141 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 15:36:30,141 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 957 ms
2022-10-07 15:36:30,281 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 15:36:30,381 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 15:36:30,495 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 15:36:30,605 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 15:36:30,910 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 15:36:30,981 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 15:36:31,054 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 15:36:31,085 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 15:36:31,180 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 15:36:31,256 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 15:36:31,698 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 15:36:31,704 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 15:36:32,400 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 15:36:32,677 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 15:36:32,697 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 15:36:32,708 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 15:36:32,708 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 15:36:32,707 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 15:36:32,727 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 15:36:32,817 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 15:36:33,348 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.608 seconds (JVM running for 5.275)
2022-10-07 15:37:40,874 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 15:37:40,874 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 15:37:40,875 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 15:37:41,091 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :bb432683acd485cc44ffe3
2022-10-07 15:37:41,092 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : bb432683acd485cc44ffe3
2022-10-07 15:37:41,118 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-07 15:37:41,316 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 15:37:41,317 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :bb432683acd485cc44ffe3
2022-10-07 15:37:41,320 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-2] There was an answer on the message with id : bb432683acd485cc44ffe3
2022-10-07 15:37:41,377 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :bb432683acd485cc44ffe3
2022-10-07 15:37:41,378 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] There was an answer on the message with id : bb432683acd485cc44ffe3
2022-10-07 15:37:43,976 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: bb432683acd485cc44ffe3
2022-10-07 15:37:45,894 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: bb432683acd485cc44ffe3
2022-10-07 15:37:47,990 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_PASSENGER with token : bb432683acd485cc44ffe3
2022-10-07 15:37:49,057 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-7] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: bb432683acd485cc44ffe3
2022-10-07 15:37:49,893 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : bb432683acd485cc44ffe3
2022-10-07 15:37:51,919 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-9] Got CANCEL_DATE_PASSENGER type with token : bb432683acd485cc44ffe3
2022-10-07 15:37:53,223 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-10-26 and second date:null with cities:[City(id=2, name=BELASTOK), City(id=3, name=WROCLAW)]
2022-10-07 15:38:01,579 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_PASSENGER_REQUEST with token : bb432683acd485cc44ffe3
2022-10-07 15:38:01,597 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Delete messages with chat id : 834450967 and messages : [510]
2022-10-07 15:38:01,831 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : bb432683acd485cc44ffe3
2022-10-07 15:38:08,077 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 15:38:08,078 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :8445c4b5233312c497ef75
2022-10-07 15:38:09,943 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : DRIVER and token: 8445c4b5233312c497ef75
2022-10-07 15:38:09,948 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :DRIVER
2022-10-07 15:38:11,465 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :23 and token: 8445c4b5233312c497ef75
2022-10-07 15:38:11,467 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 23
2022-10-07 15:38:20,579 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : DRIVER and token: 8445c4b5233312c497ef75
2022-10-07 15:38:20,583 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :DRIVER
2022-10-07 15:38:21,739 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-6] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 8445c4b5233312c497ef75
2022-10-07 15:38:21,739 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : 8445c4b5233312c497ef75
2022-10-07 15:38:25,474 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :9b440db04b5349ed969a63
2022-10-07 15:38:25,474 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :PASSENGER and token : 9b440db04b5349ed969a63
2022-10-07 15:38:27,734 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 9b440db04b5349ed969a63
2022-10-07 15:38:35,669 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 9b440db04b5349ed969a63
2022-10-07 15:38:38,189 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_PASSENGER with token : 9b440db04b5349ed969a63
2022-10-07 15:38:40,308 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_PASSENGER type with first date :2022-10-20 with token: 9b440db04b5349ed969a63
2022-10-07 15:38:41,561 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find drivers by first date :2022-10-20 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-07 15:38:53,825 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-3] Got callback : CANCEL_PASSENGER_REQUEST with token : 9b440db04b5349ed969a63
2022-10-07 15:38:53,826 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Delete messages with chat id : 834450967 and messages : [512]
2022-10-07 15:38:53,939 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Delete token from messages : 9b440db04b5349ed969a63
2022-10-07 15:39:05,492 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-07 15:39:05,493 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :4e45c4adb3fb2b6dc43fd0
2022-10-07 15:39:14,845 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : PASSENGER and token: 4e45c4adb3fb2b6dc43fd0
2022-10-07 15:39:14,846 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 15:39:43,095 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :22 and token: 4e45c4adb3fb2b6dc43fd0
2022-10-07 15:39:43,098 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 22
2022-10-07 15:39:45,155 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: 4e45c4adb3fb2b6dc43fd0
2022-10-07 15:39:45,157 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 15:39:46,074 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :25 and token: 4e45c4adb3fb2b6dc43fd0
2022-10-07 15:39:46,077 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 25
2022-10-07 15:39:47,739 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: 4e45c4adb3fb2b6dc43fd0
2022-10-07 15:39:47,742 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 15:39:48,466 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-10] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 4e45c4adb3fb2b6dc43fd0
2022-10-07 15:39:48,467 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : 4e45c4adb3fb2b6dc43fd0
2022-10-07 15:39:49,864 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :7d47ad8ba69e05b47cd8ff
2022-10-07 15:39:49,864 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 7d47ad8ba69e05b47cd8ff
2022-10-07 15:39:52,294 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 7d47ad8ba69e05b47cd8ff
2022-10-07 15:39:52,897 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 7d47ad8ba69e05b47cd8ff
2022-10-07 15:39:53,629 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: 7d47ad8ba69e05b47cd8ff
2022-10-07 15:39:54,238 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 7d47ad8ba69e05b47cd8ff
2022-10-07 15:39:55,051 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_PASSENGER with token : 7d47ad8ba69e05b47cd8ff
2022-10-07 15:39:56,974 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-7] Got FIRST_DATE_PASSENGER type with first date :2022-10-23 with token: 7d47ad8ba69e05b47cd8ff
2022-10-07 15:39:57,984 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find drivers by first date :2022-10-23 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-07 15:40:00,373 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-9] Got callback with type : CHECK_PASSENGER_REQUEST with token : 7d47ad8ba69e05b47cd8ff
2022-10-07 15:40:03,708 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-10] Got message for saving description of passenger with token :7d47ad8ba69e05b47cd8ff 
2022-10-07 15:40:03,711 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Save passenger request : Request(chatId=834450967, userDto=UserDto(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97), cities=[City(id=3, name=WROCLAW), City(id=5, name=BREST)], firstDate=2022-10-23, secondDate=null, description=Yep yep yep, needForDescription=true, messages=[514], activity=PASSENGER)
2022-10-07 15:40:03,797 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Delete messages with chat id : 834450967 and messages : [514]
2022-10-07 15:40:03,895 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : 7d47ad8ba69e05b47cd8ff
2022-10-07 15:40:06,446 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 15:40:06,446 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :95468e9523abaaba909373
2022-10-07 15:40:07,290 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 95468e9523abaaba909373
2022-10-07 15:40:07,293 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 15:40:08,332 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :28 and token: 95468e9523abaaba909373
2022-10-07 15:40:08,336 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 28
2022-10-07 15:40:15,875 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.DeleteOfferCallbackType [http-nio-5000-exec-4] Delete offer by id :28 and token: 95468e9523abaaba909373
2022-10-07 15:40:15,879 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Delete offer by id : 28
2022-10-07 15:40:15,879 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Get offer by id: 28
2022-10-07 15:40:15,912 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Delete token from messages : 95468e9523abaaba909373
2022-10-07 15:40:17,449 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-5] Got OFFERS_ACTIVITY callback type
2022-10-07 15:40:17,449 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :2f4c9ab15492691122cd2e
2022-10-07 15:40:18,277 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 2f4c9ab15492691122cd2e
2022-10-07 15:40:18,282 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 15:40:19,326 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_OFFER callback type with route id :25 and token: 2f4c9ab15492691122cd2e
2022-10-07 15:40:19,330 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offer by id : 25
2022-10-07 15:40:20,629 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_DATE_OF_OFFER type with token: 2f4c9ab15492691122cd2e
2022-10-07 15:40:20,629 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with id:25, with token :2f4c9ab15492691122cd2e
2022-10-07 15:40:24,722 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-9] Change the first date of offer, changed first date: 2022-10-20 and token : 2f4c9ab15492691122cd2e
2022-10-07 15:40:27,436 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-10] Got FINISH_DATE_OFFER callback type with token : 2f4c9ab15492691122cd2e
2022-10-07 15:40:27,441 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Update date of offer with first date : 2022-10-20 , and second date : 2022-10-20 
2022-10-07 15:40:27,441 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 25
2022-10-07 15:40:27,461 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-10-20 and second date:2022-10-20 with cities:[City(id=3, name=WROCLAW), City(id=6, name=GRODNO)]
2022-10-07 15:45:55,031 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 15:45:55,033 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 15:45:55,039 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 15:50:25,727 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10652 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 15:50:25,731 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 15:50:26,246 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 15:50:26,302 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-07 15:50:26,637 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 15:50:26,655 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 15:50:26,656 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 15:50:26,656 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 15:50:26,732 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 15:50:26,732 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 961 ms
2022-10-07 15:50:26,836 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 15:50:26,889 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 15:50:26,967 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 15:50:27,042 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 15:50:27,333 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 15:50:27,394 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 15:50:27,458 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 15:50:27,481 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 15:50:27,557 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 15:50:27,621 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 15:50:27,950 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 15:50:27,956 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 15:50:28,438 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 15:50:28,654 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 15:50:28,670 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 15:50:28,677 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 15:50:28,677 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 15:50:28,678 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 15:50:28,692 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 15:50:28,762 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 15:50:29,143 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.819 seconds (JVM running for 4.59)
2022-10-07 16:00:43,118 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:00:43,120 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:00:43,126 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:25:55,872 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8804 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:25:55,875 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:25:56,413 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:25:56,472 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2022-10-07 16:25:56,891 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:25:56,897 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:25:56,898 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:25:56,898 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:25:56,977 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:25:56,977 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1063 ms
2022-10-07 16:25:57,082 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:25:57,138 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:25:57,222 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:25:57,288 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:25:57,570 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:25:57,644 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:25:57,728 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:25:57,757 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:25:57,839 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:25:57,898 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:25:58,266 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:25:58,271 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:25:58,719 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:25:58,947 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:25:58,965 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:25:58,972 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:25:58,973 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:25:58,972 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:25:58,974 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:25:58,975 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:25:58,988 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:25:59,067 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:25:59,543 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.04 seconds (JVM running for 4.876)
2022-10-07 16:26:04,534 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:26:04,534 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:26:04,536 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 16:26:04,667 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-07 16:26:04,674 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 16:26:04,688 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : 2f4c9ab15492691122cd2e
2022-10-07 16:26:04,688 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 16:26:05,992 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :c44914b21cf4d1d99a0ef9
2022-10-07 16:26:05,993 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : c44914b21cf4d1d99a0ef9
2022-10-07 16:26:06,014 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 16:26:07,121 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: c44914b21cf4d1d99a0ef9
2022-10-07 16:26:07,799 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: c44914b21cf4d1d99a0ef9
2022-10-07 16:26:08,888 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_DRIVER with token : c44914b21cf4d1d99a0ef9
2022-10-07 16:26:10,000 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_DRIVER callback type with first date :2022-10-17 with token: c44914b21cf4d1d99a0ef9
2022-10-07 16:26:13,464 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_DRIVER callback type with second date :2022-10-21 and token : c44914b21cf4d1d99a0ef9
2022-10-07 16:26:15,767 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find passengers by first date :2022-10-17 and second date:2022-10-21 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 16:26:19,188 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_DRIVER_REQUEST with token : c44914b21cf4d1d99a0ef9
2022-10-07 16:26:19,189 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : c44914b21cf4d1d99a0ef9
2022-10-07 16:26:19,219 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Delete messages with chat id : 834450967 and messages : [516]
2022-10-07 16:26:19,319 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token
2022-10-07 16:26:20,456 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-10] Got OFFERS_ACTIVITY callback type
2022-10-07 16:26:20,456 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :1d465cb845180c06f6dee0
2022-10-07 16:26:21,277 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: 1d465cb845180c06f6dee0
2022-10-07 16:26:21,282 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:26:22,097 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_OFFER callback type with route id :25 and token: 1d465cb845180c06f6dee0
2022-10-07 16:26:22,099 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 25
2022-10-07 16:26:24,250 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 1d465cb845180c06f6dee0
2022-10-07 16:26:24,254 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:26:25,070 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :22 and token: 1d465cb845180c06f6dee0
2022-10-07 16:26:25,074 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 22
2022-10-07 16:26:26,572 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 1d465cb845180c06f6dee0
2022-10-07 16:26:26,577 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:26:27,408 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-5] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 1d465cb845180c06f6dee0
2022-10-07 16:26:27,408 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : 1d465cb845180c06f6dee0
2022-10-07 16:26:27,478 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token
2022-10-07 16:26:28,469 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-07 16:26:28,469 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :094f628f372850286af5f9
2022-10-07 16:26:29,266 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : DRIVER and token: 094f628f372850286af5f9
2022-10-07 16:26:29,269 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:26:30,093 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :23 and token: 094f628f372850286af5f9
2022-10-07 16:26:30,096 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 23
2022-10-07 16:26:32,563 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : DRIVER and token: 094f628f372850286af5f9
2022-10-07 16:26:32,565 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:26:33,478 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :23 and token: 094f628f372850286af5f9
2022-10-07 16:26:33,480 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 23
2022-10-07 16:26:35,136 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: 094f628f372850286af5f9
2022-10-07 16:26:35,138 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:26:36,288 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :23 and token: 094f628f372850286af5f9
2022-10-07 16:26:36,290 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 23
2022-10-07 16:26:37,131 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_DATE_OF_OFFER type with token: 094f628f372850286af5f9
2022-10-07 16:26:37,132 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with id:23, with token :094f628f372850286af5f9
2022-10-07 16:26:38,827 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-6] Change the first date of offer, changed first date: 2022-10-20 and token : 094f628f372850286af5f9
2022-10-07 16:26:39,738 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-24 with token: 094f628f372850286af5f9
2022-10-07 16:26:41,378 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-24 and token: 094f628f372850286af5f9
2022-10-07 16:26:41,382 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] Format specifier '%s'Format specifier '%s'
2022-10-07 16:26:46,987 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-9] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-20 and token: 094f628f372850286af5f9
2022-10-07 16:26:48,219 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-8] Change the first date of offer, changed first date: 2022-10-20 and token : 094f628f372850286af5f9
2022-10-07 16:26:49,076 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with date :2022-10-24 with token: 094f628f372850286af5f9
2022-10-07 16:26:49,905 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-24 and token: 094f628f372850286af5f9
2022-10-07 16:26:49,906 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] Format specifier '%s'Format specifier '%s'
2022-10-07 16:28:35,599 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:28:35,601 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:28:35,607 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:28:40,075 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 5000 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:28:40,078 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:28:40,556 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:28:40,612 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2022-10-07 16:28:40,944 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:28:40,950 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:28:40,950 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:28:40,950 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:28:41,025 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:28:41,026 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 916 ms
2022-10-07 16:28:41,125 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:28:41,177 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:28:41,254 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:28:41,323 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:28:41,582 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:28:41,643 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:28:41,707 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:28:41,731 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:28:41,801 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:28:41,858 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:28:42,185 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:28:42,190 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:28:42,690 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:28:42,884 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:28:42,899 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:28:42,906 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:28:42,906 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:28:42,907 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:28:42,920 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:28:42,988 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:28:42,993 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:28:42,994 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:28:43,429 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.665 seconds (JVM running for 4.356)
2022-10-07 16:28:51,248 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:28:51,248 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:28:51,249 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 16:28:51,368 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-1] Got RETURN_TO_CHANGE_OF_OFFER type with token : 094f628f372850286af5f9
2022-10-07 16:28:51,370 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.ChangeOfferRequest wasn't found by token=094f628f372850286af5f9
2022-10-07 16:28:51,370 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 16:28:53,908 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :974fe5b9e8be61d804b3f5
2022-10-07 16:28:53,909 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-3] Got ACTIVITY callback type with activity :PASSENGER and token : 974fe5b9e8be61d804b3f5
2022-10-07 16:28:53,933 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-3] Find all routes
2022-10-07 16:28:56,301 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 974fe5b9e8be61d804b3f5
2022-10-07 16:28:56,971 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 974fe5b9e8be61d804b3f5
2022-10-07 16:28:57,769 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 5 and token: 974fe5b9e8be61d804b3f5 
2022-10-07 16:28:58,457 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 974fe5b9e8be61d804b3f5
2022-10-07 16:28:59,785 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-7] Callback data with type: CHOSE_DATE_PASSENGER with token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:01,337 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-29 with token: 974fe5b9e8be61d804b3f5
2022-10-07 16:29:02,240 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:03,092 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_PASSENGER type with token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:04,023 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_PASSENGER type with token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:04,874 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-3] Got FIRST_DATE_PASSENGER type with first date :2022-10-30 with token: 974fe5b9e8be61d804b3f5
2022-10-07 16:29:08,860 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-2] Got CANCEL_DATE_PASSENGER type with token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:10,249 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_PASSENGER type with first date :2022-10-29 with token: 974fe5b9e8be61d804b3f5
2022-10-07 16:29:11,143 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:12,019 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-6] Got CANCEL_DATE_PASSENGER type with token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:12,780 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-01 and token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:14,759 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-5] Got callback : CANCEL_PASSENGER_REQUEST with token : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:14,773 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Delete messages with chat id : 834450967 and messages : [518]
2022-10-07 16:29:14,891 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : 974fe5b9e8be61d804b3f5
2022-10-07 16:29:14,892 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token
2022-10-07 16:29:15,673 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-07 16:29:15,673 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :b949cbbf73a0af5c485dda
2022-10-07 16:29:16,447 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : DRIVER and token: b949cbbf73a0af5c485dda
2022-10-07 16:29:16,452 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:29:17,389 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :23 and token: b949cbbf73a0af5c485dda
2022-10-07 16:29:17,392 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 23
2022-10-07 16:29:19,036 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_DATE_OF_OFFER type with token: b949cbbf73a0af5c485dda
2022-10-07 16:29:19,036 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with id:23, with token :b949cbbf73a0af5c485dda
2022-10-07 16:29:19,849 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-2] Change the first date of offer, changed first date: 2022-10-29 and token : b949cbbf73a0af5c485dda
2022-10-07 16:29:21,180 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with date :2022-11-02 with token: b949cbbf73a0af5c485dda
2022-10-07 16:29:21,974 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-8] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-02 and token: b949cbbf73a0af5c485dda
2022-10-07 16:29:23,388 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-6] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-29 and token: b949cbbf73a0af5c485dda
2022-10-07 16:29:25,147 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-7] Change the first date of offer, changed first date: 2022-10-26 and token : b949cbbf73a0af5c485dda
2022-10-07 16:29:25,851 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-30 with token: b949cbbf73a0af5c485dda
2022-10-07 16:29:26,899 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-9] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-30 and token: b949cbbf73a0af5c485dda
2022-10-07 16:29:27,763 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-26 and token: b949cbbf73a0af5c485dda
2022-10-07 16:29:28,839 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-1] Change the first date of offer, changed first date: 2022-10-23 and token : b949cbbf73a0af5c485dda
2022-10-07 16:29:32,640 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-27 with token: b949cbbf73a0af5c485dda
2022-10-07 16:29:34,860 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-2] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-27 and token: b949cbbf73a0af5c485dda
2022-10-07 16:29:35,843 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-4] Got FINISH_DATE_OFFER callback type with token : b949cbbf73a0af5c485dda
2022-10-07 16:29:35,847 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Update date of offer with first date : 2022-10-23 , and second date : null 
2022-10-07 16:29:35,848 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Get offer by id: 23
2022-10-07 16:29:35,903 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find passengers by first date :2022-10-23 and second date:null with cities:[City(id=5, name=BREST), City(id=3, name=WROCLAW)]
2022-10-07 16:29:50,778 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-07 16:29:50,787 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-07 16:29:50,797 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : b949cbbf73a0af5c485dda
2022-10-07 16:29:50,797 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token
2022-10-07 16:29:51,685 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-07 16:29:51,686 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :86451e94e33db8ed81f0b5
2022-10-07 16:29:52,725 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: 86451e94e33db8ed81f0b5
2022-10-07 16:29:52,727 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:29:53,668 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_OFFER callback type with route id :25 and token: 86451e94e33db8ed81f0b5
2022-10-07 16:29:53,671 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 25
2022-10-07 16:29:55,216 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-9] Change description of offer with id: 25 and token : 86451e94e33db8ed81f0b5
2022-10-07 16:29:59,906 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-10] Got message for changing description of offer with token 
2022-10-07 16:29:59,911 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Update description of offer with id : 25
2022-10-07 16:29:59,911 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 25
2022-10-07 16:29:59,929 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Delete messages with chat id : 834450967 and messages : [519]
2022-10-07 16:30:00,103 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token
2022-10-07 16:30:02,282 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 16:30:02,282 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :af43a7b44ae87fa862c6ba
2022-10-07 16:30:04,494 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : DRIVER and token: af43a7b44ae87fa862c6ba
2022-10-07 16:30:04,498 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:30:05,346 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_OFFER callback type with route id :23 and token: af43a7b44ae87fa862c6ba
2022-10-07 16:30:05,349 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 23
2022-10-07 16:30:07,227 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-4] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: af43a7b44ae87fa862c6ba
2022-10-07 16:30:08,532 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-8] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: af43a7b44ae87fa862c6ba
2022-10-07 16:30:10,272 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeRouteOfOfferCallbackType [http-nio-5000-exec-6] Got callback type :FINISH_CHANGING_ROUTE_OF_OFFER, with token:af43a7b44ae87fa862c6ba
2022-10-07 16:30:10,272 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update route of offer with id :23
2022-10-07 16:30:10,275 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Update cities of offer with id : 23 and cities : [City(id=5, name=BREST), City(id=3, name=WROCLAW), City(id=2, name=BELASTOK)] 
2022-10-07 16:30:10,276 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 23
2022-10-07 16:30:10,292 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-23 and second date:null with cities:[City(id=5, name=BREST), City(id=3, name=WROCLAW), City(id=2, name=BELASTOK)]
2022-10-07 16:30:10,298 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : af43a7b44ae87fa862c6ba
2022-10-07 16:30:44,389 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-07 16:30:44,391 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-07 16:30:44,395 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : af43a7b44ae87fa862c6ba
2022-10-07 16:30:44,395 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token
2022-10-07 16:30:45,491 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-5] Got OFFERS_ACTIVITY callback type
2022-10-07 16:30:45,491 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :954c77acfea1823cc70e2b
2022-10-07 16:30:46,839 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: 954c77acfea1823cc70e2b
2022-10-07 16:30:46,842 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:30:47,805 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :22 and token: 954c77acfea1823cc70e2b
2022-10-07 16:30:47,807 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 22
2022-10-07 16:30:48,834 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_DATE_OF_OFFER type with token: 954c77acfea1823cc70e2b
2022-10-07 16:30:48,834 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with id:22, with token :954c77acfea1823cc70e2b
2022-10-07 16:30:49,686 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-3] Change the first date of offer, changed first date: 2022-10-29 and token : 954c77acfea1823cc70e2b
2022-10-07 16:30:50,749 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-2] Got FINISH_DATE_OFFER callback type with token : 954c77acfea1823cc70e2b
2022-10-07 16:30:50,753 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Update date of offer with first date : 2022-10-29 , and second date : 2022-10-30 
2022-10-07 16:30:50,754 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Get offer by id: 22
2022-10-07 16:30:50,774 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find drivers by first date :2022-10-29 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-07 16:30:57,176 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-4] Got MAIN_MENU callback type
2022-10-07 16:30:57,179 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-07 16:30:57,183 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Delete token from messages : 954c77acfea1823cc70e2b
2022-10-07 16:30:57,184 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token
2022-10-07 16:30:58,005 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-07 16:30:58,005 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :82415e94097447fb4ae669
2022-10-07 16:30:58,723 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 82415e94097447fb4ae669
2022-10-07 16:30:58,727 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:30:59,469 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_OFFER callback type with route id :22 and token: 82415e94097447fb4ae669
2022-10-07 16:30:59,473 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offer by id : 22
2022-10-07 16:31:01,754 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: 82415e94097447fb4ae669
2022-10-07 16:31:01,754 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:22, with token :82415e94097447fb4ae669
2022-10-07 16:31:03,174 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-9] Change the first date of offer, changed first date: 2022-10-26 and token : 82415e94097447fb4ae669
2022-10-07 16:31:05,198 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-10] Got FINISH_DATE_OFFER callback type with token : 82415e94097447fb4ae669
2022-10-07 16:31:05,201 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Update date of offer with first date : 2022-10-26 , and second date : 2022-10-30 
2022-10-07 16:31:05,202 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 22
2022-10-07 16:31:05,219 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-10-26 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-07 16:31:10,676 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-07 16:31:10,680 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 16:31:10,683 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : 82415e94097447fb4ae669
2022-10-07 16:31:10,684 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 16:31:11,947 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-07 16:31:11,948 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :8d4280ba72edc8854fa898
2022-10-07 16:31:12,903 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 8d4280ba72edc8854fa898
2022-10-07 16:31:12,906 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:31:13,945 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :25 and token: 8d4280ba72edc8854fa898
2022-10-07 16:31:13,948 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 25
2022-10-07 16:31:15,043 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_DATE_OF_OFFER type with token: 8d4280ba72edc8854fa898
2022-10-07 16:31:15,043 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with id:25, with token :8d4280ba72edc8854fa898
2022-10-07 16:31:18,871 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-6] Change the first date of offer, changed first date: 2022-10-23 and token : 8d4280ba72edc8854fa898
2022-10-07 16:31:20,453 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-7] Got FINISH_DATE_OFFER callback type with token : 8d4280ba72edc8854fa898
2022-10-07 16:31:20,456 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Update date of offer with first date : 2022-10-23 , and second date : 2022-10-20 
2022-10-07 16:31:20,456 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Get offer by id: 25
2022-10-07 16:31:20,465 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-10-23 and second date:2022-10-20 with cities:[City(id=3, name=WROCLAW), City(id=6, name=GRODNO)]
2022-10-07 16:31:24,958 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-5] Got MAIN_MENU callback type
2022-10-07 16:31:24,961 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-07 16:31:24,969 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : 8d4280ba72edc8854fa898
2022-10-07 16:31:24,969 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token
2022-10-07 16:32:50,183 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:32:50,185 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:32:50,190 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:32:54,128 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 3968 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:32:54,130 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:32:54,612 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:32:54,665 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2022-10-07 16:32:54,997 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:32:55,002 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:32:55,002 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:32:55,003 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:32:55,078 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:32:55,078 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 917 ms
2022-10-07 16:32:55,180 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:32:55,233 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:32:55,309 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:32:55,384 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:32:55,644 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:32:55,715 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:32:55,780 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:32:55,804 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:32:55,879 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:32:55,937 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:32:56,267 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:32:56,272 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:32:56,763 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:32:57,002 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:32:57,023 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:32:57,030 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:32:57,030 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:32:57,031 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:32:57,031 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:32:57,032 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:32:57,046 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:32:57,132 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:32:57,620 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.819 seconds (JVM running for 4.497)
2022-10-07 16:33:01,095 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:33:01,095 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:33:01,096 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 16:33:01,196 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 16:33:01,197 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :c54badaba15a15a46bd252
2022-10-07 16:33:02,089 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: c54badaba15a15a46bd252
2022-10-07 16:33:02,093 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:33:02,984 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :25 and token: c54badaba15a15a46bd252
2022-10-07 16:33:02,989 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 25
2022-10-07 16:33:03,839 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_DATE_OF_OFFER type with token: c54badaba15a15a46bd252
2022-10-07 16:33:03,840 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with id:25, with token :c54badaba15a15a46bd252
2022-10-07 16:33:05,210 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-5] Change the first date of offer, changed first date: 2022-10-23 and token : c54badaba15a15a46bd252
2022-10-07 16:33:06,921 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-6] Got FINISH_DATE_OFFER callback type with token : c54badaba15a15a46bd252
2022-10-07 16:33:06,924 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Update date of offer with first date : 2022-10-23 , and second date : null 
2022-10-07 16:33:06,924 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 25
2022-10-07 16:33:06,959 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find drivers by first date :2022-10-23 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=6, name=GRODNO)]
2022-10-07 16:38:01,946 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:38:01,948 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:38:01,954 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:38:07,823 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16700 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:38:07,826 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:38:08,347 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:38:08,398 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
2022-10-07 16:38:08,726 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:38:08,742 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:38:08,743 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:38:08,743 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:38:08,834 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:38:08,834 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 972 ms
2022-10-07 16:38:08,955 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:38:09,011 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:38:09,092 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:38:09,168 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:38:09,419 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:38:09,480 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:38:09,541 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:38:09,562 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:38:09,641 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:38:09,703 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:38:10,063 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:38:10,068 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:38:10,519 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:38:10,742 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:38:10,759 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:38:10,766 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:38:10,766 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:38:10,767 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:38:10,767 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:38:10,768 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:38:10,780 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:38:10,854 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:38:11,397 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.914 seconds (JVM running for 4.794)
2022-10-07 16:38:13,467 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:38:13,467 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:38:13,469 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-07 16:38:13,575 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-07 16:38:13,581 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 16:38:13,589 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : c54badaba15a15a46bd252
2022-10-07 16:38:13,590 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 16:38:14,759 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 16:38:14,760 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :be4153a7449463ffd98a15
2022-10-07 16:38:15,652 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : DRIVER and token: be4153a7449463ffd98a15
2022-10-07 16:38:15,657 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:38:16,322 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-5] Got MAIN_MENU callback type
2022-10-07 16:38:16,327 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-07 16:38:16,332 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : be4153a7449463ffd98a15
2022-10-07 16:38:16,333 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token
2022-10-07 16:38:17,147 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-07 16:38:17,148 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :b14e5a9cc1624cd8ac4c38
2022-10-07 16:38:20,809 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: b14e5a9cc1624cd8ac4c38
2022-10-07 16:38:20,814 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:38:22,841 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :22 and token: b14e5a9cc1624cd8ac4c38
2022-10-07 16:38:22,843 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 22
2022-10-07 16:38:24,567 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_DATE_OF_OFFER type with token: b14e5a9cc1624cd8ac4c38
2022-10-07 16:38:24,568 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with id:22, with token :b14e5a9cc1624cd8ac4c38
2022-10-07 16:38:25,510 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-9] Change the first date of offer, changed first date: 2022-10-31 and token : b14e5a9cc1624cd8ac4c38
2022-10-07 16:38:28,265 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-10] Got FINISH_DATE_OFFER callback type with token : b14e5a9cc1624cd8ac4c38
2022-10-07 16:38:28,269 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Update date of offer with first date : 2022-10-31 , and second date : null 
2022-10-07 16:38:28,270 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 22
2022-10-07 16:38:28,305 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-10-31 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-07 16:38:33,958 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-07 16:38:33,963 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 16:38:33,968 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : b14e5a9cc1624cd8ac4c38
2022-10-07 16:38:33,968 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 16:38:35,505 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 16:38:35,505 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :a54f42b485efd44e81d1b8
2022-10-07 16:38:36,258 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : DRIVER and token: a54f42b485efd44e81d1b8
2022-10-07 16:38:36,263 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:38:40,891 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-5] Got MAIN_MENU callback type
2022-10-07 16:38:40,894 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-07 16:38:40,898 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : a54f42b485efd44e81d1b8
2022-10-07 16:38:40,899 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token
2022-10-07 16:38:41,765 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-07 16:38:41,765 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :c743bf94dd255e34b78a0d
2022-10-07 16:38:42,598 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: c743bf94dd255e34b78a0d
2022-10-07 16:38:42,601 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:38:44,710 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-6] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : c743bf94dd255e34b78a0d
2022-10-07 16:38:44,710 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : c743bf94dd255e34b78a0d
2022-10-07 16:38:44,848 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token
2022-10-07 16:38:54,370 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-07 16:38:54,371 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :ad42debef9024529e963c9
2022-10-07 16:38:56,582 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : DRIVER and token: ad42debef9024529e963c9
2022-10-07 16:38:56,585 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:40:06,193 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:40:06,194 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:40:06,201 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:40:10,695 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 11248 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:40:10,698 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:40:11,207 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:40:11,269 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.
2022-10-07 16:40:11,627 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:40:11,633 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:40:11,634 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:40:11,634 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:40:11,731 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:40:11,731 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1001 ms
2022-10-07 16:40:11,856 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:40:11,915 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:40:11,999 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:40:12,079 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:40:12,385 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:40:12,465 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:40:12,553 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:40:12,582 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:40:12,667 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:40:12,736 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:40:13,107 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:40:13,114 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:40:13,633 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:40:13,880 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:40:13,898 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:40:13,905 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:40:13,905 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:40:13,905 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:40:13,918 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:40:13,997 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:40:14,048 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:40:14,048 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:40:14,500 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.19 seconds (JVM running for 4.97)
2022-10-07 16:40:17,679 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:40:17,679 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:40:17,680 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-07 16:40:17,859 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-07 16:40:17,869 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 16:40:17,883 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : ad42debef9024529e963c9
2022-10-07 16:40:17,884 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 16:40:19,018 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 16:40:19,018 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :484ecc9f5fbc806928d185
2022-10-07 16:40:20,204 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : DRIVER and token: 484ecc9f5fbc806928d185
2022-10-07 16:40:20,207 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:40:43,286 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:40:43,288 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:40:43,295 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:40:47,359 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 12848 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:40:47,362 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:40:47,954 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:40:48,012 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2022-10-07 16:40:48,397 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:40:48,506 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1108 ms
2022-10-07 16:40:48,611 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:40:48,660 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:40:49,186 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:40:49,208 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:40:49,274 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:40:49,334 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:40:49,668 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:40:49,673 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:40:50,145 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:40:50,388 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:40:50,395 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:40:50,395 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:40:50,396 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:40:50,407 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:40:50,477 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:40:50,482 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:40:50,482 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:40:50,947 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.951 seconds (JVM running for 4.692)
2022-10-07 16:40:51,100 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:40:51,101 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:40:51,107 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:41:20,890 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 26600 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:41:20,893 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:41:21,417 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:41:21,474 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2022-10-07 16:41:21,820 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:41:21,827 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:41:21,827 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:41:21,828 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:41:21,911 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:41:21,911 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 983 ms
2022-10-07 16:41:22,028 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:41:22,083 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:41:22,160 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:41:22,234 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:41:22,528 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:41:22,594 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:41:22,661 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:41:22,685 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:41:22,760 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:41:22,818 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:41:23,133 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:41:23,139 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:41:23,627 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:41:23,841 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:41:23,859 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:41:23,866 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:41:23,867 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:41:23,866 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:41:23,881 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:41:23,959 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:41:23,967 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:41:23,968 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:41:24,428 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.902 seconds (JVM running for 4.779)
2022-10-07 16:41:27,118 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:41:27,118 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:41:27,119 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 16:41:27,232 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-07 16:41:27,238 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 16:41:27,249 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : 484ecc9f5fbc806928d185
2022-10-07 16:41:27,250 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 16:41:28,215 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 16:41:28,215 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :374ad6bf72c6dc823a5532
2022-10-07 16:41:29,140 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : PASSENGER and token: 374ad6bf72c6dc823a5532
2022-10-07 16:41:29,144 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:41:30,433 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-5] Got MAIN_MENU callback type
2022-10-07 16:41:30,437 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-07 16:41:30,441 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : 374ad6bf72c6dc823a5532
2022-10-07 16:41:30,441 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token
2022-10-07 16:41:31,770 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-07 16:41:31,771 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :66433a8d71fad1eb57248e
2022-10-07 16:41:32,828 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : DRIVER and token: 66433a8d71fad1eb57248e
2022-10-07 16:41:32,831 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:41:34,025 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-9] Got MAIN_MENU callback type
2022-10-07 16:41:34,029 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Check existing of user by id: 834450967
2022-10-07 16:41:34,033 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : 66433a8d71fad1eb57248e
2022-10-07 16:41:34,033 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token
2022-10-07 16:41:35,442 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :4c4569b97b0bc905335862
2022-10-07 16:41:35,443 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-8] Got ACTIVITY callback type with activity :DRIVER and token : 4c4569b97b0bc905335862
2022-10-07 16:41:35,470 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-8] Find all routes
2022-10-07 16:41:36,454 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 4c4569b97b0bc905335862
2022-10-07 16:41:37,140 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 4c4569b97b0bc905335862
2022-10-07 16:41:38,910 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-1] Callback data with type: CHOSE_DATE_DRIVER with token : 4c4569b97b0bc905335862
2022-10-07 16:41:39,857 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_DRIVER callback type with first date :2022-10-26 with token: 4c4569b97b0bc905335862
2022-10-07 16:41:40,793 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 16:41:42,738 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-5] Got callback type :CHECK_DRIVER_REQUEST with token :4c4569b97b0bc905335862
2022-10-07 16:41:46,462 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-3] Got message for saving description of driver with token :4c4569b97b0bc905335862 
2022-10-07 16:41:46,500 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Delete messages with chat id : 834450967 and messages : [522]
2022-10-07 16:41:46,586 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Save supplier by: Request(chatId=834450967, userDto=UserDto(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97), cities=[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)], firstDate=2022-10-26, secondDate=null, description=dasdads, needForDescription=true, messages=[522], activity=DRIVER)
2022-10-07 16:41:46,713 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Delete token from messages : 4c4569b97b0bc905335862
2022-10-07 16:41:46,713 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token
2022-10-07 16:41:48,114 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-07 16:41:48,115 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :3f4b03b45e8424d7d5c9d8
2022-10-07 16:41:48,866 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: 3f4b03b45e8424d7d5c9d8
2022-10-07 16:41:48,870 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:41:49,753 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-07 16:41:49,756 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-07 16:41:49,761 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : 3f4b03b45e8424d7d5c9d8
2022-10-07 16:41:49,761 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token
2022-10-07 16:41:50,504 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-07 16:41:50,506 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :3449dbb82988700304f825
2022-10-07 16:41:51,171 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : DRIVER and token: 3449dbb82988700304f825
2022-10-07 16:41:51,174 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:41:55,530 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :29 and token: 3449dbb82988700304f825
2022-10-07 16:41:55,536 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 29
2022-10-07 16:41:57,125 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_DATE_OF_OFFER type with token: 3449dbb82988700304f825
2022-10-07 16:41:57,125 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with id:29, with token :3449dbb82988700304f825
2022-10-07 16:41:58,150 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-4] Change the first date of offer, changed first date: 2022-10-27 and token : 3449dbb82988700304f825
2022-10-07 16:41:59,068 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-29 with token: 3449dbb82988700304f825
2022-10-07 16:41:59,910 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-3] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-29 and token: 3449dbb82988700304f825
2022-10-07 16:42:01,504 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-6] Got FINISH_DATE_OFFER callback type with token : 3449dbb82988700304f825
2022-10-07 16:42:01,508 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Update date of offer with first date : 2022-10-27 , and second date : null 
2022-10-07 16:42:01,508 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 29
2022-10-07 16:42:01,534 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-27 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 16:42:33,709 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-9] Got MAIN_MENU callback type
2022-10-07 16:42:33,711 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Check existing of user by id: 834450967
2022-10-07 16:42:33,716 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : 3449dbb82988700304f825
2022-10-07 16:42:33,716 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token
2022-10-07 16:42:34,693 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-07 16:42:34,693 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :904e48848c24f265e252f3
2022-10-07 16:42:35,410 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : DRIVER and token: 904e48848c24f265e252f3
2022-10-07 16:42:35,413 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:42:36,123 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-10] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 904e48848c24f265e252f3
2022-10-07 16:42:36,124 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : 904e48848c24f265e252f3
2022-10-07 16:42:36,297 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token
2022-10-07 16:42:37,228 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 16:42:37,228 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :cb450fa8138e7dd6aafc4d
2022-10-07 16:42:40,860 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: cb450fa8138e7dd6aafc4d
2022-10-07 16:42:40,862 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:42:42,307 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-4] Got MAIN_MENU callback type
2022-10-07 16:42:42,309 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-07 16:42:42,311 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Delete token from messages : cb450fa8138e7dd6aafc4d
2022-10-07 16:42:42,312 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token
2022-10-07 16:45:17,466 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:45:17,468 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:45:17,474 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:45:20,279 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 280 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:45:20,283 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:45:20,808 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:45:20,864 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2022-10-07 16:45:21,245 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:45:21,251 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:45:21,252 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:45:21,253 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:45:21,352 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:45:21,352 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1041 ms
2022-10-07 16:45:21,473 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:45:21,535 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:45:21,623 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:45:21,703 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:45:22,036 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:45:22,115 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:45:22,194 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:45:22,223 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:45:22,308 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:45:22,375 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:45:22,773 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:45:22,779 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:45:23,359 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:45:23,611 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:45:23,630 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:45:23,638 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:45:23,637 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:45:23,638 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:45:23,651 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:45:23,745 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:45:23,813 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:45:23,813 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:45:24,224 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.312 seconds (JVM running for 5.823)
2022-10-07 16:45:28,977 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:45:28,977 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:45:28,978 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 16:45:29,145 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 16:45:29,146 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :d84c69acfa28bdb984c64f
2022-10-07 16:45:30,449 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: d84c69acfa28bdb984c64f
2022-10-07 16:45:30,453 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:45:42,820 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type
2022-10-07 16:45:42,826 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-07 16:45:42,835 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Delete token from messages : d84c69acfa28bdb984c64f
2022-10-07 16:45:42,835 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token
2022-10-07 16:45:43,925 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-07 16:45:43,926 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :28407bb95925bbf6d2c54e
2022-10-07 16:45:44,680 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : PASSENGER and token: 28407bb95925bbf6d2c54e
2022-10-07 16:45:44,684 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:45:49,640 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type
2022-10-07 16:45:49,644 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-07 16:45:49,648 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : 28407bb95925bbf6d2c54e
2022-10-07 16:45:49,648 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token
2022-10-07 16:46:03,393 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-07 16:46:03,393 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :7a4ac78af041360ec1d75c
2022-10-07 16:46:54,510 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : DRIVER and token: 7a4ac78af041360ec1d75c
2022-10-07 16:46:58,926 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:47:02,319 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-9] Got MAIN_MENU callback type
2022-10-07 16:47:02,324 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Check existing of user by id: 834450967
2022-10-07 16:47:02,329 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : 7a4ac78af041360ec1d75c
2022-10-07 16:47:02,329 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token
2022-10-07 16:47:03,437 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :3246d09e5a9c226ddb53cc
2022-10-07 16:47:03,438 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :DRIVER and token : 3246d09e5a9c226ddb53cc
2022-10-07 16:47:03,469 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-10] Find all routes
2022-10-07 16:47:04,871 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 3246d09e5a9c226ddb53cc
2022-10-07 16:47:05,497 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 3246d09e5a9c226ddb53cc
2022-10-07 16:47:06,858 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_DRIVER with token : 3246d09e5a9c226ddb53cc
2022-10-07 16:47:07,619 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_DRIVER callback type with first date :2022-10-23 with token: 3246d09e5a9c226ddb53cc
2022-10-07 16:47:08,371 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_DRIVER callback type with second date :2022-10-26 and token : 3246d09e5a9c226ddb53cc
2022-10-07 16:47:09,503 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-23 and second date:2022-10-26 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 16:47:12,686 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-7] Got callback type :CHECK_DRIVER_REQUEST with token :3246d09e5a9c226ddb53cc
2022-10-07 16:47:17,046 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-8] Got message for saving description of driver with token :3246d09e5a9c226ddb53cc 
2022-10-07 16:47:17,056 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Delete messages with chat id : 834450967 and messages : [525]
2022-10-07 16:47:17,214 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Save supplier by: Request(chatId=834450967, userDto=UserDto(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97), cities=[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)], firstDate=2022-10-23, secondDate=2022-10-26, description=Ya edu i budu, needForDescription=true, messages=[525], activity=DRIVER)
2022-10-07 16:47:17,293 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : 3246d09e5a9c226ddb53cc
2022-10-07 16:47:17,293 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token
2022-10-07 16:47:19,278 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-07 16:47:19,279 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :d449788fcb550f9d629950
2022-10-07 16:47:20,086 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : DRIVER and token: d449788fcb550f9d629950
2022-10-07 16:47:23,659 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:47:36,045 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :30 and token: d449788fcb550f9d629950
2022-10-07 16:47:36,048 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 30
2022-10-07 16:47:39,110 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_DATE_OF_OFFER type with token: d449788fcb550f9d629950
2022-10-07 16:47:39,110 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with id:30, with token :d449788fcb550f9d629950
2022-10-07 16:47:41,374 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-3] Change the first date of offer, changed first date: 2022-10-23 and token : d449788fcb550f9d629950
2022-10-07 16:47:43,581 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-4] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-23 and token: d449788fcb550f9d629950
2022-10-07 16:47:44,421 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-5] Change the first date of offer, changed first date: 2022-10-24 and token : d449788fcb550f9d629950
2022-10-07 16:47:45,698 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-6] Got FINISH_DATE_OFFER callback type with token : d449788fcb550f9d629950
2022-10-07 16:47:45,703 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Update date of offer with first date : 2022-10-24 , and second date : null 
2022-10-07 16:47:45,704 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 30
2022-10-07 16:47:45,723 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-24 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 16:51:09,373 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-07 16:51:09,377 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-07 16:51:09,383 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : d449788fcb550f9d629950
2022-10-07 16:51:09,383 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token
2022-10-07 16:51:10,081 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-07 16:51:10,081 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :38464397a92350a31f39ef
2022-10-07 16:51:10,786 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : DRIVER and token: 38464397a92350a31f39ef
2022-10-07 16:51:10,790 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:51:19,887 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :30 and token: 38464397a92350a31f39ef
2022-10-07 16:51:19,890 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 30
2022-10-07 16:52:31,785 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_DATE_OF_OFFER type with token: 38464397a92350a31f39ef
2022-10-07 16:52:31,786 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with id:30, with token :38464397a92350a31f39ef
2022-10-07 16:52:33,240 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-4] Change the first date of offer, changed first date: 2022-10-29 and token : 38464397a92350a31f39ef
2022-10-07 16:52:35,409 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-5] Got FINISH_DATE_OFFER callback type with token : 38464397a92350a31f39ef
2022-10-07 16:52:35,413 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Update date of offer with first date : 2022-10-29 , and second date : null 
2022-10-07 16:52:35,413 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Get offer by id: 30
2022-10-07 16:52:35,432 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find passengers by first date :2022-10-29 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 16:53:39,310 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m15s557ms657µs900ns).
2022-10-07 16:54:01,193 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-6] Got FINISH_DATE_OFFER callback type with token : 38464397a92350a31f39ef
2022-10-07 16:54:01,196 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-6] class com.godeltech.springgodelbot.dto.ChangeOfferRequest wasn't found by token=38464397a92350a31f39ef
2022-10-07 16:54:01,197 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token
2022-10-07 16:55:48,932 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:55:48,934 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:55:48,940 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:55:52,919 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 9712 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:55:52,922 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:55:53,402 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:55:53,451 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 3 JPA repository interfaces.
2022-10-07 16:55:53,772 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:55:53,779 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:55:53,779 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:55:53,779 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:55:53,862 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:55:53,862 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 907 ms
2022-10-07 16:55:53,973 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:55:54,026 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:55:54,108 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:55:54,172 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:55:54,450 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:55:54,520 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:55:54,595 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:55:54,626 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:55:54,715 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:55:54,784 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:55:55,114 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:55:55,119 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:55:55,569 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:55:55,762 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:55:55,776 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:55:55,783 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:55:55,784 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:55:55,783 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:55:55,798 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:55:55,873 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:55:55,927 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:55:55,927 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:55:56,201 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.678 seconds (JVM running for 4.393)
2022-10-07 16:56:07,854 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:56:07,855 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:56:07,856 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 16:56:07,974 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 16:56:07,975 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :0249b584db9859f4d89943
2022-10-07 16:56:08,802 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: 0249b584db9859f4d89943
2022-10-07 16:56:08,807 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:56:09,650 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type
2022-10-07 16:56:09,658 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-07 16:56:09,669 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Delete token from messages : 0249b584db9859f4d89943
2022-10-07 16:56:09,669 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token
2022-10-07 16:56:15,074 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-07 16:56:15,074 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :c94aa2a24ca0ac79d6594b
2022-10-07 16:56:15,886 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : DRIVER and token: c94aa2a24ca0ac79d6594b
2022-10-07 16:56:15,890 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:56:16,527 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type
2022-10-07 16:56:16,530 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-07 16:56:16,535 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : c94aa2a24ca0ac79d6594b
2022-10-07 16:56:16,535 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token
2022-10-07 16:56:17,299 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-07 16:56:17,299 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :1747478c305ddf6f7301bc
2022-10-07 16:56:17,906 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : DRIVER and token: 1747478c305ddf6f7301bc
2022-10-07 16:56:17,908 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:56:21,817 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type
2022-10-07 16:56:21,822 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-07 16:56:21,827 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : 1747478c305ddf6f7301bc
2022-10-07 16:56:21,827 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token
2022-10-07 16:58:21,952 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:58:21,954 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 16:58:21,960 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 16:58:26,936 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15408 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 16:58:26,939 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 16:58:27,601 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 16:58:27,662 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.
2022-10-07 16:58:28,053 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 16:58:28,077 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 16:58:28,077 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 16:58:28,077 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 16:58:28,193 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 16:58:28,194 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1218 ms
2022-10-07 16:58:28,318 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 16:58:28,372 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 16:58:28,451 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 16:58:28,524 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 16:58:28,788 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 16:58:28,867 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 16:58:28,939 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 16:58:28,969 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 16:58:29,062 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 16:58:29,127 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 16:58:29,448 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 16:58:29,454 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 16:58:29,952 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 16:58:30,174 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 16:58:30,188 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 16:58:30,196 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:58:30,197 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 16:58:30,196 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:58:30,199 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 16:58:30,199 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 16:58:30,211 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 16:58:30,278 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 16:58:30,777 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.198 seconds (JVM running for 4.893)
2022-10-07 16:58:32,706 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 16:58:32,706 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 16:58:32,707 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 16:58:32,836 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 16:58:32,837 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :dc4546aebaaf8439432e0f
2022-10-07 16:58:34,894 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: dc4546aebaaf8439432e0f
2022-10-07 16:58:34,898 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:58:35,560 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type
2022-10-07 16:58:35,573 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-07 16:58:35,586 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Delete token from messages : dc4546aebaaf8439432e0f
2022-10-07 16:58:35,587 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token
2022-10-07 16:58:36,636 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :7b41f68d0ad665034d2740
2022-10-07 16:58:36,637 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :PASSENGER and token : 7b41f68d0ad665034d2740
2022-10-07 16:58:36,665 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-5] Find all routes
2022-10-07 16:58:37,452 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: 7b41f68d0ad665034d2740
2022-10-07 16:58:38,143 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 7b41f68d0ad665034d2740
2022-10-07 16:58:39,247 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_PASSENGER_REQUEST with token : 7b41f68d0ad665034d2740
2022-10-07 16:58:39,262 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [527]
2022-10-07 16:58:39,408 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : 7b41f68d0ad665034d2740
2022-10-07 16:58:39,409 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token
2022-10-07 16:58:40,546 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :da404ab94666331eb172f9
2022-10-07 16:58:40,546 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :PASSENGER and token : da404ab94666331eb172f9
2022-10-07 16:58:41,656 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: da404ab94666331eb172f9
2022-10-07 16:58:42,319 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: da404ab94666331eb172f9
2022-10-07 16:58:43,234 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-1] Callback data with type: CHOSE_DATE_PASSENGER with token : da404ab94666331eb172f9
2022-10-07 16:58:44,303 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_PASSENGER type with first date :2022-10-26 with token: da404ab94666331eb172f9
2022-10-07 16:58:47,313 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-10-26 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 16:58:50,272 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-5] Got callback with type : CHECK_PASSENGER_REQUEST with token : da404ab94666331eb172f9
2022-10-07 16:58:52,906 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-4] Got message for saving description of passenger with token :da404ab94666331eb172f9 
2022-10-07 16:58:52,911 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Save passenger request : Request(chatId=834450967, userDto=UserDto(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97), cities=[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)], firstDate=2022-10-26, secondDate=null, description=Yayayay, needForDescription=true, messages=[528], activity=PASSENGER)
2022-10-07 16:58:53,018 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Delete messages with chat id : 834450967 and messages : [528]
2022-10-07 16:58:53,077 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Delete token from messages : da404ab94666331eb172f9
2022-10-07 16:58:53,077 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token
2022-10-07 16:58:54,399 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-07 16:58:54,400 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :3b44f095c4d35ad5bcb775
2022-10-07 16:58:55,150 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : DRIVER and token: 3b44f095c4d35ad5bcb775
2022-10-07 16:58:55,154 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :DRIVER
2022-10-07 16:58:56,106 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-10] Got MAIN_MENU callback type
2022-10-07 16:58:56,110 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-10] Check existing of user by id: 834450967
2022-10-07 16:58:56,115 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : 3b44f095c4d35ad5bcb775
2022-10-07 16:58:56,115 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token
2022-10-07 16:58:56,872 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-07 16:58:56,873 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :e24c8eb1759f1d83fe1446
2022-10-07 16:58:58,135 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : PASSENGER and token: e24c8eb1759f1d83fe1446
2022-10-07 16:58:58,139 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:58:59,216 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :31 and token: e24c8eb1759f1d83fe1446
2022-10-07 16:58:59,221 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 31
2022-10-07 16:59:00,919 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_DATE_OF_OFFER type with token: e24c8eb1759f1d83fe1446
2022-10-07 16:59:00,919 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with id:31, with token :e24c8eb1759f1d83fe1446
2022-10-07 16:59:02,673 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-3] Change the first date of offer, changed first date: 2022-10-27 and token : e24c8eb1759f1d83fe1446
2022-10-07 16:59:04,097 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-29 with token: e24c8eb1759f1d83fe1446
2022-10-07 16:59:05,207 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-4] Got FINISH_DATE_OFFER callback type with token : e24c8eb1759f1d83fe1446
2022-10-07 16:59:05,211 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Update date of offer with first date : 2022-10-27 , and second date : 2022-10-29 
2022-10-07 16:59:05,212 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Get offer by id: 31
2022-10-07 16:59:05,221 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find drivers by first date :2022-10-27 and second date:2022-10-29 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 16:59:09,386 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type
2022-10-07 16:59:09,389 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-07 16:59:09,394 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : e24c8eb1759f1d83fe1446
2022-10-07 16:59:09,394 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token
2022-10-07 16:59:11,801 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-07 16:59:11,801 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :9a4e4c93e61aeefbcda130
2022-10-07 16:59:12,503 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : PASSENGER and token: 9a4e4c93e61aeefbcda130
2022-10-07 16:59:12,507 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 16:59:13,893 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :31 and token: 9a4e4c93e61aeefbcda130
2022-10-07 16:59:13,896 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 31
2022-10-07 16:59:23,287 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_DATE_OF_OFFER type with token: 9a4e4c93e61aeefbcda130
2022-10-07 16:59:23,287 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with id:31, with token :9a4e4c93e61aeefbcda130
2022-10-07 16:59:25,414 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-1] Change the first date of offer, changed first date: 2022-10-28 and token : 9a4e4c93e61aeefbcda130
2022-10-07 16:59:27,711 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-2] Got FINISH_DATE_OFFER callback type with token : 9a4e4c93e61aeefbcda130
2022-10-07 16:59:27,714 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Update date of offer with first date : 2022-10-28 , and second date : null 
2022-10-07 16:59:27,715 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Get offer by id: 31
2022-10-07 16:59:27,734 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find drivers by first date :2022-10-28 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:00:03,876 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type
2022-10-07 17:00:03,879 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-07 17:00:03,884 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Delete token from messages : 9a4e4c93e61aeefbcda130
2022-10-07 17:00:03,884 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token
2022-10-07 17:00:05,083 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-5] Got OFFERS_ACTIVITY callback type
2022-10-07 17:00:05,084 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :a74c0596df4417397b5542
2022-10-07 17:00:07,698 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : PASSENGER and token: a74c0596df4417397b5542
2022-10-07 17:00:07,702 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:00:10,139 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :31 and token: a74c0596df4417397b5542
2022-10-07 17:00:10,143 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 31
2022-10-07 17:01:37,926 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_DATE_OF_OFFER type with token: a74c0596df4417397b5542
2022-10-07 17:01:37,927 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with id:31, with token :a74c0596df4417397b5542
2022-10-07 17:01:38,916 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-9] Change the first date of offer, changed first date: 2022-10-23 and token : a74c0596df4417397b5542
2022-10-07 17:01:39,765 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with date :2022-10-27 with token: a74c0596df4417397b5542
2022-10-07 17:01:40,706 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-1] Got FINISH_DATE_OFFER callback type with token : a74c0596df4417397b5542
2022-10-07 17:01:40,710 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Update date of offer with first date : 2022-10-23 , and second date : 2022-10-27 
2022-10-07 17:01:40,710 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Get offer by id: 31
2022-10-07 17:01:40,728 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find drivers by first date :2022-10-23 and second date:2022-10-27 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:01:41,650 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-2] Got MAIN_MENU callback type
2022-10-07 17:01:41,653 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-07 17:01:41,657 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Delete token from messages : a74c0596df4417397b5542
2022-10-07 17:01:41,658 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token
2022-10-07 17:01:45,682 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-07 17:01:45,682 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :3b463eade5287df509b77a
2022-10-07 17:01:49,078 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : PASSENGER and token: 3b463eade5287df509b77a
2022-10-07 17:01:49,080 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:01:49,765 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :31 and token: 3b463eade5287df509b77a
2022-10-07 17:01:49,768 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 31
2022-10-07 17:01:50,569 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_DATE_OF_OFFER type with token: 3b463eade5287df509b77a
2022-10-07 17:01:50,569 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with id:31, with token :3b463eade5287df509b77a
2022-10-07 17:01:52,503 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-7] Change the first date of offer, changed first date: 2022-10-30 and token : 3b463eade5287df509b77a
2022-10-07 17:01:53,671 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-10] Got FINISH_DATE_OFFER callback type with token : 3b463eade5287df509b77a
2022-10-07 17:01:53,674 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Update date of offer with first date : 2022-10-30 , and second date : null 
2022-10-07 17:01:53,674 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 31
2022-10-07 17:01:53,692 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-10-30 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:03:39,009 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:03:39,011 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 17:03:39,016 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 17:03:42,841 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 21520 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 17:03:42,845 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 17:03:43,328 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 17:03:43,384 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2022-10-07 17:03:43,730 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 17:03:43,735 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 17:03:43,736 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 17:03:43,736 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 17:03:43,814 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 17:03:43,814 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 935 ms
2022-10-07 17:03:43,930 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 17:03:43,986 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 17:03:44,064 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 17:03:44,131 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 17:03:44,421 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 17:03:44,487 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 17:03:44,555 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 17:03:44,578 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 17:03:44,648 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 17:03:44,704 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 17:03:45,062 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 17:03:45,067 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:03:45,562 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 17:03:45,788 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 17:03:45,804 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 17:03:45,811 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:03:45,811 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:03:45,811 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:03:45,826 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 17:03:45,899 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 17:03:45,904 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:03:45,904 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 17:03:46,322 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.861 seconds (JVM running for 4.728)
2022-10-07 17:03:53,741 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 17:03:53,741 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 17:03:53,742 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 17:03:53,866 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type
2022-10-07 17:03:53,872 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-07 17:03:53,883 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : 3b463eade5287df509b77a
2022-10-07 17:03:53,883 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 17:03:55,032 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 17:03:55,033 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :5d4f7a9421822a9994159b
2022-10-07 17:03:55,680 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : PASSENGER and token: 5d4f7a9421822a9994159b
2022-10-07 17:03:55,683 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:03:57,426 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :31 and token: 5d4f7a9421822a9994159b
2022-10-07 17:03:57,428 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 31
2022-10-07 17:03:58,250 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: 5d4f7a9421822a9994159b
2022-10-07 17:03:58,250 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:31, with token :5d4f7a9421822a9994159b
2022-10-07 17:03:59,031 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-6] Change the first date of offer, changed first date: 2022-10-30 and token : 5d4f7a9421822a9994159b
2022-10-07 17:04:00,948 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-30 and token: 5d4f7a9421822a9994159b
2022-10-07 17:04:02,319 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-8] Change the first date of offer, changed first date: 2022-10-26 and token : 5d4f7a9421822a9994159b
2022-10-07 17:04:03,993 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-9] Got FINISH_DATE_OFFER callback type with token : 5d4f7a9421822a9994159b
2022-10-07 17:04:03,998 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Update date of offer with first date : 2022-10-26 , and second date : null 
2022-10-07 17:04:03,999 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Get offer by id: 31
2022-10-07 17:04:04,054 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find drivers by first date :2022-10-26 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:04:08,034 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-10] Got MAIN_MENU callback type
2022-10-07 17:04:08,037 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-10] Check existing of user by id: 834450967
2022-10-07 17:04:08,040 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : 5d4f7a9421822a9994159b
2022-10-07 17:04:08,040 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token
2022-10-07 17:04:09,034 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-07 17:04:09,034 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:09,754 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:09,757 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:04:10,561 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :31 and token: a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:10,564 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 31
2022-10-07 17:04:12,269 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_DATE_OF_OFFER type with token: a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:12,270 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with id:31, with token :a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:14,013 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-5] Change the first date of offer, changed first date: 2022-10-25 and token : a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:14,897 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-27 with token: a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:15,747 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-7] Got FINISH_DATE_OFFER callback type with token : a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:15,751 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Update date of offer with first date : 2022-10-25 , and second date : 2022-10-27 
2022-10-07 17:04:15,752 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Get offer by id: 31
2022-10-07 17:04:15,765 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-10-25 and second date:2022-10-27 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:04:17,086 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-07 17:04:17,091 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-07 17:04:17,095 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : a34dc8bee00ed3f9abe8f5
2022-10-07 17:04:17,095 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token
2022-10-07 17:04:17,949 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-07 17:04:17,950 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :8d41f6aedc615a1889e613
2022-10-07 17:04:21,805 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : PASSENGER and token: 8d41f6aedc615a1889e613
2022-10-07 17:04:21,809 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:04:22,892 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :31 and token: 8d41f6aedc615a1889e613
2022-10-07 17:04:22,894 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 31
2022-10-07 17:04:24,468 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_DATE_OF_OFFER type with token: 8d41f6aedc615a1889e613
2022-10-07 17:04:24,468 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with id:31, with token :8d41f6aedc615a1889e613
2022-10-07 17:04:26,115 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeFirstDateOfOfferCallbackType [http-nio-5000-exec-4] Change the first date of offer, changed first date: 2022-10-26 and token : 8d41f6aedc615a1889e613
2022-10-07 17:04:27,206 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-3] Got FINISH_DATE_OFFER callback type with token : 8d41f6aedc615a1889e613
2022-10-07 17:04:27,209 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Update date of offer with first date : 2022-10-26 , and second date : null 
2022-10-07 17:04:27,209 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Get offer by id: 31
2022-10-07 17:04:27,233 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-10-26 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:04:28,882 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-5] Got MAIN_MENU callback type
2022-10-07 17:04:28,886 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-07 17:04:28,891 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Delete token from messages : 8d41f6aedc615a1889e613
2022-10-07 17:04:28,891 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token
2022-10-07 17:04:30,095 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :b54d64ac31b5ac77f7844c
2022-10-07 17:04:30,095 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-6] Got ACTIVITY callback type with activity :DRIVER and token : b54d64ac31b5ac77f7844c
2022-10-07 17:04:30,120 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-6] Find all routes
2022-10-07 17:04:33,246 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_DRIVER_REQUEST with token : b54d64ac31b5ac77f7844c
2022-10-07 17:04:33,246 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : b54d64ac31b5ac77f7844c
2022-10-07 17:04:33,261 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [530]
2022-10-07 17:04:33,346 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token
2022-10-07 17:04:34,207 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-07 17:04:34,207 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :8746729406583fca2a62ed
2022-10-07 17:04:34,923 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: 8746729406583fca2a62ed
2022-10-07 17:04:34,926 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:04:36,112 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-10] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 8746729406583fca2a62ed
2022-10-07 17:04:36,112 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : 8746729406583fca2a62ed
2022-10-07 17:04:36,192 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token
2022-10-07 17:04:38,085 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :7d410b9c751d4576f4900d
2022-10-07 17:04:38,085 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : 7d410b9c751d4576f4900d
2022-10-07 17:04:39,181 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 7d410b9c751d4576f4900d
2022-10-07 17:04:39,828 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 7d410b9c751d4576f4900d
2022-10-07 17:04:41,725 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_DRIVER with token : 7d410b9c751d4576f4900d
2022-10-07 17:04:43,389 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_DRIVER callback type with first date :2022-10-26 with token: 7d410b9c751d4576f4900d
2022-10-07 17:04:44,200 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-26 and second date:null with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:06:38,270 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:06:38,272 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 17:06:38,277 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 17:06:43,396 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 17468 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 17:06:43,399 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 17:06:43,985 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 17:06:44,043 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2022-10-07 17:06:44,449 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 17:06:44,457 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 17:06:44,458 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 17:06:44,458 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 17:06:44,614 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 17:06:44,614 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1186 ms
2022-10-07 17:06:44,762 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 17:06:44,833 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 17:06:44,929 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 17:06:45,021 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 17:06:45,337 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 17:06:45,410 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 17:06:45,490 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 17:06:45,520 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 17:06:45,628 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 17:06:45,703 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 17:06:46,095 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 17:06:46,101 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:06:46,669 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 17:06:46,971 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 17:06:46,990 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 17:06:46,999 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:06:46,999 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:06:46,999 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:06:47,013 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 17:06:47,092 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 17:06:47,098 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:06:47,098 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 17:06:47,616 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.611 seconds (JVM running for 5.43)
2022-10-07 17:32:14,851 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:32:14,853 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 17:32:14,858 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 17:32:21,248 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 25660 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 17:32:21,250 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 17:32:21,841 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 17:32:21,898 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2022-10-07 17:32:22,259 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 17:32:22,279 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 17:32:22,281 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 17:32:22,281 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 17:32:22,386 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 17:32:22,386 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1100 ms
2022-10-07 17:32:22,520 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 17:32:22,585 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 17:32:22,667 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 17:32:22,749 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 17:32:23,056 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 17:32:23,132 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 17:32:23,204 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 17:32:23,231 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 17:32:23,319 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 17:32:23,381 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 17:32:23,717 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 17:32:23,724 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:32:24,242 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 17:32:24,453 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 17:32:24,469 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 17:32:24,476 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:32:24,477 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:32:24,478 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:32:24,478 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 17:32:24,479 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:32:24,493 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 17:32:24,565 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 17:32:24,628 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 17:32:24,628 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 17:32:24,629 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 17:32:24,767 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 7d410b9c751d4576f4900d
2022-10-07 17:32:24,769 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=7d410b9c751d4576f4900d
2022-10-07 17:32:24,769 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 17:32:25,002 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.134 seconds (JVM running for 4.797)
2022-10-07 17:32:28,696 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :2541e1ada6807e8c0519ab
2022-10-07 17:32:28,696 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : 2541e1ada6807e8c0519ab
2022-10-07 17:32:28,718 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 17:32:31,377 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 2541e1ada6807e8c0519ab
2022-10-07 17:32:31,996 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 2541e1ada6807e8c0519ab
2022-10-07 17:32:32,533 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 6 and token: 2541e1ada6807e8c0519ab
2022-10-07 17:32:33,225 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 2541e1ada6807e8c0519ab
2022-10-07 17:32:34,184 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_DRIVER_REQUEST with token : 2541e1ada6807e8c0519ab
2022-10-07 17:32:34,185 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : 2541e1ada6807e8c0519ab
2022-10-07 17:32:34,202 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [532]
2022-10-07 17:32:34,304 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token
2022-10-07 17:32:35,434 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :78484698cc57bc40b1fa5b
2022-10-07 17:32:35,434 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-8] Got ACTIVITY callback type with activity :DRIVER and token : 78484698cc57bc40b1fa5b
2022-10-07 17:32:36,422 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 78484698cc57bc40b1fa5b
2022-10-07 17:32:37,035 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 78484698cc57bc40b1fa5b
2022-10-07 17:32:37,572 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 78484698cc57bc40b1fa5b
2022-10-07 17:32:39,708 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-2] Callback data with type: CHOSE_DATE_DRIVER with token : 78484698cc57bc40b1fa5b
2022-10-07 17:32:43,918 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-3] Got FIRST_DATE_DRIVER callback type with first date :2022-10-22 with token: 78484698cc57bc40b1fa5b
2022-10-07 17:32:44,827 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_DRIVER callback type with second date :2022-10-26 and token : 78484698cc57bc40b1fa5b
2022-10-07 17:32:48,246 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_DRIVER callback type with second date :2022-10-07 and token : 78484698cc57bc40b1fa5b
2022-10-07 17:32:49,244 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-07 and second date:2022-10-26 with cities:[City(id=2, name=BELASTOK), City(id=3, name=WROCLAW), City(id=5, name=BREST)]
2022-10-07 17:32:52,156 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_DRIVER_REQUEST with token : 78484698cc57bc40b1fa5b
2022-10-07 17:32:52,157 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : 78484698cc57bc40b1fa5b
2022-10-07 17:32:52,157 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [533]
2022-10-07 17:32:52,283 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token
2022-10-07 17:32:53,369 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-07 17:32:53,370 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :2546a0a2dd01637404cd1d
2022-10-07 17:32:55,164 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: 2546a0a2dd01637404cd1d
2022-10-07 17:32:55,167 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:32:56,174 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-10] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 2546a0a2dd01637404cd1d
2022-10-07 17:32:56,174 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Delete token from messages : 2546a0a2dd01637404cd1d
2022-10-07 17:32:56,246 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token
2022-10-07 17:32:57,246 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :5f40c08b11dfe4017519e1
2022-10-07 17:32:57,247 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : 5f40c08b11dfe4017519e1
2022-10-07 17:32:58,654 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 1 and token: 5f40c08b11dfe4017519e1
2022-10-07 17:32:59,521 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 5f40c08b11dfe4017519e1
2022-10-07 17:33:00,544 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 5f40c08b11dfe4017519e1
2022-10-07 17:33:02,082 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 5f40c08b11dfe4017519e1
2022-10-07 17:33:02,741 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 5f40c08b11dfe4017519e1
2022-10-07 17:33:03,969 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-7] Callback data with type: CHOSE_DATE_DRIVER with token : 5f40c08b11dfe4017519e1
2022-10-07 17:33:05,425 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-8] Got FIRST_DATE_DRIVER callback type with first date :2022-10-07 with token: 5f40c08b11dfe4017519e1
2022-10-07 17:33:06,277 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_DRIVER callback type with second date :2022-11-02 and token : 5f40c08b11dfe4017519e1
2022-10-07 17:33:07,281 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find passengers by first date :2022-10-07 and second date:2022-11-02 with cities:[City(id=1, name=MINSK), City(id=2, name=BELASTOK), City(id=3, name=WROCLAW), City(id=5, name=BREST), City(id=4, name=GDANSK)]
2022-10-07 17:33:16,462 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 5f40c08b11dfe4017519e1
2022-10-07 17:33:16,462 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : 5f40c08b11dfe4017519e1
2022-10-07 17:33:16,464 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Delete messages with chat id : 834450967 and messages : [535]
2022-10-07 17:33:16,558 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 17:33:17,612 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :394187824454b2c4c02bc8
2022-10-07 17:33:17,612 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : 394187824454b2c4c02bc8
2022-10-07 17:33:18,983 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 1 and token: 394187824454b2c4c02bc8
2022-10-07 17:33:20,284 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 394187824454b2c4c02bc8
2022-10-07 17:33:20,891 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 394187824454b2c4c02bc8
2022-10-07 17:33:21,561 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_DRIVER with token : 394187824454b2c4c02bc8
2022-10-07 17:33:22,231 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-7] Got FIRST_DATE_DRIVER callback type with first date :2022-10-23 with token: 394187824454b2c4c02bc8
2022-10-07 17:33:23,265 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_DRIVER callback type with second date :2022-10-07 and token : 394187824454b2c4c02bc8
2022-10-07 17:33:23,928 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_DRIVER callback type with second date :2022-10-30 and token : 394187824454b2c4c02bc8
2022-10-07 17:33:25,004 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find passengers by first date :2022-10-07 and second date:2022-10-30 with cities:[City(id=1, name=MINSK), City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:33:27,385 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 394187824454b2c4c02bc8
2022-10-07 17:33:27,385 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : 394187824454b2c4c02bc8
2022-10-07 17:33:27,386 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Delete messages with chat id : 834450967 and messages : [536]
2022-10-07 17:33:27,456 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 17:33:28,249 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-07 17:33:28,250 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :6a4363bc12234f61e86874
2022-10-07 17:33:28,932 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 6a4363bc12234f61e86874
2022-10-07 17:33:28,937 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:33:29,719 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :31 and token: 6a4363bc12234f61e86874
2022-10-07 17:33:29,722 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 31
2022-10-07 17:33:33,890 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : PASSENGER and token: 6a4363bc12234f61e86874
2022-10-07 17:33:33,894 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:33:35,288 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-6] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 6a4363bc12234f61e86874
2022-10-07 17:33:35,288 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : 6a4363bc12234f61e86874
2022-10-07 17:33:35,499 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token
2022-10-07 17:33:36,559 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-07 17:33:36,559 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :164050a8725645efce0895
2022-10-07 17:33:37,176 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : DRIVER and token: 164050a8725645efce0895
2022-10-07 17:33:37,180 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :DRIVER
2022-10-07 17:33:37,859 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-9] Got MAIN_MENU callback type
2022-10-07 17:33:37,864 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Check existing of user by id: 834450967
2022-10-07 17:33:37,873 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : 164050a8725645efce0895
2022-10-07 17:33:37,873 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token
2022-10-07 17:33:39,177 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :5348ad974e639cdbbfd3d5
2022-10-07 17:33:39,177 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :DRIVER and token : 5348ad974e639cdbbfd3d5
2022-10-07 17:33:40,292 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 5348ad974e639cdbbfd3d5
2022-10-07 17:33:41,569 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 5348ad974e639cdbbfd3d5
2022-10-07 17:33:42,617 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_DRIVER with token : 5348ad974e639cdbbfd3d5
2022-10-07 17:33:44,229 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_DRIVER callback type with first date :2022-10-10 with token: 5348ad974e639cdbbfd3d5
2022-10-07 17:33:45,232 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_DRIVER callback type with second date :2022-11-02 and token : 5348ad974e639cdbbfd3d5
2022-10-07 17:33:46,034 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-10 and second date:2022-11-02 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:33:58,756 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_DRIVER_REQUEST with token : 5348ad974e639cdbbfd3d5
2022-10-07 17:33:58,756 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : 5348ad974e639cdbbfd3d5
2022-10-07 17:33:58,757 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [538]
2022-10-07 17:33:58,833 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token
2022-10-07 17:33:59,724 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :024b22b905262108696ea4
2022-10-07 17:33:59,724 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-8] Got ACTIVITY callback type with activity :PASSENGER and token : 024b22b905262108696ea4
2022-10-07 17:34:00,898 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 024b22b905262108696ea4
2022-10-07 17:34:01,979 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 024b22b905262108696ea4
2022-10-07 17:34:02,724 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_PASSENGER_REQUEST with token : 024b22b905262108696ea4
2022-10-07 17:34:02,724 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Delete messages with chat id : 834450967 and messages : [539]
2022-10-07 17:34:02,805 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Delete token from messages : 024b22b905262108696ea4
2022-10-07 17:34:02,805 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 17:34:03,965 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:03,966 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:04,710 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:05,340 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:06,143 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:07,173 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-10-10 with token: cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:11,184 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-02 and token : cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:12,347 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find drivers by first date :2022-10-10 and second date:2022-11-02 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:34:14,577 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_PASSENGER_REQUEST with token : cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:14,577 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Delete messages with chat id : 834450967 and messages : [540]
2022-10-07 17:34:14,919 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : cd4b00aa9fa9bab5a28a17
2022-10-07 17:34:14,920 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token
2022-10-07 17:34:33,552 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:34:33,554 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 17:34:33,560 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 17:34:36,418 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 14904 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 17:34:36,421 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 17:34:36,958 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 17:34:37,013 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2022-10-07 17:34:37,398 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 17:34:37,405 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 17:34:37,405 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 17:34:37,406 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 17:34:37,508 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 17:34:37,508 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1057 ms
2022-10-07 17:34:37,644 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 17:34:37,699 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 17:34:37,781 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 17:34:37,861 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 17:34:38,167 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 17:34:38,259 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 17:34:38,362 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 17:34:38,394 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 17:34:38,512 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 17:34:38,582 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 17:34:39,022 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 17:34:39,031 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:34:39,735 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 17:34:40,024 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 17:34:40,051 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 17:34:40,059 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:34:40,061 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:34:40,061 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 17:34:40,061 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:34:40,062 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:34:40,083 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 17:34:40,173 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 17:34:40,648 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.631 seconds (JVM running for 5.413)
2022-10-07 17:34:46,813 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 17:34:46,814 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 17:34:46,815 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 17:34:46,955 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :31417bbccfb169f862e5ca
2022-10-07 17:34:46,955 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : 31417bbccfb169f862e5ca
2022-10-07 17:34:46,985 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-07 17:34:48,276 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 31417bbccfb169f862e5ca
2022-10-07 17:34:50,847 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 31417bbccfb169f862e5ca
2022-10-07 17:34:51,503 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 31417bbccfb169f862e5ca
2022-10-07 17:34:52,651 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_DRIVER with token : 31417bbccfb169f862e5ca
2022-10-07 17:34:53,682 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_DRIVER callback type with first date :2022-10-10 with token: 31417bbccfb169f862e5ca
2022-10-07 17:34:54,622 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_DRIVER callback type with second date :2022-10-30 and token : 31417bbccfb169f862e5ca
2022-10-07 17:34:55,507 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find passengers by first date :2022-10-10 and second date:2022-10-30 with cities:[City(id=2, name=BELASTOK), City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:35:14,618 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_DRIVER_REQUEST with token : 31417bbccfb169f862e5ca
2022-10-07 17:35:14,619 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : 31417bbccfb169f862e5ca
2022-10-07 17:35:14,631 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Delete messages with chat id : 834450967 and messages : [541]
2022-10-07 17:35:14,713 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token
2022-10-07 17:35:16,000 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-10] Got OFFERS_ACTIVITY callback type
2022-10-07 17:35:16,000 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :df4e20a1ac54f6c8c1d3a5
2022-10-07 17:35:17,523 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: df4e20a1ac54f6c8c1d3a5
2022-10-07 17:35:17,527 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-07 17:35:25,304 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-2] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : df4e20a1ac54f6c8c1d3a5
2022-10-07 17:35:25,304 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Delete token from messages : df4e20a1ac54f6c8c1d3a5
2022-10-07 17:35:25,381 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token
2022-10-07 17:35:26,460 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :e948ac85d53ff3b9f8150c
2022-10-07 17:35:26,460 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-3] Got ACTIVITY callback type with activity :DRIVER and token : e948ac85d53ff3b9f8150c
2022-10-07 17:35:27,673 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: e948ac85d53ff3b9f8150c
2022-10-07 17:35:29,006 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: e948ac85d53ff3b9f8150c
2022-10-07 17:35:30,155 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_DRIVER with token : e948ac85d53ff3b9f8150c
2022-10-07 17:35:31,469 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-7] Got FIRST_DATE_DRIVER callback type with first date :2022-10-13 with token: e948ac85d53ff3b9f8150c
2022-10-07 17:35:32,381 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_DRIVER callback type with second date :2022-10-30 and token : e948ac85d53ff3b9f8150c
2022-10-07 17:35:33,562 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find passengers by first date :2022-10-13 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:39:02,899 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m12s36ms47µs300ns).
2022-10-07 17:39:02,906 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find passengers by first date :2022-10-13 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:39:02,906 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find passengers by first date :2022-10-13 and second date:2022-10-30 with cities:[City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:39:03,107 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:39:03,109 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 17:39:03,115 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 17:39:06,851 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 7784 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 17:39:06,854 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 17:39:07,388 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 17:39:07,446 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2022-10-07 17:39:07,791 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 17:39:07,808 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 17:39:07,808 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 17:39:07,808 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 17:39:07,884 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 17:39:07,885 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 994 ms
2022-10-07 17:39:07,983 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 17:39:08,038 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 17:39:08,121 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 17:39:08,184 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 17:39:08,453 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 17:39:08,525 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 17:39:08,593 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 17:39:08,620 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 17:39:08,694 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 17:39:08,759 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 17:39:09,107 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 17:39:09,113 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:39:09,611 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 17:39:09,835 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 17:39:09,854 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 17:39:09,864 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:39:09,864 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:39:09,864 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:39:09,876 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 17:39:09,955 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 17:39:09,961 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:39:09,961 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 17:39:10,310 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.786 seconds (JVM running for 4.465)
2022-10-07 17:39:18,780 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 17:39:18,780 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 17:39:18,781 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 17:39:18,882 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=e948ac85d53ff3b9f8150c
2022-10-07 17:39:18,882 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 17:39:20,425 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :524cfebe68132554db9b96
2022-10-07 17:39:20,426 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : 524cfebe68132554db9b96
2022-10-07 17:39:20,444 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 17:39:21,515 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 524cfebe68132554db9b96
2022-10-07 17:39:22,022 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 524cfebe68132554db9b96
2022-10-07 17:39:26,124 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 4 and token : 524cfebe68132554db9b96
2022-10-07 17:39:26,645 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 524cfebe68132554db9b96
2022-10-07 17:39:27,189 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 524cfebe68132554db9b96
2022-10-07 17:39:28,440 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-8] Callback data with type: CHOSE_DATE_DRIVER with token : 524cfebe68132554db9b96
2022-10-07 17:39:29,616 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-9] Got FIRST_DATE_DRIVER callback type with first date :2022-10-16 with token: 524cfebe68132554db9b96
2022-10-07 17:39:33,619 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_DRIVER callback type with second date :2022-10-30 and token : 524cfebe68132554db9b96
2022-10-07 17:39:34,730 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find passengers by first date :2022-10-16 and second date:2022-10-30 with cities:[City(id=2, name=BELASTOK), City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:39:34,769 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-1] SQL Error: 0, SQLState: 42601
2022-10-07 17:39:34,770 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-1] ERROR: syntax error at or near "o1"
  Position: 209
2022-10-07 17:39:34,780 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSetcould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2022-10-07 17:40:40,029 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:40:40,031 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 17:40:40,037 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 17:40:43,977 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 26608 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 17:40:43,980 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 17:40:44,436 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 17:40:44,494 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2022-10-07 17:40:44,816 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 17:40:44,822 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 17:40:44,822 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 17:40:44,822 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 17:40:44,899 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 17:40:44,899 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 887 ms
2022-10-07 17:40:45,001 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 17:40:45,052 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 17:40:45,130 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 17:40:45,203 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 17:40:45,481 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 17:40:45,540 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 17:40:45,604 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 17:40:45,627 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 17:40:45,692 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 17:40:45,749 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 17:40:46,081 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 17:40:46,086 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:40:46,530 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 17:40:46,762 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 17:40:46,778 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 17:40:46,785 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:40:46,785 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:40:46,786 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:40:46,798 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 17:40:46,869 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 17:40:46,874 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:40:46,874 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 17:40:47,348 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.702 seconds (JVM running for 4.374)
2022-10-07 17:40:50,369 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 17:40:50,369 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 17:40:50,370 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 17:40:50,496 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 524cfebe68132554db9b96
2022-10-07 17:40:50,499 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=524cfebe68132554db9b96
2022-10-07 17:40:50,499 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 17:40:51,829 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :944390a78a84654e6bc5c0
2022-10-07 17:40:51,830 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : 944390a78a84654e6bc5c0
2022-10-07 17:40:51,858 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 17:40:53,632 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-3] Got callback : CANCEL_PASSENGER_REQUEST with token : 944390a78a84654e6bc5c0
2022-10-07 17:40:53,644 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Delete messages with chat id : 834450967 and messages : [543]
2022-10-07 17:40:53,722 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Delete token from messages : 944390a78a84654e6bc5c0
2022-10-07 17:40:53,723 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token
2022-10-07 17:40:54,544 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :934d58a6521edd2603322c
2022-10-07 17:40:54,545 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-4] Got ACTIVITY callback type with activity :DRIVER and token : 934d58a6521edd2603322c
2022-10-07 17:40:55,438 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 934d58a6521edd2603322c
2022-10-07 17:40:56,041 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 934d58a6521edd2603322c
2022-10-07 17:40:57,522 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 934d58a6521edd2603322c
2022-10-07 17:40:58,452 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-8] Callback data with type: CHOSE_DATE_DRIVER with token : 934d58a6521edd2603322c
2022-10-07 17:40:59,924 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-9] Got FIRST_DATE_DRIVER callback type with first date :2022-10-13 with token: 934d58a6521edd2603322c
2022-10-07 17:41:00,945 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_DRIVER callback type with second date :2022-10-30 and token : 934d58a6521edd2603322c
2022-10-07 17:41:01,656 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find passengers by first date :2022-10-13 and second date:2022-10-30 with cities:[City(id=2, name=BELASTOK), City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:41:01,682 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-1] SQL Error: 0, SQLState: 42601
2022-10-07 17:41:01,683 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-1] ERROR: syntax error at end of input
  Position: 434
2022-10-07 17:41:01,692 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSetcould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2022-10-07 17:45:18,379 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:45:18,381 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 17:45:18,388 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-07 17:45:22,325 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 3276 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-07 17:45:22,329 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-07 17:45:22,880 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-07 17:45:22,933 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2022-10-07 17:45:23,267 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-07 17:45:23,272 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-07 17:45:23,272 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-07 17:45:23,272 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-07 17:45:23,347 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-07 17:45:23,347 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 973 ms
2022-10-07 17:45:23,444 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-07 17:45:23,498 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-07 17:45:23,574 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-07 17:45:23,645 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-07 17:45:23,948 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-07 17:45:24,021 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-07 17:45:24,104 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-07 17:45:24,134 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-07 17:45:24,219 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-07 17:45:24,283 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-07 17:45:24,642 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-07 17:45:24,647 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:45:25,125 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-07 17:45:25,338 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-07 17:45:25,352 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-07 17:45:25,359 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:45:25,359 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:45:25,361 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://0589-176-118-153-255.eu.ngrok.io
2022-10-07 17:45:25,375 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-07
2022-10-07 17:45:25,450 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-07 and second date is null
2022-10-07 17:45:25,454 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-07 17:45:25,454 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-07 17:45:25,932 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 3.984 seconds (JVM running for 4.755)
2022-10-07 17:45:27,745 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-07 17:45:27,745 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-07 17:45:27,746 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-07 17:45:27,863 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_DRIVER_REQUEST with token : 934d58a6521edd2603322c
2022-10-07 17:45:27,865 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.dto.DriverRequest wasn't found by token=934d58a6521edd2603322c
2022-10-07 17:45:27,865 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token
2022-10-07 17:45:28,897 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :d846d8aa2d5dc25adc3d16
2022-10-07 17:45:28,898 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : d846d8aa2d5dc25adc3d16
2022-10-07 17:45:28,919 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-07 17:45:30,066 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: d846d8aa2d5dc25adc3d16
2022-10-07 17:45:30,648 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: d846d8aa2d5dc25adc3d16
2022-10-07 17:45:31,907 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : d846d8aa2d5dc25adc3d16
2022-10-07 17:45:32,877 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-10-22 with token: d846d8aa2d5dc25adc3d16
2022-10-07 17:45:33,548 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-26 and token : d846d8aa2d5dc25adc3d16
2022-10-07 17:45:34,927 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_PASSENGER callback type with second date :2022-10-30 and token : d846d8aa2d5dc25adc3d16
2022-10-07 17:45:36,563 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_PASSENGER_REQUEST with token : d846d8aa2d5dc25adc3d16
2022-10-07 17:45:36,593 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Delete messages with chat id : 834450967 and messages : [544]
2022-10-07 17:45:36,706 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : d846d8aa2d5dc25adc3d16
2022-10-07 17:45:36,707 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token
2022-10-07 17:45:37,686 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :c04ec192f78f47a24b1b9c
2022-10-07 17:45:37,686 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :DRIVER and token : c04ec192f78f47a24b1b9c
2022-10-07 17:45:38,862 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: c04ec192f78f47a24b1b9c
2022-10-07 17:45:39,543 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: c04ec192f78f47a24b1b9c
2022-10-07 17:45:40,164 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: c04ec192f78f47a24b1b9c
2022-10-07 17:45:40,982 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_DRIVER with token : c04ec192f78f47a24b1b9c
2022-10-07 17:45:42,969 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_DRIVER callback type with first date :2022-10-16 with token: c04ec192f78f47a24b1b9c
2022-10-07 17:45:46,841 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_DRIVER callback type with second date :2022-10-30 and token : c04ec192f78f47a24b1b9c
2022-10-07 17:45:50,407 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find passengers by first date :2022-10-16 and second date:2022-10-30 with cities:[City(id=2, name=BELASTOK), City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:45:55,609 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-8] Got callback type :CHECK_DRIVER_REQUEST with token :c04ec192f78f47a24b1b9c
2022-10-07 17:46:00,556 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-9] Got message for saving description of driver with token :c04ec192f78f47a24b1b9c 
2022-10-07 17:46:00,557 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Delete messages with chat id : 834450967 and messages : [545]
2022-10-07 17:46:00,705 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Save supplier by: Request(chatId=834450967, userDto=UserDto(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97), cities=[City(id=2, name=BELASTOK), City(id=3, name=WROCLAW), City(id=4, name=GDANSK)], firstDate=2022-10-16, secondDate=2022-10-30, description=das, needForDescription=true, messages=[545], activity=DRIVER)
2022-10-07 17:46:00,757 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Delete token from messages : c04ec192f78f47a24b1b9c
2022-10-07 17:46:00,758 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token
2022-10-07 17:46:01,897 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :3b4de99afe729699fc7c84
2022-10-07 17:46:01,898 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :DRIVER and token : 3b4de99afe729699fc7c84
2022-10-07 17:46:05,037 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 3b4de99afe729699fc7c84
2022-10-07 17:46:06,498 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 3b4de99afe729699fc7c84
2022-10-07 17:46:07,032 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 3b4de99afe729699fc7c84
2022-10-07 17:46:08,108 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_DRIVER with token : 3b4de99afe729699fc7c84
2022-10-07 17:46:09,358 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_DRIVER callback type with first date :2022-10-19 with token: 3b4de99afe729699fc7c84
2022-10-07 17:46:10,011 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_DRIVER callback type with second date :2022-10-30 and token : 3b4de99afe729699fc7c84
2022-10-07 17:46:10,922 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find passengers by first date :2022-10-19 and second date:2022-10-30 with cities:[City(id=2, name=BELASTOK), City(id=3, name=WROCLAW), City(id=4, name=GDANSK)]
2022-10-07 17:46:18,285 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_DRIVER_REQUEST with token : 3b4de99afe729699fc7c84
2022-10-07 17:46:18,285 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Delete token from messages : 3b4de99afe729699fc7c84
2022-10-07 17:46:18,286 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Delete messages with chat id : 834450967 and messages : [547]
2022-10-07 17:46:18,364 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token
2022-10-07 17:46:19,767 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :eb49d1ac610d48898abccd
2022-10-07 17:46:19,767 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-9] Got ACTIVITY callback type with activity :DRIVER and token : eb49d1ac610d48898abccd
2022-10-07 17:46:20,820 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: eb49d1ac610d48898abccd
2022-10-07 17:46:21,403 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: eb49d1ac610d48898abccd
2022-10-07 17:46:22,067 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: eb49d1ac610d48898abccd
2022-10-07 17:46:26,081 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_DRIVER with token : eb49d1ac610d48898abccd
2022-10-07 17:46:27,557 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_DRIVER callback type with first date :2022-10-17 with token: eb49d1ac610d48898abccd
2022-10-07 17:46:28,554 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_DRIVER callback type with second date :2022-10-27 and token : eb49d1ac610d48898abccd
2022-10-07 17:46:30,881 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-10-17 and second date:2022-10-27 with cities:[City(id=3, name=WROCLAW), City(id=2, name=BELASTOK), City(id=4, name=GDANSK)]
2022-10-07 17:46:38,856 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_DRIVER_REQUEST with token : eb49d1ac610d48898abccd
2022-10-07 17:46:38,856 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : eb49d1ac610d48898abccd
2022-10-07 17:46:38,856 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Delete messages with chat id : 834450967 and messages : [548]
2022-10-07 17:46:39,174 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token
2022-10-07 17:46:40,371 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :614ba29609e0d2fb180a77
2022-10-07 17:46:40,372 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-8] Got ACTIVITY callback type with activity :DRIVER and token : 614ba29609e0d2fb180a77
2022-10-07 17:46:42,106 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 614ba29609e0d2fb180a77
2022-10-07 17:46:44,232 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 614ba29609e0d2fb180a77
2022-10-07 17:46:44,751 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 614ba29609e0d2fb180a77
2022-10-07 17:46:45,749 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-2] Callback data with type: CHOSE_DATE_DRIVER with token : 614ba29609e0d2fb180a77
2022-10-07 17:46:46,654 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-3] Got FIRST_DATE_DRIVER callback type with first date :2022-10-20 with token: 614ba29609e0d2fb180a77
2022-10-07 17:46:47,396 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_DRIVER callback type with second date :2022-10-30 and token : 614ba29609e0d2fb180a77
2022-10-07 17:46:51,390 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find passengers by first date :2022-10-20 and second date:2022-10-30 with cities:[City(id=4, name=GDANSK), City(id=2, name=BELASTOK), City(id=3, name=WROCLAW)]
2022-10-07 17:46:53,373 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-6] Got callback : CANCEL_DRIVER_REQUEST with token : 614ba29609e0d2fb180a77
2022-10-07 17:46:53,373 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Delete token from messages : 614ba29609e0d2fb180a77
2022-10-07 17:46:53,374 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Delete messages with chat id : 834450967 and messages : [549]
2022-10-07 17:46:53,460 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token
2022-10-07 17:48:20,185 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-07 17:48:20,187 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-07 17:48:20,192 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.

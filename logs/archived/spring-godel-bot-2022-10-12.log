2022-10-12 09:25:19,406 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 17560 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 09:25:19,414 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 09:25:20,377 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 09:25:20,482 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 95 ms. Found 5 JPA repository interfaces.
2022-10-12 09:25:21,032 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 09:25:21,042 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 09:25:21,045 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 09:25:21,046 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 09:25:21,182 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 09:25:21,182 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1730 ms
2022-10-12 09:25:21,452 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 09:25:21,555 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 09:25:21,720 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 09:25:21,838 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 09:25:22,387 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 09:25:22,479 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 09:25:22,582 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 09:25:22,679 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 09:25:22,843 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 09:25:22,973 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 09:25:23,677 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 09:25:23,683 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 09:25:24,626 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 09:25:25,032 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 09:25:25,052 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 09:25:25,062 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 09:25:25,062 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 09:25:25,062 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 09:25:25,083 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 09:25:25,216 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 09:25:25,224 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 09:25:25,230 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 09:25:25,242 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 09:25:25,251 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 09:25:25,974 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 7.066 seconds (JVM running for 8.115)
2022-10-12 09:25:35,497 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 09:25:35,497 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 09:25:35,501 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 4 ms
2022-10-12 09:25:35,872 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : d3417c97e34212197476a7 by user : Myachin97
2022-10-12 09:25:35,962 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 09:25:36,014 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: d3417c97e34212197476a7 with activity : PASSENGER
2022-10-12 09:25:36,015 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :d3417c97e34212197476a7
2022-10-12 09:25:38,067 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: d3417c97e34212197476a7
2022-10-12 09:25:38,073 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : d3417c97e34212197476a7
2022-10-12 09:25:38,134 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 21
2022-10-12 09:25:38,134 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 21
2022-10-12 09:25:38,771 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: d3417c97e34212197476a7
2022-10-12 09:25:38,776 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : d3417c97e34212197476a7
2022-10-12 09:25:38,792 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 21
2022-10-12 09:25:38,792 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 21
2022-10-12 09:25:39,692 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : d3417c97e34212197476a7 by user :Myachin97
2022-10-12 09:25:39,700 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : d3417c97e34212197476a7
2022-10-12 09:25:40,888 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-27 with token: d3417c97e34212197476a7
2022-10-12 09:25:40,895 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : d3417c97e34212197476a7
2022-10-12 09:25:40,912 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 21
2022-10-12 09:25:40,914 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 21
2022-10-12 09:25:41,640 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-07 and token : d3417c97e34212197476a7 by user : Myachin97
2022-10-12 09:25:41,647 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : d3417c97e34212197476a7
2022-10-12 09:25:41,667 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 21
2022-10-12 09:25:41,668 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 21
2022-10-12 09:25:43,062 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_PASSENGER type with token : d3417c97e34212197476a7 by user : Myachin97
2022-10-12 09:25:43,067 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : d3417c97e34212197476a7
2022-10-12 09:25:43,082 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 21
2022-10-12 09:25:43,083 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 21
2022-10-12 09:25:43,812 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-8] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : d3417c97e34212197476a7 by user : Myachin97
2022-10-12 09:25:43,817 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : d3417c97e34212197476a7
2022-10-12 09:25:43,832 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find drivers by first date :2022-10-27 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 09:25:45,483 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_PASSENGER_REQUEST with token : d3417c97e34212197476a7
2022-10-12 09:25:45,487 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : d3417c97e34212197476a7
2022-10-12 09:25:45,501 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Delete request with id : 21
2022-10-12 09:25:45,652 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token with userId :834450967, messageId: 778 and chatId :834450967
2022-10-12 09:25:46,680 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :PASSENGER and token : 154a4eb4d0bfbe3b148fb1 by user : Myachin97
2022-10-12 09:25:46,686 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Save new request with tokenId: 154a4eb4d0bfbe3b148fb1 with activity : PASSENGER
2022-10-12 09:25:46,686 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:47,407 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:47,413 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:47,430 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 22
2022-10-12 09:25:47,430 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 22
2022-10-12 09:25:48,006 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:48,012 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:48,024 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 22
2022-10-12 09:25:48,025 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 22
2022-10-12 09:25:48,717 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_PASSENGER with token : 154a4eb4d0bfbe3b148fb1 by user :Myachin97
2022-10-12 09:25:48,724 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:49,641 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_PASSENGER type with first date :2022-10-31 with token: 154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:49,644 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:49,652 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 22
2022-10-12 09:25:49,654 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 22
2022-10-12 09:25:53,542 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-5] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 154a4eb4d0bfbe3b148fb1 by user : Myachin97
2022-10-12 09:25:53,548 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 154a4eb4d0bfbe3b148fb1
2022-10-12 09:25:53,566 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-10-31 and second date:null with cities:[GDANSK, BREST]
2022-10-12 09:26:00,986 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-6] Got callback with type : CHECK_PASSENGER_REQUEST with token : 154a4eb4d0bfbe3b148fb1
2022-10-12 09:26:00,990 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 154a4eb4d0bfbe3b148fb1
2022-10-12 09:26:01,004 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Prepare request with id :22 and user id : 834450967 for save with description
2022-10-12 09:26:05,242 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group?
2022-10-12 09:26:05,387 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Find request for saving with user id : 834450967
2022-10-12 09:26:05,412 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-7] Got message for saving description of passenger with token :154a4eb4d0bfbe3b148fb1 
2022-10-12 09:26:05,447 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Save passenger request : Request(id=22, offerId=null, cities=[GDANSK, BREST], firstDate=2022-10-31, secondDate=null, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@72ec1858, activity=PASSENGER, description=Yap yap)
2022-10-12 09:26:05,577 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Delete request with id : 22
2022-10-12 09:26:05,682 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token with userId :834450967 and chatId :834450967
2022-10-12 09:26:07,897 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-8] Got ACTIVITY callback type with activity :PASSENGER and token : 85424385d813322aca0e58 by user : Myachin97
2022-10-12 09:26:07,902 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Save new request with tokenId: 85424385d813322aca0e58 with activity : PASSENGER
2022-10-12 09:26:07,904 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :85424385d813322aca0e58
2022-10-12 09:26:08,906 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 85424385d813322aca0e58
2022-10-12 09:26:08,910 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 85424385d813322aca0e58
2022-10-12 09:26:08,926 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 23
2022-10-12 09:26:08,926 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 23
2022-10-12 09:26:09,511 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 85424385d813322aca0e58
2022-10-12 09:26:09,518 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 85424385d813322aca0e58
2022-10-12 09:26:09,534 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 23
2022-10-12 09:26:09,535 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 23
2022-10-12 09:26:10,337 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-1] Callback data with type: CHOSE_DATE_PASSENGER with token : 85424385d813322aca0e58 by user :Myachin97
2022-10-12 09:26:10,343 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 85424385d813322aca0e58
2022-10-12 09:26:11,457 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_PASSENGER type with first date :2022-10-29 with token: 85424385d813322aca0e58
2022-10-12 09:26:11,461 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 85424385d813322aca0e58
2022-10-12 09:26:11,475 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 23
2022-10-12 09:26:11,476 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 23
2022-10-12 09:26:15,755 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-04 and token : 85424385d813322aca0e58 by user : Myachin97
2022-10-12 09:26:15,760 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 85424385d813322aca0e58
2022-10-12 09:26:15,770 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 23
2022-10-12 09:26:15,771 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 23
2022-10-12 09:26:17,382 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelDatePassengerCallbackType [http-nio-5000-exec-4] Got CANCEL_DATE_PASSENGER type with token : 85424385d813322aca0e58 by user : Myachin97
2022-10-12 09:26:17,386 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 85424385d813322aca0e58
2022-10-12 09:26:17,401 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 23
2022-10-12 09:26:17,401 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 23
2022-10-12 09:26:18,303 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-5] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 85424385d813322aca0e58 by user : Myachin97
2022-10-12 09:26:18,310 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 85424385d813322aca0e58
2022-10-12 09:26:18,324 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-10-29 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 09:26:19,747 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-6] Got callback : CANCEL_PASSENGER_REQUEST with token : 85424385d813322aca0e58
2022-10-12 09:26:19,752 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 85424385d813322aca0e58
2022-10-12 09:26:19,768 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Delete request with id : 23
2022-10-12 09:26:19,877 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token with userId :834450967, messageId: 781 and chatId :834450967
2022-10-12 09:26:20,600 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-12 09:26:20,605 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :e943cfbde3c7615c04fc04
2022-10-12 09:26:21,407 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : DRIVER and token: e943cfbde3c7615c04fc04
2022-10-12 09:26:21,411 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Check request by tokenId :e943cfbde3c7615c04fc04
2022-10-12 09:26:21,453 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :DRIVER
2022-10-12 09:26:22,399 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :3 and token: e943cfbde3c7615c04fc04 by user :Myachin97
2022-10-12 09:26:22,405 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : e943cfbde3c7615c04fc04
2022-10-12 09:26:22,424 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 3
2022-10-12 09:26:24,896 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.DeleteOfferCallbackType [http-nio-5000-exec-10] Delete offer by id :3 and token: e943cfbde3c7615c04fc04
2022-10-12 09:26:24,900 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : e943cfbde3c7615c04fc04
2022-10-12 09:26:24,914 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Delete offer by id : 3
2022-10-12 09:26:24,914 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 3
2022-10-12 09:26:24,924 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Delete request with id : 24
2022-10-12 09:26:24,928 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token with userId :834450967, messageId: 782 and chatId :834450967
2022-10-12 09:26:25,871 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-12 09:26:25,876 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :25402e98425c7b78da26cf
2022-10-12 09:26:27,114 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: 25402e98425c7b78da26cf
2022-10-12 09:26:27,120 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :25402e98425c7b78da26cf
2022-10-12 09:26:27,151 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-12 09:26:28,048 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :1 and token: 25402e98425c7b78da26cf by user :Myachin97
2022-10-12 09:26:28,054 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 25402e98425c7b78da26cf
2022-10-12 09:26:28,065 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 1
2022-10-12 09:26:28,843 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : DRIVER and token: 25402e98425c7b78da26cf
2022-10-12 09:26:28,849 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Check request by tokenId :25402e98425c7b78da26cf
2022-10-12 09:26:28,877 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :DRIVER
2022-10-12 09:26:31,148 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_OFFER callback type with route id :1 and token: 25402e98425c7b78da26cf by user :Myachin97
2022-10-12 09:26:31,154 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 25402e98425c7b78da26cf
2022-10-12 09:26:31,166 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 1
2022-10-12 09:26:32,075 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : DRIVER and token: 25402e98425c7b78da26cf
2022-10-12 09:26:32,082 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Check request by tokenId :25402e98425c7b78da26cf
2022-10-12 09:26:32,117 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :DRIVER
2022-10-12 09:26:32,915 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-7] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 25402e98425c7b78da26cf
2022-10-12 09:26:32,919 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 25402e98425c7b78da26cf
2022-10-12 09:26:32,935 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Delete request with id : 25
2022-10-12 09:26:32,960 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : 25402e98425c7b78da26cf
2022-10-12 09:26:32,974 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] class com.godeltech.springgodelbot.model.entity.Token wasn't found by id=25402e98425c7b78da26cf
2022-10-12 09:26:32,975 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token with userId :5632797057, messageId: 782 and chatId :834450967
2022-10-12 09:26:34,048 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-12 09:26:34,053 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :eb49859af1a2aa0ab70444
2022-10-12 09:26:34,782 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: eb49859af1a2aa0ab70444
2022-10-12 09:26:34,786 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Check request by tokenId :eb49859af1a2aa0ab70444
2022-10-12 09:26:34,817 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:26:35,787 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :4 and token: eb49859af1a2aa0ab70444 by user :Myachin97
2022-10-12 09:26:35,791 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:26:35,804 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 4
2022-10-12 09:26:38,166 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:26:38,179 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-1] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: eb49859af1a2aa0ab70444
2022-10-12 09:26:38,180 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 26
2022-10-12 09:26:38,181 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 26
2022-10-12 09:26:39,484 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-2] Got RETURN_TO_CHANGE_OF_OFFER type with token : eb49859af1a2aa0ab70444
2022-10-12 09:26:39,491 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:26:39,503 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Refresh change offer request with id : 4
2022-10-12 09:26:39,504 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 4
2022-10-12 09:26:40,359 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: eb49859af1a2aa0ab70444
2022-10-12 09:26:40,363 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Check request by tokenId :eb49859af1a2aa0ab70444
2022-10-12 09:26:40,396 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:26:41,773 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :4 and token: eb49859af1a2aa0ab70444 by user :Myachin97
2022-10-12 09:26:41,776 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:26:41,789 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 4
2022-10-12 09:26:44,111 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : PASSENGER and token: eb49859af1a2aa0ab70444
2022-10-12 09:26:44,115 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Check request by tokenId :eb49859af1a2aa0ab70444
2022-10-12 09:26:44,146 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:26:45,366 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :2 and token: eb49859af1a2aa0ab70444 by user :Myachin97
2022-10-12 09:26:45,372 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:26:45,386 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 2
2022-10-12 09:26:46,827 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:26:46,843 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-7] Change description of offer with id: 2 and token : eb49859af1a2aa0ab70444
2022-10-12 09:26:46,845 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Prepare request with id :26 and user id : 5632797057 for save with description
2022-10-12 09:26:48,752 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-8] Got RETURN_TO_CHANGE_OF_OFFER type with token : eb49859af1a2aa0ab70444
2022-10-12 09:26:48,755 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:26:48,769 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Refresh change offer request with id : 2
2022-10-12 09:26:48,770 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 2
2022-10-12 09:26:49,683 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : PASSENGER and token: eb49859af1a2aa0ab70444
2022-10-12 09:26:49,687 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Check request by tokenId :eb49859af1a2aa0ab70444
2022-10-12 09:26:49,718 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:27:27,896 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :4 and token: eb49859af1a2aa0ab70444 by user :Myachin97
2022-10-12 09:27:27,902 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:27:27,918 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 4
2022-10-12 09:27:35,397 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:27:35,412 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-1] Change description of offer with id: 4 and token : eb49859af1a2aa0ab70444
2022-10-12 09:27:35,413 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Prepare request with id :26 and user id : 5632797057 for save with description
2022-10-12 09:27:39,919 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-2] Got RETURN_TO_CHANGE_OF_OFFER type with token : eb49859af1a2aa0ab70444
2022-10-12 09:27:39,924 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:27:39,936 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Refresh change offer request with id : 4
2022-10-12 09:27:39,937 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 4
2022-10-12 09:28:07,438 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: eb49859af1a2aa0ab70444
2022-10-12 09:28:07,443 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Check request by tokenId :eb49859af1a2aa0ab70444
2022-10-12 09:28:07,473 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:28:13,029 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-4] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : eb49859af1a2aa0ab70444
2022-10-12 09:28:13,035 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : eb49859af1a2aa0ab70444
2022-10-12 09:28:13,051 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 26
2022-10-12 09:28:13,083 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Delete token from messages : eb49859af1a2aa0ab70444
2022-10-12 09:28:13,092 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-4] class com.godeltech.springgodelbot.model.entity.Token wasn't found by id=eb49859af1a2aa0ab70444
2022-10-12 09:28:13,093 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :5632797057, messageId: 783 and chatId :834450967
2022-10-12 09:28:17,101 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :DRIVER and token : 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:17,105 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Save new request with tokenId: 38412792e4b477b88535be with activity : DRIVER
2022-10-12 09:28:17,105 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :38412792e4b477b88535be
2022-10-12 09:28:21,883 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:21,889 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:21,904 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 27
2022-10-12 09:28:21,904 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 27
2022-10-12 09:28:24,677 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:24,681 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:24,688 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 27
2022-10-12 09:28:24,688 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 27
2022-10-12 09:28:25,444 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:25,448 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:25,454 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 27
2022-10-12 09:28:25,454 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 27
2022-10-12 09:28:30,632 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-9] Callback data with type: CHOSE_DATE_DRIVER with token : 38412792e4b477b88535be by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-12 09:28:30,639 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:34,040 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_DRIVER callback type with first date :2022-10-28 with token: 38412792e4b477b88535be
2022-10-12 09:28:34,043 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:34,056 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 27
2022-10-12 09:28:34,056 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 27
2022-10-12 09:28:38,873 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_DRIVER type with token : 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:38,877 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:38,885 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 27
2022-10-12 09:28:38,885 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 27
2022-10-12 09:28:42,111 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_DRIVER callback type with first date :2022-10-28 with token: 38412792e4b477b88535be
2022-10-12 09:28:42,117 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:42,133 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 27
2022-10-12 09:28:42,134 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 27
2022-10-12 09:28:42,877 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-3] Got CANCEL_DATE_DRIVER type with token : 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:42,881 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:42,888 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 27
2022-10-12 09:28:42,889 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 27
2022-10-12 09:28:47,321 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_DRIVER callback type with first date :2022-10-28 with token: 38412792e4b477b88535be
2022-10-12 09:28:47,325 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:47,336 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 27
2022-10-12 09:28:47,337 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 27
2022-10-12 09:28:48,161 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-5] Got SECOND_DATE_DRIVER callback type with second date :2022-10-31 and token : 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:48,166 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:48,179 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 27
2022-10-12 09:28:48,179 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 27
2022-10-12 09:28:49,001 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-6] Got CANCEL_DATE_DRIVER type with token : 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:49,006 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:49,018 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 27
2022-10-12 09:28:49,019 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 27
2022-10-12 09:28:49,721 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-7] Got SECOND_DATE_DRIVER callback type with second date :2022-11-01 and token : 38412792e4b477b88535be by user : Myachin97
2022-10-12 09:28:49,726 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:49,739 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 27
2022-10-12 09:28:49,739 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 27
2022-10-12 09:28:59,731 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:28:59,743 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find passengers by first date :2022-10-28 and second date:2022-11-01 with cities:[BELASTOK, GDANSK, BREST]
2022-10-12 09:29:06,402 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-9] Got callback type :CHECK_DRIVER_REQUEST with token :38412792e4b477b88535be by user : Myachin97
2022-10-12 09:29:06,406 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:29:06,416 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Prepare request with id :27 and user id : 5632797057 for save with description
2022-10-12 09:29:14,126 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Is he member of group?
2022-10-12 09:29:14,257 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Find request for saving with user id : 834450967
2022-10-12 09:29:14,265 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-10] Sorry but the command is incorrect
2022-10-12 09:29:36,663 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group?
2022-10-12 09:29:36,930 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Find request for saving with user id : 834450967
2022-10-12 09:29:36,937 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] Sorry but the command is incorrect
2022-10-12 09:30:15,771 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group?
2022-10-12 09:30:15,869 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Find request for saving with user id : 834450967
2022-10-12 09:30:15,875 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-2] Sorry but the command is incorrect
2022-10-12 09:33:01,470 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SaveDriverCallbackType [http-nio-5000-exec-4] Got SAVE_DRIVER_WITHOUT_DESCRIPTION callback type without description with token:38412792e4b477b88535be with user : Myachin97
2022-10-12 09:33:01,476 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 38412792e4b477b88535be
2022-10-12 09:33:01,750 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Save supplier by: Request(id=27, offerId=null, cities=[BELASTOK, GDANSK, BREST], firstDate=2022-10-28, secondDate=2022-11-01, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@623fbfa6, activity=DRIVER, description=null)
2022-10-12 09:33:01,787 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 27
2022-10-12 09:33:01,818 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 784 and chatId :834450967
2022-10-12 09:33:15,102 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :DRIVER and token : fe423fbf7f4c8aa06d1b8d by user : Myachin97
2022-10-12 09:33:15,106 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Save new request with tokenId: fe423fbf7f4c8aa06d1b8d with activity : DRIVER
2022-10-12 09:33:15,107 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:36,329 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-6] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: fe423fbf7f4c8aa06d1b8d by user : Myachin97
2022-10-12 09:33:36,335 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:36,346 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 28
2022-10-12 09:33:36,346 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 28
2022-10-12 09:33:39,872 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: fe423fbf7f4c8aa06d1b8d by user : Myachin97
2022-10-12 09:33:39,877 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:39,885 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 28
2022-10-12 09:33:39,885 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 28
2022-10-12 09:33:42,913 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-8] Callback data with type: CHOSE_DATE_DRIVER with token : fe423fbf7f4c8aa06d1b8d by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-12 09:33:42,917 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:45,955 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-9] Got FIRST_DATE_DRIVER callback type with first date :2022-10-28 with token: fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:45,960 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:45,974 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 28
2022-10-12 09:33:45,974 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 28
2022-10-12 09:33:49,060 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_DRIVER callback type with second date :2022-11-01 and token : fe423fbf7f4c8aa06d1b8d by user : Myachin97
2022-10-12 09:33:49,066 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:49,080 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 28
2022-10-12 09:33:49,080 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 28
2022-10-12 09:33:52,235 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDateDriverCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_DRIVER type with token : fe423fbf7f4c8aa06d1b8d by user : Myachin97
2022-10-12 09:33:52,239 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:52,253 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 28
2022-10-12 09:33:52,254 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 28
2022-10-12 09:33:55,595 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_DRIVER callback type with second date :2022-11-01 and token : fe423fbf7f4c8aa06d1b8d by user : Myachin97
2022-10-12 09:33:55,599 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:55,607 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 28
2022-10-12 09:33:55,608 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 28
2022-10-12 09:33:58,812 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:33:58,821 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find passengers by first date :2022-10-28 and second date:2022-11-01 with cities:[WROCLAW, GDANSK]
2022-10-12 09:34:03,831 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-4] Got callback type :CHECK_DRIVER_REQUEST with token :fe423fbf7f4c8aa06d1b8d by user : Myachin97
2022-10-12 09:34:03,837 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : fe423fbf7f4c8aa06d1b8d
2022-10-12 09:34:03,847 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Prepare request with id :28 and user id : 834450967 for save with description
2022-10-12 09:34:15,480 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group?
2022-10-12 09:34:15,728 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Find request for saving with user id : 834450967
2022-10-12 09:34:15,740 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-5] Got message for saving description of driver with token :fe423fbf7f4c8aa06d1b8d 
2022-10-12 09:34:15,815 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Save supplier by: Request(id=28, offerId=null, cities=[WROCLAW, GDANSK], firstDate=2022-10-28, secondDate=2022-11-01, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@2af37c1d, activity=DRIVER, description=Yap yap yap)
2022-10-12 09:34:15,846 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Delete request with id : 28
2022-10-12 09:34:15,883 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token with userId :834450967 and chatId :834450967
2022-10-12 09:34:45,299 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-12 09:34:45,303 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :b748fc90f0e12a287f2d79
2022-10-12 09:34:49,855 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: b748fc90f0e12a287f2d79
2022-10-12 09:34:49,859 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Check request by tokenId :b748fc90f0e12a287f2d79
2022-10-12 09:34:49,884 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:34:53,151 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :4 and token: b748fc90f0e12a287f2d79 by user :Myachin97
2022-10-12 09:34:53,154 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : b748fc90f0e12a287f2d79
2022-10-12 09:34:53,164 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 4
2022-10-12 09:34:56,265 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_DATE_OF_OFFER type with token: b748fc90f0e12a287f2d79
2022-10-12 09:34:56,267 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : b748fc90f0e12a287f2d79
2022-10-12 09:34:56,276 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with id:4, with token :b748fc90f0e12a287f2d79
2022-10-12 09:34:58,959 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-10] Got RETURN_TO_CHANGE_OF_OFFER type with token : b748fc90f0e12a287f2d79
2022-10-12 09:34:58,962 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : b748fc90f0e12a287f2d79
2022-10-12 09:34:58,973 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Refresh change offer request with id : 4
2022-10-12 09:34:58,973 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 4
2022-10-12 09:35:00,852 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : b748fc90f0e12a287f2d79
2022-10-12 09:35:00,870 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-1] Change description of offer with id: 4 and token : b748fc90f0e12a287f2d79
2022-10-12 09:35:00,871 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Prepare request with id :29 and user id : 834450967 for save with description
2022-10-12 09:35:03,721 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-2] Got RETURN_TO_CHANGE_OF_OFFER type with token : b748fc90f0e12a287f2d79
2022-10-12 09:35:03,724 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : b748fc90f0e12a287f2d79
2022-10-12 09:35:03,736 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Refresh change offer request with id : 4
2022-10-12 09:35:03,736 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 4
2022-10-12 09:35:08,601 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: b748fc90f0e12a287f2d79
2022-10-12 09:35:08,606 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Check request by tokenId :b748fc90f0e12a287f2d79
2022-10-12 09:35:08,636 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:35:12,166 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-4] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : b748fc90f0e12a287f2d79
2022-10-12 09:35:12,170 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : b748fc90f0e12a287f2d79
2022-10-12 09:35:12,179 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 29
2022-10-12 09:35:12,188 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Delete token from messages : b748fc90f0e12a287f2d79
2022-10-12 09:35:12,196 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-4] class com.godeltech.springgodelbot.model.entity.Token wasn't found by id=b748fc90f0e12a287f2d79
2022-10-12 09:35:12,197 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :5632797057, messageId: 790 and chatId :834450967
2022-10-12 09:36:11,750 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 09:36:11,765 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 09:36:11,777 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 09:36:16,526 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 17268 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 09:36:16,530 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 09:36:17,448 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 09:36:17,588 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 131 ms. Found 5 JPA repository interfaces.
2022-10-12 09:36:18,138 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 09:36:18,151 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 09:36:18,153 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 09:36:18,153 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 09:36:18,328 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 09:36:18,328 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1754 ms
2022-10-12 09:36:18,529 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 09:36:18,660 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 09:36:18,822 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 09:36:18,929 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 09:36:19,422 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 09:36:19,526 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 09:36:19,655 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 09:36:19,714 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 09:36:19,894 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 09:36:20,000 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 09:36:20,791 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 09:36:20,806 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 09:36:22,012 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 09:36:22,499 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 09:36:22,533 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 09:36:22,546 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 09:36:22,540 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 09:36:22,547 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 09:36:22,568 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 09:36:22,693 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 09:36:22,700 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 09:36:22,705 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 09:36:22,715 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 09:36:22,723 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 09:36:23,379 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 7.277 seconds (JVM running for 9.02)
2022-10-12 09:36:28,779 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 09:36:28,781 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 09:36:28,783 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-12 09:36:29,161 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-12 09:36:29,170 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :954b63abff5c7a0dedc572
2022-10-12 09:36:31,204 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 954b63abff5c7a0dedc572
2022-10-12 09:36:31,226 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :954b63abff5c7a0dedc572
2022-10-12 09:36:31,312 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:36:32,502 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :2 and token: 954b63abff5c7a0dedc572 by user :Myachin97
2022-10-12 09:36:32,508 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 954b63abff5c7a0dedc572
2022-10-12 09:36:32,538 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 2
2022-10-12 09:36:34,662 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 954b63abff5c7a0dedc572
2022-10-12 09:36:34,701 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-4] Change description of offer with id: 2 and token : 954b63abff5c7a0dedc572
2022-10-12 09:36:34,702 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Prepare request with id :30 and user id : 5632797057 for save with description
2022-10-12 09:36:35,565 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-5] Got RETURN_TO_CHANGE_OF_OFFER type with token : 954b63abff5c7a0dedc572
2022-10-12 09:36:35,571 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 954b63abff5c7a0dedc572
2022-10-12 09:36:35,587 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Refresh change offer request with id : 2
2022-10-12 09:36:35,588 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 2
2022-10-12 09:36:36,655 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 954b63abff5c7a0dedc572
2022-10-12 09:36:36,660 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Check request by tokenId :954b63abff5c7a0dedc572
2022-10-12 09:36:36,698 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:36:37,780 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-7] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 954b63abff5c7a0dedc572
2022-10-12 09:36:37,786 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 954b63abff5c7a0dedc572
2022-10-12 09:36:37,801 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Delete request with id : 30
2022-10-12 09:36:43,531 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Delete token from messages : 954b63abff5c7a0dedc572
2022-10-12 09:36:43,543 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] class com.godeltech.springgodelbot.model.entity.Token wasn't found by id=954b63abff5c7a0dedc572
2022-10-12 09:36:43,544 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token with userId :5632797057, messageId: 791 and chatId :834450967
2022-10-12 09:37:52,756 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-12 09:37:52,761 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :7645118d45d77575cc9531
2022-10-12 09:37:53,779 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : PASSENGER and token: 7645118d45d77575cc9531
2022-10-12 09:37:53,784 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Check request by tokenId :7645118d45d77575cc9531
2022-10-12 09:37:53,821 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:37:54,723 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :2 and token: 7645118d45d77575cc9531 by user :Myachin97
2022-10-12 09:37:54,729 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 7645118d45d77575cc9531
2022-10-12 09:37:54,746 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 2
2022-10-12 09:37:55,846 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 7645118d45d77575cc9531
2022-10-12 09:37:55,852 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :7645118d45d77575cc9531
2022-10-12 09:37:55,876 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:38:00,951 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-3] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 7645118d45d77575cc9531
2022-10-12 09:38:00,957 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 7645118d45d77575cc9531
2022-10-12 09:38:00,977 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Delete request with id : 31
2022-10-12 09:38:01,007 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Delete token from messages : 7645118d45d77575cc9531
2022-10-12 09:38:01,015 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] class com.godeltech.springgodelbot.model.entity.Token wasn't found by id=7645118d45d77575cc9531
2022-10-12 09:38:01,015 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :5632797057, messageId: 792 and chatId :834450967
2022-10-12 09:38:39,523 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 09:38:39,528 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 09:38:39,535 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 09:38:44,791 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 21624 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 09:38:44,795 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 09:38:45,521 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 09:38:45,648 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 117 ms. Found 5 JPA repository interfaces.
2022-10-12 09:38:46,238 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 09:38:46,243 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 09:38:46,248 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 09:38:46,248 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 09:38:46,368 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 09:38:46,369 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1536 ms
2022-10-12 09:38:46,645 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 09:38:46,753 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 09:38:46,868 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 09:38:46,966 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 09:38:47,445 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 09:38:47,536 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 09:38:47,713 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 09:38:47,752 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 09:38:47,869 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 09:38:47,969 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 09:38:48,792 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 09:38:48,801 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 09:38:49,919 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 09:38:50,243 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 09:38:50,273 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 09:38:50,284 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 09:38:50,285 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 09:38:50,285 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 09:38:50,308 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 09:38:50,424 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 09:38:50,431 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 09:38:50,436 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 09:38:50,448 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 09:38:50,458 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 09:38:51,108 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 6.774 seconds (JVM running for 7.912)
2022-10-12 09:38:56,282 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 09:38:56,282 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 09:38:56,293 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 09:38:59,796 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 23668 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 09:38:59,799 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 09:39:00,990 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 09:39:01,225 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 212 ms. Found 5 JPA repository interfaces.
2022-10-12 09:39:02,579 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 09:39:02,609 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 09:39:02,610 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 09:39:02,610 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 09:39:02,883 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 09:39:02,883 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3036 ms
2022-10-12 09:39:03,330 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 09:39:03,509 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 09:39:03,772 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 09:39:03,974 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 09:39:05,088 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 09:39:05,317 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 09:39:05,578 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 09:39:05,685 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 09:39:05,993 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 09:39:06,252 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 09:39:07,777 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 09:39:07,801 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 09:39:10,018 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 09:39:10,406 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 09:39:10,435 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 09:39:10,444 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 09:39:10,445 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 09:39:10,445 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 09:39:10,463 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 09:39:10,579 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 09:39:10,588 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 09:39:10,591 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 09:39:10,595 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 09:39:10,604 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 09:39:11,175 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 11.91 seconds (JVM running for 13.611)
2022-10-12 09:39:13,578 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 09:39:13,579 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 09:39:13,583 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 4 ms
2022-10-12 09:39:13,967 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-12 09:39:13,974 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :0e4549a1569c4149ea8e61
2022-10-12 09:39:15,867 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 0e4549a1569c4149ea8e61
2022-10-12 09:39:15,887 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :0e4549a1569c4149ea8e61
2022-10-12 09:39:15,979 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:39:16,960 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :2 and token: 0e4549a1569c4149ea8e61 by user :Myachin97
2022-10-12 09:39:16,966 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 0e4549a1569c4149ea8e61
2022-10-12 09:39:16,990 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 2
2022-10-12 09:39:19,188 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_DATE_OF_OFFER type with token: 0e4549a1569c4149ea8e61
2022-10-12 09:39:19,196 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 0e4549a1569c4149ea8e61
2022-10-12 09:39:19,227 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with id:2, with token :0e4549a1569c4149ea8e61
2022-10-12 09:39:20,569 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-5] Got RETURN_TO_CHANGE_OF_OFFER type with token : 0e4549a1569c4149ea8e61
2022-10-12 09:39:20,576 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 0e4549a1569c4149ea8e61
2022-10-12 09:39:20,594 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Refresh change offer request with id : 2
2022-10-12 09:39:20,595 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 2
2022-10-12 09:39:21,395 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 0e4549a1569c4149ea8e61
2022-10-12 09:39:21,400 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Check request by tokenId :0e4549a1569c4149ea8e61
2022-10-12 09:39:21,447 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:39:22,348 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-7] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 0e4549a1569c4149ea8e61
2022-10-12 09:39:22,353 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 0e4549a1569c4149ea8e61
2022-10-12 09:39:22,370 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Delete request with id : 32
2022-10-12 09:39:26,319 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token with userId :834450967, messageId: 793 and chatId :834450967
2022-10-12 09:40:02,144 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-8] Got ACTIVITY callback type with activity :DRIVER and token : 214801b7901fd1d845fc44 by user : Myachin97
2022-10-12 09:40:02,211 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-8] Find all routes
2022-10-12 09:40:02,233 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Save new request with tokenId: 214801b7901fd1d845fc44 with activity : DRIVER
2022-10-12 09:40:02,235 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :214801b7901fd1d845fc44
2022-10-12 09:40:03,021 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-9] Callback data with type: DRIVER_ROUTE and routeId: 2 and token: 214801b7901fd1d845fc44 by user : Myachin97
2022-10-12 09:40:03,030 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 214801b7901fd1d845fc44
2022-10-12 09:40:03,051 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 33
2022-10-12 09:40:03,052 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 33
2022-10-12 09:40:03,646 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-10] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 214801b7901fd1d845fc44 by user : Myachin97
2022-10-12 09:40:03,653 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 214801b7901fd1d845fc44
2022-10-12 09:40:03,669 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 33
2022-10-12 09:40:03,671 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 33
2022-10-12 09:40:04,502 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-1] Callback data with type: CHOSE_DATE_DRIVER with token : 214801b7901fd1d845fc44 by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-12 09:40:04,508 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 214801b7901fd1d845fc44
2022-10-12 09:40:06,240 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_DRIVER callback type with first date :2022-10-30 with token: 214801b7901fd1d845fc44
2022-10-12 09:40:06,246 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 214801b7901fd1d845fc44
2022-10-12 09:40:06,256 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 33
2022-10-12 09:40:06,257 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 33
2022-10-12 09:40:10,155 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-3] Got SECOND_DATE_DRIVER callback type with second date :2022-11-07 and token : 214801b7901fd1d845fc44 by user : Myachin97
2022-10-12 09:40:10,160 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 214801b7901fd1d845fc44
2022-10-12 09:40:10,175 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 33
2022-10-12 09:40:10,175 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 33
2022-10-12 09:40:13,103 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 214801b7901fd1d845fc44
2022-10-12 09:40:13,123 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find passengers by first date :2022-10-30 and second date:2022-11-07 with cities:[BELASTOK, BREST]
2022-10-12 09:40:14,167 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-5] Got callback type :CHECK_DRIVER_REQUEST with token :214801b7901fd1d845fc44 by user : Myachin97
2022-10-12 09:40:14,172 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 214801b7901fd1d845fc44
2022-10-12 09:40:14,188 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Prepare request with id :33 and user id : 834450967 for save with description
2022-10-12 09:40:16,870 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Is he member of group?
2022-10-12 09:40:16,998 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Find request for saving with user id : 834450967
2022-10-12 09:40:17,014 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-6] Got message for saving description of driver with token :214801b7901fd1d845fc44 
2022-10-12 09:40:17,105 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Save supplier by: Request(id=33, offerId=null, cities=[BELASTOK, BREST], firstDate=2022-10-30, secondDate=2022-11-07, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@5cff84dc, activity=DRIVER, description=Yap yap)
2022-10-12 09:40:17,214 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Delete request with id : 33
2022-10-12 09:40:17,250 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token with userId :834450967 and chatId :834450967
2022-10-12 09:40:19,222 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :PASSENGER and token : 0742c9a5fe3f83697dc17b by user : Myachin97
2022-10-12 09:40:19,227 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Save new request with tokenId: 0742c9a5fe3f83697dc17b with activity : PASSENGER
2022-10-12 09:40:19,229 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :0742c9a5fe3f83697dc17b
2022-10-12 09:40:20,637 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 0742c9a5fe3f83697dc17b
2022-10-12 09:40:20,643 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 0742c9a5fe3f83697dc17b
2022-10-12 09:40:20,657 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 34
2022-10-12 09:40:20,657 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 34
2022-10-12 09:40:21,351 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 0742c9a5fe3f83697dc17b
2022-10-12 09:40:21,357 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 0742c9a5fe3f83697dc17b
2022-10-12 09:40:21,372 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 34
2022-10-12 09:40:21,373 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 34
2022-10-12 09:40:22,346 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_PASSENGER with token : 0742c9a5fe3f83697dc17b by user :Myachin97
2022-10-12 09:40:22,352 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 0742c9a5fe3f83697dc17b
2022-10-12 09:40:23,491 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_PASSENGER type with first date :2022-11-06 with token: 0742c9a5fe3f83697dc17b
2022-10-12 09:40:23,495 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 0742c9a5fe3f83697dc17b
2022-10-12 09:40:23,507 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 34
2022-10-12 09:40:23,507 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 34
2022-10-12 09:40:24,606 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-07 and token : 0742c9a5fe3f83697dc17b by user : Myachin97
2022-10-12 09:40:24,610 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 0742c9a5fe3f83697dc17b
2022-10-12 09:40:24,623 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 34
2022-10-12 09:40:24,624 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 34
2022-10-12 09:40:25,384 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-3] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 0742c9a5fe3f83697dc17b by user : Myachin97
2022-10-12 09:40:25,388 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 0742c9a5fe3f83697dc17b
2022-10-12 09:40:25,402 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-11-06 and second date:2022-11-07 with cities:[GDANSK, BREST]
2022-10-12 09:40:27,963 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-4] Got callback : CANCEL_PASSENGER_REQUEST with token : 0742c9a5fe3f83697dc17b
2022-10-12 09:40:27,968 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 0742c9a5fe3f83697dc17b
2022-10-12 09:40:27,984 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 34
2022-10-12 09:40:28,285 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 796 and chatId :834450967
2022-10-12 09:40:40,362 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :PASSENGER and token : 8243239417645e40ca14e6 by user : Myachin97
2022-10-12 09:40:40,368 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Save new request with tokenId: 8243239417645e40ca14e6 with activity : PASSENGER
2022-10-12 09:40:40,369 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :8243239417645e40ca14e6
2022-10-12 09:40:41,204 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 8243239417645e40ca14e6
2022-10-12 09:40:41,211 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 8243239417645e40ca14e6
2022-10-12 09:40:41,232 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 35
2022-10-12 09:40:41,234 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 35
2022-10-12 09:40:42,544 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 8243239417645e40ca14e6
2022-10-12 09:40:42,549 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 8243239417645e40ca14e6
2022-10-12 09:40:42,560 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 35
2022-10-12 09:40:42,562 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 35
2022-10-12 09:40:43,549 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 4 and token: 8243239417645e40ca14e6 by user : User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null) 
2022-10-12 09:40:43,555 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 8243239417645e40ca14e6
2022-10-12 09:40:43,569 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 35
2022-10-12 09:40:43,571 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 35
2022-10-12 09:40:45,088 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 8243239417645e40ca14e6
2022-10-12 09:40:45,095 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 8243239417645e40ca14e6
2022-10-12 09:40:45,107 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 35
2022-10-12 09:40:45,109 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 35
2022-10-12 09:40:46,060 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_PASSENGER with token : 8243239417645e40ca14e6 by user :Myachin97
2022-10-12 09:40:46,065 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 8243239417645e40ca14e6
2022-10-12 09:40:48,125 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_PASSENGER type with first date :2022-11-06 with token: 8243239417645e40ca14e6
2022-10-12 09:40:48,130 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 8243239417645e40ca14e6
2022-10-12 09:40:48,145 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 35
2022-10-12 09:40:48,145 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 35
2022-10-12 09:40:49,985 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-2] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 8243239417645e40ca14e6 by user : Myachin97
2022-10-12 09:40:49,992 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 8243239417645e40ca14e6
2022-10-12 09:40:50,004 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find drivers by first date :2022-11-06 and second date:null with cities:[WROCLAW, GDANSK]
2022-10-12 09:40:53,472 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-3] Got callback : CANCEL_PASSENGER_REQUEST with token : 8243239417645e40ca14e6
2022-10-12 09:40:53,477 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 8243239417645e40ca14e6
2022-10-12 09:40:53,493 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Delete request with id : 35
2022-10-12 09:40:53,604 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967, messageId: 797 and chatId :834450967
2022-10-12 09:41:04,019 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-4] Got ACTIVITY callback type with activity :PASSENGER and token : a9454bb8b86e0d44802952 by user : Myachin97
2022-10-12 09:41:04,023 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Save new request with tokenId: a9454bb8b86e0d44802952 with activity : PASSENGER
2022-10-12 09:41:04,024 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :a9454bb8b86e0d44802952
2022-10-12 09:41:04,853 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: a9454bb8b86e0d44802952
2022-10-12 09:41:04,860 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : a9454bb8b86e0d44802952
2022-10-12 09:41:04,873 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 36
2022-10-12 09:41:04,875 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 36
2022-10-12 09:41:05,433 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: a9454bb8b86e0d44802952
2022-10-12 09:41:05,440 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : a9454bb8b86e0d44802952
2022-10-12 09:41:05,454 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 36
2022-10-12 09:41:05,454 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 36
2022-10-12 09:41:06,326 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-7] Callback data with type: CHOSE_DATE_PASSENGER with token : a9454bb8b86e0d44802952 by user :Myachin97
2022-10-12 09:41:06,331 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : a9454bb8b86e0d44802952
2022-10-12 09:41:07,196 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-8] Got FIRST_DATE_PASSENGER type with first date :2022-11-06 with token: a9454bb8b86e0d44802952
2022-10-12 09:41:07,201 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : a9454bb8b86e0d44802952
2022-10-12 09:41:07,214 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 36
2022-10-12 09:41:07,215 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 36
2022-10-12 09:41:11,054 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-9] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-10 and token : a9454bb8b86e0d44802952 by user : Myachin97
2022-10-12 09:41:11,057 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : a9454bb8b86e0d44802952
2022-10-12 09:41:11,067 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 36
2022-10-12 09:41:11,068 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 36
2022-10-12 09:41:12,635 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-10] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : a9454bb8b86e0d44802952 by user : Myachin97
2022-10-12 09:41:12,641 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : a9454bb8b86e0d44802952
2022-10-12 09:41:12,654 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-11-06 and second date:2022-11-10 with cities:[GDANSK, BREST]
2022-10-12 09:41:14,057 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-1] Got callback with type : CHECK_PASSENGER_REQUEST with token : a9454bb8b86e0d44802952
2022-10-12 09:41:14,061 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : a9454bb8b86e0d44802952
2022-10-12 09:41:14,072 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Prepare request with id :36 and user id : 834450967 for save with description
2022-10-12 09:41:19,262 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group?
2022-10-12 09:41:19,348 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Find request for saving with user id : 834450967
2022-10-12 09:41:19,362 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-2] Got message for saving description of passenger with token :a9454bb8b86e0d44802952 
2022-10-12 09:41:26,848 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Save passenger request : Request(id=36, offerId=null, cities=[GDANSK, BREST], firstDate=2022-11-06, secondDate=2022-11-10, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@4da5490d, activity=PASSENGER, description=Yap yap)
2022-10-12 09:41:26,877 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Delete request with id : 36
2022-10-12 09:41:26,998 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967 and chatId :834450967
2022-10-12 09:41:29,184 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-3] Got ACTIVITY callback type with activity :DRIVER and token : dc444eac0ae2ca3317ed4f by user : Myachin97
2022-10-12 09:41:29,191 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Save new request with tokenId: dc444eac0ae2ca3317ed4f with activity : DRIVER
2022-10-12 09:41:29,191 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :dc444eac0ae2ca3317ed4f
2022-10-12 09:41:30,171 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: dc444eac0ae2ca3317ed4f by user : Myachin97
2022-10-12 09:41:30,176 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : dc444eac0ae2ca3317ed4f
2022-10-12 09:41:30,186 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 37
2022-10-12 09:41:30,187 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 37
2022-10-12 09:41:30,860 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-5] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: dc444eac0ae2ca3317ed4f by user : Myachin97
2022-10-12 09:41:30,903 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : dc444eac0ae2ca3317ed4f
2022-10-12 09:41:30,912 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 37
2022-10-12 09:41:30,912 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 37
2022-10-12 09:41:32,129 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_DRIVER with token : dc444eac0ae2ca3317ed4f by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-12 09:41:32,136 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : dc444eac0ae2ca3317ed4f
2022-10-12 09:41:33,152 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-7] Got FIRST_DATE_DRIVER callback type with first date :2022-10-28 with token: dc444eac0ae2ca3317ed4f
2022-10-12 09:41:33,156 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : dc444eac0ae2ca3317ed4f
2022-10-12 09:41:33,170 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 37
2022-10-12 09:41:33,171 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 37
2022-10-12 09:41:36,948 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SecondDateDriverCallbackType [http-nio-5000-exec-8] Got SECOND_DATE_DRIVER callback type with second date :2022-11-01 and token : dc444eac0ae2ca3317ed4f by user : Myachin97
2022-10-12 09:41:36,953 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : dc444eac0ae2ca3317ed4f
2022-10-12 09:41:36,966 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 37
2022-10-12 09:41:36,967 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 37
2022-10-12 09:41:40,657 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : dc444eac0ae2ca3317ed4f
2022-10-12 09:41:40,675 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find passengers by first date :2022-10-28 and second date:2022-11-01 with cities:[WROCLAW, BREST]
2022-10-12 09:41:49,730 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-10] Got callback : CANCEL_DRIVER_REQUEST with token : dc444eac0ae2ca3317ed4f
2022-10-12 09:41:49,736 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : dc444eac0ae2ca3317ed4f
2022-10-12 09:41:49,746 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Delete request with id : 37
2022-10-12 09:41:50,039 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token with userId :834450967, messageId: 800 and chatId :834450967
2022-10-12 09:41:51,334 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-12 09:41:51,340 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :2a4336a55a53d3d1395c2e
2022-10-12 09:41:52,856 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: 2a4336a55a53d3d1395c2e
2022-10-12 09:41:52,861 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :2a4336a55a53d3d1395c2e
2022-10-12 09:41:52,897 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-12 09:41:53,968 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :5 and token: 2a4336a55a53d3d1395c2e by user :Myachin97
2022-10-12 09:41:53,973 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 2a4336a55a53d3d1395c2e
2022-10-12 09:41:53,986 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 5
2022-10-12 09:41:55,375 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : DRIVER and token: 2a4336a55a53d3d1395c2e
2022-10-12 09:41:55,380 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Check request by tokenId :2a4336a55a53d3d1395c2e
2022-10-12 09:41:55,410 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :DRIVER
2022-10-12 09:41:56,501 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_OFFER callback type with route id :1 and token: 2a4336a55a53d3d1395c2e by user :Myachin97
2022-10-12 09:41:56,506 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 2a4336a55a53d3d1395c2e
2022-10-12 09:41:56,520 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 1
2022-10-12 09:41:59,042 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.DeleteOfferCallbackType [http-nio-5000-exec-6] Delete offer by id :1 and token: 2a4336a55a53d3d1395c2e
2022-10-12 09:41:59,047 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 2a4336a55a53d3d1395c2e
2022-10-12 09:41:59,055 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Delete offer by id : 1
2022-10-12 09:41:59,056 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 1
2022-10-12 09:41:59,065 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Delete request with id : 38
2022-10-12 09:41:59,072 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token with userId :834450967, messageId: 801 and chatId :834450967
2022-10-12 09:42:00,547 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-12 09:42:00,552 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :0b44beb12479b1f725288c
2022-10-12 09:42:01,961 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : PASSENGER and token: 0b44beb12479b1f725288c
2022-10-12 09:42:01,966 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Check request by tokenId :0b44beb12479b1f725288c
2022-10-12 09:42:01,999 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:42:03,458 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :4 and token: 0b44beb12479b1f725288c by user :Myachin97
2022-10-12 09:42:03,461 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 0b44beb12479b1f725288c
2022-10-12 09:42:03,475 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 4
2022-10-12 09:42:04,416 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.DeleteOfferCallbackType [http-nio-5000-exec-10] Delete offer by id :4 and token: 0b44beb12479b1f725288c
2022-10-12 09:42:04,423 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 0b44beb12479b1f725288c
2022-10-12 09:42:04,438 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Delete offer by id : 4
2022-10-12 09:42:04,438 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 4
2022-10-12 09:42:04,446 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Delete request with id : 39
2022-10-12 09:42:04,452 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token with userId :834450967, messageId: 801 and chatId :834450967
2022-10-12 09:42:05,493 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-12 09:42:05,498 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :7f41249147abf1c4f9d59b
2022-10-12 09:42:06,228 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 7f41249147abf1c4f9d59b
2022-10-12 09:42:06,232 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :7f41249147abf1c4f9d59b
2022-10-12 09:42:06,269 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 09:42:07,242 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :8 and token: 7f41249147abf1c4f9d59b by user :Myachin97
2022-10-12 09:42:07,246 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 7f41249147abf1c4f9d59b
2022-10-12 09:42:07,258 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 8
2022-10-12 09:42:10,268 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_DATE_OF_OFFER type with token: 7f41249147abf1c4f9d59b
2022-10-12 09:42:10,272 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 7f41249147abf1c4f9d59b
2022-10-12 09:42:10,285 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with id:8, with token :7f41249147abf1c4f9d59b
2022-10-12 09:42:11,530 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-5] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-10 and token: 7f41249147abf1c4f9d59b
2022-10-12 09:42:11,535 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 7f41249147abf1c4f9d59b
2022-10-12 09:42:11,549 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 40
2022-10-12 09:42:11,550 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 40
2022-10-12 09:42:12,574 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-11-07 with token: 7f41249147abf1c4f9d59b
2022-10-12 09:42:12,580 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 7f41249147abf1c4f9d59b
2022-10-12 09:42:12,595 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 40
2022-10-12 09:42:12,596 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 40
2022-10-12 09:42:14,041 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-7] Got FINISH_DATE_OFFER callback type with token : 7f41249147abf1c4f9d59b
2022-10-12 09:42:14,047 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 7f41249147abf1c4f9d59b
2022-10-12 09:42:14,062 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Update date of offer with first date : 2022-11-06 , and second date : 2022-11-07 
2022-10-12 09:42:14,063 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Get offer by id: 8
2022-10-12 09:42:14,094 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-11-06 and second date:2022-11-07 with cities:[GDANSK, BREST]
2022-10-12 09:42:20,725 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type
2022-10-12 09:42:20,726 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group?
2022-10-12 09:42:20,825 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-12 09:42:20,848 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 7f41249147abf1c4f9d59b
2022-10-12 09:42:20,861 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Delete request with id : 40
2022-10-12 09:42:20,888 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token with userId :834450967, messageId: 801 and chatId :834450967
2022-10-12 09:42:22,106 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-9] Got ACTIVITY callback type with activity :PASSENGER and token : 984788a761663cfc4347d1 by user : Myachin97
2022-10-12 09:42:22,111 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Save new request with tokenId: 984788a761663cfc4347d1 with activity : PASSENGER
2022-10-12 09:42:22,112 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :984788a761663cfc4347d1
2022-10-12 09:42:23,258 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 984788a761663cfc4347d1
2022-10-12 09:42:23,262 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 984788a761663cfc4347d1
2022-10-12 09:42:23,274 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 41
2022-10-12 09:42:23,274 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 41
2022-10-12 09:42:24,173 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 984788a761663cfc4347d1
2022-10-12 09:42:24,179 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 984788a761663cfc4347d1
2022-10-12 09:42:24,191 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 41
2022-10-12 09:42:24,192 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 41
2022-10-12 09:42:25,237 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-2] Callback data with type: CHOSE_DATE_PASSENGER with token : 984788a761663cfc4347d1 by user :Myachin97
2022-10-12 09:42:25,241 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 984788a761663cfc4347d1
2022-10-12 09:42:26,790 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-3] Got FIRST_DATE_PASSENGER type with first date :2022-11-03 with token: 984788a761663cfc4347d1
2022-10-12 09:42:26,794 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 984788a761663cfc4347d1
2022-10-12 09:42:26,809 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 41
2022-10-12 09:42:26,809 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 41
2022-10-12 09:42:27,632 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-07 and token : 984788a761663cfc4347d1 by user : Myachin97
2022-10-12 09:42:27,636 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 984788a761663cfc4347d1
2022-10-12 09:42:27,647 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 41
2022-10-12 09:42:27,648 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 41
2022-10-12 09:42:28,858 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-5] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 984788a761663cfc4347d1 by user : Myachin97
2022-10-12 09:42:28,862 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 984788a761663cfc4347d1
2022-10-12 09:42:28,876 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-11-03 and second date:2022-11-07 with cities:[GDANSK, BREST]
2022-10-12 09:42:30,098 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-6] Got callback : CANCEL_PASSENGER_REQUEST with token : 984788a761663cfc4347d1
2022-10-12 09:42:30,101 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 984788a761663cfc4347d1
2022-10-12 09:42:30,114 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Delete request with id : 41
2022-10-12 09:42:30,235 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token with userId :834450967, messageId: 801 and chatId :834450967
2022-10-12 09:42:42,806 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :PASSENGER and token : ab4a17ac7add474c5c71d9 by user : Myachin97
2022-10-12 09:42:42,810 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Save new request with tokenId: ab4a17ac7add474c5c71d9 with activity : PASSENGER
2022-10-12 09:42:42,810 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :ab4a17ac7add474c5c71d9
2022-10-12 09:42:47,717 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: ab4a17ac7add474c5c71d9
2022-10-12 09:42:47,722 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : ab4a17ac7add474c5c71d9
2022-10-12 09:42:47,738 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 42
2022-10-12 09:42:47,739 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 42
2022-10-12 09:42:48,347 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: ab4a17ac7add474c5c71d9
2022-10-12 09:42:48,352 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : ab4a17ac7add474c5c71d9
2022-10-12 09:42:48,359 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 42
2022-10-12 09:42:48,360 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 42
2022-10-12 09:42:49,164 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_PASSENGER with token : ab4a17ac7add474c5c71d9 by user :Myachin97
2022-10-12 09:42:49,169 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : ab4a17ac7add474c5c71d9
2022-10-12 09:42:50,150 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_PASSENGER type with first date :2022-11-03 with token: ab4a17ac7add474c5c71d9
2022-10-12 09:42:50,180 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : ab4a17ac7add474c5c71d9
2022-10-12 09:42:50,189 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 42
2022-10-12 09:42:50,189 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 42
2022-10-12 09:42:51,033 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-2] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-04 and token : ab4a17ac7add474c5c71d9 by user : Myachin97
2022-10-12 09:42:51,037 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : ab4a17ac7add474c5c71d9
2022-10-12 09:42:51,051 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 42
2022-10-12 09:42:51,051 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 42
2022-10-12 09:42:51,813 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-3] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : ab4a17ac7add474c5c71d9 by user : Myachin97
2022-10-12 09:42:51,817 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : ab4a17ac7add474c5c71d9
2022-10-12 09:42:51,826 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-11-03 and second date:2022-11-04 with cities:[GDANSK, BREST]
2022-10-12 09:42:54,944 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-4] Got callback : CANCEL_PASSENGER_REQUEST with token : ab4a17ac7add474c5c71d9
2022-10-12 09:42:54,946 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : ab4a17ac7add474c5c71d9
2022-10-12 09:42:54,958 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 42
2022-10-12 09:42:55,079 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 802 and chatId :834450967
2022-10-12 09:42:58,305 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-5] Got /start message
2022-10-12 09:42:58,306 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group?
2022-10-12 09:42:58,392 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-12 09:42:58,395 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token with userId :834450967, messageId: 804 and chatId :834450967
2022-10-12 09:43:09,972 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-12 09:43:09,979 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :004c8b9c34faec2d22cbcc
2022-10-12 09:43:17,562 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :PASSENGER and token : 2c4ceaa8f2f75bf90e5f76 by user : Myachin97
2022-10-12 09:43:17,568 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Save new request with tokenId: 2c4ceaa8f2f75bf90e5f76 with activity : PASSENGER
2022-10-12 09:43:17,568 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :2c4ceaa8f2f75bf90e5f76
2022-10-12 10:10:53,648 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : DRIVER and token: 004c8b9c34faec2d22cbcc
2022-10-12 10:10:53,655 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Check request by tokenId :004c8b9c34faec2d22cbcc
2022-10-12 10:10:53,685 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :DRIVER
2022-10-12 10:10:54,613 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-10] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 004c8b9c34faec2d22cbcc
2022-10-12 10:10:54,618 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 004c8b9c34faec2d22cbcc
2022-10-12 10:10:54,631 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Delete request with id : 44
2022-10-12 10:11:00,295 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token with userId :834450967, messageId: 805 and chatId :834450967
2022-10-12 10:12:01,608 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:12:01,611 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:12:01,618 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:12:07,142 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 14708 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:12:07,142 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:12:07,821 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:12:07,920 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 92 ms. Found 5 JPA repository interfaces.
2022-10-12 10:12:08,410 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:12:08,421 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:12:08,426 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:12:08,426 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:12:08,554 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:12:08,554 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1363 ms
2022-10-12 10:12:08,760 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:12:08,857 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:12:08,991 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:12:09,108 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:12:09,623 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:12:09,875 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:12:10,090 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:12:10,170 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:12:10,420 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:12:10,614 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:12:11,950 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:12:11,969 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:12:13,611 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:12:14,364 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:12:14,413 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:12:14,431 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:12:14,431 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:12:14,431 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:12:14,464 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:12:14,713 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:12:14,728 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:12:14,735 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:12:14,750 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:12:15,400 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@40968087]
2022-10-12 10:12:15,431 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 8.705 seconds (JVM running for 9.86)
2022-10-12 10:12:29,439 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 10:12:29,440 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 10:12:29,442 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-12 10:12:29,750 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-12 10:12:29,771 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group?
2022-10-12 10:12:29,888 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 10:12:29,912 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967, messageId: 807 and chatId :834450967
2022-10-12 10:15:05,941 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:15:05,941 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:15:05,955 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:15:11,059 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 14304 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:15:11,061 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:15:11,742 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:15:11,819 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 73 ms. Found 5 JPA repository interfaces.
2022-10-12 10:15:12,248 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:15:12,248 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:15:12,248 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:15:12,248 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:15:12,349 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:15:12,349 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1252 ms
2022-10-12 10:15:12,513 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:15:12,593 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:15:12,687 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:15:12,787 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:15:13,175 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:15:13,280 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:15:13,361 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:15:13,400 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:15:13,494 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:15:13,578 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:15:14,079 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:15:14,089 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:15:14,702 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:15:14,979 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:15:14,998 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:15:15,006 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:15:15,006 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:15:15,006 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:15:15,030 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:15:15,124 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:15:15,133 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:15:15,137 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:15:15,146 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:15:15,510 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler [scheduling-1] Unexpected error occurred in scheduled task
com.godeltech.springgodelbot.exception.UnknownCommandException: Sorry but the command is incorrect
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.deleteMessage(TudaSudaTelegramBot.java:134)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.lambda$deleteExpiredTokens$1(TudaSudaTelegramBot.java:141)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.deleteExpiredTokens(TudaSudaTelegramBot.java:141)
	at com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl.deleteExpireTokens(ScheduleServiceImpl.java:37)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 10:15:15,708 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.05 seconds (JVM running for 5.851)
2022-10-12 10:16:57,838 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:16:57,838 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:16:57,852 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:17:03,730 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 24456 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:17:03,731 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:17:04,518 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:17:04,608 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 88 ms. Found 5 JPA repository interfaces.
2022-10-12 10:17:05,139 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:17:05,148 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:17:05,148 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:17:05,148 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:17:05,298 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:17:05,298 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1509 ms
2022-10-12 10:17:05,448 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:17:05,530 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:17:05,628 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:17:05,725 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:17:06,108 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:17:06,200 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:17:06,281 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:17:06,331 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:17:06,463 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:17:06,583 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:17:07,158 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:17:07,158 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:17:07,990 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:17:08,358 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:17:08,390 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:17:08,398 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:17:08,398 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:17:08,398 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:17:08,426 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:17:08,601 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:17:08,612 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:17:08,616 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:17:08,628 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:17:09,020 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 803
2022-10-12 10:17:09,020 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@7b170dd4]
2022-10-12 10:17:09,057 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.936 seconds (JVM running for 6.988)
2022-10-12 10:17:51,747 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:17:51,747 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:17:51,757 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:17:55,173 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 11784 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:17:55,178 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:17:56,033 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:17:56,177 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 130 ms. Found 5 JPA repository interfaces.
2022-10-12 10:17:56,759 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:17:56,767 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:17:56,767 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:17:56,772 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:17:56,905 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:17:56,905 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1681 ms
2022-10-12 10:17:57,076 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:17:57,151 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:17:57,277 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:17:57,391 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:17:57,899 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:17:58,029 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:17:58,137 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:17:58,177 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:17:58,389 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:17:58,522 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:17:59,227 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:17:59,238 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:18:00,242 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:18:00,607 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:18:00,637 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:18:00,648 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:18:00,648 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:18:00,648 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:18:00,666 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:18:00,775 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:18:00,781 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:18:00,785 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:18:00,794 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:18:01,213 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 803
2022-10-12 10:18:25,238 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@2cd29adf]
2022-10-12 10:18:51,936 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=54s677ms118µs400ns).
2022-10-12 10:18:52,059 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 57.332 seconds (JVM running for 58.995)
2022-10-12 10:20:28,738 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:20:28,742 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:20:28,751 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:20:34,236 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15820 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:20:34,240 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:20:34,909 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:20:34,983 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 66 ms. Found 5 JPA repository interfaces.
2022-10-12 10:20:35,394 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:20:35,405 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:20:35,405 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:20:35,405 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:20:35,514 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:20:35,514 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1238 ms
2022-10-12 10:20:35,689 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:20:35,764 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:20:35,860 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:20:35,963 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:20:36,344 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:20:36,433 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:20:36,538 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:20:36,574 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:20:36,674 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:20:36,744 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:20:37,264 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:20:37,270 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:20:37,919 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:20:38,209 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:20:38,224 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:20:38,236 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:20:38,236 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:20:38,236 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:20:38,259 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:20:38,360 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:20:38,920 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 803
2022-10-12 10:20:38,924 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@1b820833]
2022-10-12 10:20:38,964 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:20:38,972 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:20:38,974 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.215 seconds (JVM running for 6.348)
2022-10-12 10:20:38,985 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:24:26,793 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:24:26,795 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:24:26,805 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:24:33,663 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 25116 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:24:33,663 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:24:34,303 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:24:34,373 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2022-10-12 10:24:34,863 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:24:34,876 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:24:34,877 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:24:34,877 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:24:34,993 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:24:34,994 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1296 ms
2022-10-12 10:24:35,118 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:24:35,194 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:24:35,297 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:24:35,383 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:24:35,720 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:24:35,806 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:24:35,883 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:24:35,908 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:24:35,983 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:24:36,043 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:24:36,507 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:24:36,513 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:24:37,103 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:24:37,333 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:24:37,353 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:24:37,363 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:24:37,363 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:24:37,363 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:24:37,391 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:24:37,475 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:24:37,783 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 803
2022-10-12 10:24:37,843 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 805
2022-10-12 10:24:37,933 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@68a52b0c, com.godeltech.springgodelbot.model.entity.Token@2bffb79a, com.godeltech.springgodelbot.model.entity.Token@5aa8f4be]
2022-10-12 10:24:37,970 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.775 seconds (JVM running for 5.595)
2022-10-12 10:24:37,976 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:24:37,979 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:24:37,987 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:35:50,667 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:35:50,673 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:35:50,682 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:35:56,828 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8968 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:35:56,833 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:35:57,528 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:35:57,601 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 64 ms. Found 5 JPA repository interfaces.
2022-10-12 10:35:58,028 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:35:58,038 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:35:58,043 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:35:58,043 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:35:58,168 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:35:58,168 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1295 ms
2022-10-12 10:35:58,323 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:35:58,393 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:35:58,504 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:35:58,602 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:35:58,982 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:35:59,072 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:35:59,165 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:35:59,223 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:35:59,378 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:35:59,463 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:35:59,994 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:35:59,994 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:36:00,763 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:36:00,995 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:36:01,013 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:36:01,018 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:36:01,018 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:36:01,018 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:36:01,038 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:36:01,140 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:36:01,146 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:36:01,148 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:36:01,157 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:36:01,492 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 803
2022-10-12 10:36:01,553 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.121 seconds (JVM running for 5.95)
2022-10-12 10:36:01,683 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 807
2022-10-12 10:36:01,696 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@30524c09, com.godeltech.springgodelbot.model.entity.Token@d7ad93]
2022-10-12 10:36:01,760 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [scheduling-1] SQL Error: 0, SQLState: 23503
2022-10-12 10:36:01,760 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [scheduling-1] ERROR: update or delete on table "token" violates foreign key constraint "fk_request_token" on table "request"
  Detail: Key (id)=(2c4ceaa8f2f75bf90e5f76) is still referenced from table "request".
2022-10-12 10:36:01,761 INFO org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl [scheduling-1] HHH000010: On release of batch it still contained JDBC statements
2022-10-12 10:36:01,770 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler [scheduling-1] Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_request_token]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.TokenServiceImpl$$EnhancerBySpringCGLIB$$b4dcc18f.deleteAll(<generated>)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.deleteExpiredTokens(TudaSudaTelegramBot.java:142)
	at com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl.deleteExpireTokens(ScheduleServiceImpl.java:37)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3698)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3958)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:123)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "token" violates foreign key constraint "fk_request_token" on table "request"
  Detail: Key (id)=(2c4ceaa8f2f75bf90e5f76) is still referenced from table "request".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 44 common frames omitted
2022-10-12 10:38:05,170 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:38:05,170 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:38:05,180 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:38:13,398 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15956 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:38:13,398 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:38:14,092 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:38:14,183 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 86 ms. Found 5 JPA repository interfaces.
2022-10-12 10:38:14,713 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:38:14,718 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:38:14,718 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:38:14,718 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:38:14,853 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:38:14,853 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1425 ms
2022-10-12 10:38:15,039 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:38:15,181 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:38:15,410 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:38:15,565 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:38:16,566 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:38:16,760 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:38:16,980 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:38:17,068 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:38:17,308 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:38:17,493 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:38:18,678 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:38:18,690 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:38:20,319 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:38:21,001 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:38:21,038 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:38:21,051 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:38:21,058 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:38:21,059 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:38:21,098 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:38:21,307 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:38:21,322 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:38:21,332 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:38:21,349 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:38:21,917 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 803
2022-10-12 10:38:21,918 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 8.954 seconds (JVM running for 9.91)
2022-10-12 10:38:21,984 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 807
2022-10-12 10:38:21,992 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@7e8f20b5, com.godeltech.springgodelbot.model.entity.Token@20a2df9f]
2022-10-12 10:38:22,086 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [scheduling-1] SQL Error: 0, SQLState: 23503
2022-10-12 10:38:22,086 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [scheduling-1] ERROR: update or delete on table "token" violates foreign key constraint "fk_request_token" on table "request"
  Detail: Key (id)=(2c4ceaa8f2f75bf90e5f76) is still referenced from table "request".
2022-10-12 10:38:22,087 INFO org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl [scheduling-1] HHH000010: On release of batch it still contained JDBC statements
2022-10-12 10:38:22,107 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler [scheduling-1] Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_request_token]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.TokenServiceImpl$$EnhancerBySpringCGLIB$$b4dcc18f.deleteAll(<generated>)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.deleteExpiredTokens(TudaSudaTelegramBot.java:142)
	at com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl.deleteExpireTokens(ScheduleServiceImpl.java:37)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3698)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3958)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:123)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "token" violates foreign key constraint "fk_request_token" on table "request"
  Detail: Key (id)=(2c4ceaa8f2f75bf90e5f76) is still referenced from table "request".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 44 common frames omitted
2022-10-12 10:56:08,199 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:56:08,199 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 10:56:08,211 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 10:56:13,103 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 4136 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:56:13,104 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:56:13,694 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:56:13,763 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 58 ms. Found 5 JPA repository interfaces.
2022-10-12 10:56:14,116 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:56:14,116 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:56:14,116 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:56:14,116 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:56:14,235 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:56:14,235 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1104 ms
2022-10-12 10:56:14,369 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:56:14,441 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:56:14,526 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:56:14,629 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:56:15,033 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:56:15,116 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:56:15,190 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:56:15,205 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:56:15,309 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:56:15,381 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:56:15,540 ERROR org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Failed to initialize JPA EntityManagerFactory: Unknown mappedBy in: com.godeltech.springgodelbot.model.entity.Token.request, referenced property unknown: com.godeltech.springgodelbot.model.entity.Request.request
2022-10-12 10:56:15,542 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Unknown mappedBy in: com.godeltech.springgodelbot.model.entity.Token.request, referenced property unknown: com.godeltech.springgodelbot.model.entity.Request.request
2022-10-12 10:56:15,542 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-12 10:56:15,553 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-12 10:56:15,557 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-12 10:56:15,566 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-12 10:56:15,593 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Unknown mappedBy in: com.godeltech.springgodelbot.model.entity.Token.request, referenced property unknown: com.godeltech.springgodelbot.model.entity.Request.request
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: org.hibernate.AnnotationException: Unknown mappedBy in: com.godeltech.springgodelbot.model.entity.Token.request, referenced property unknown: com.godeltech.springgodelbot.model.entity.Request.request
	at org.hibernate.cfg.OneToOneSecondPass.doSecondPass(OneToOneSecondPass.java:170)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1653)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1629)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
2022-10-12 10:57:03,757 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 1460 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 10:57:03,757 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 10:57:04,282 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 10:57:04,351 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 58 ms. Found 5 JPA repository interfaces.
2022-10-12 10:57:04,706 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 10:57:04,706 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 10:57:04,706 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 10:57:04,706 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 10:57:04,809 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 10:57:04,819 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1037 ms
2022-10-12 10:57:04,925 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 10:57:04,987 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 10:57:05,076 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 10:57:05,164 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 10:57:05,474 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 10:57:05,551 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 10:57:05,620 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 10:57:05,636 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 10:57:05,727 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 10:57:05,795 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 10:57:06,363 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 10:57:06,369 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 10:57:06,937 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 10:57:07,154 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 10:57:07,178 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 10:57:07,178 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:57:07,178 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 10:57:07,178 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:57:07,201 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 10:57:07,278 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 10:57:07,674 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 803
2022-10-12 10:57:07,764 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.389 seconds (JVM running for 5.175)
2022-10-12 10:57:07,883 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [scheduling-1] Can't delete message with message Id : 807
2022-10-12 10:57:07,888 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@1001e4a0, com.godeltech.springgodelbot.model.entity.Token@732b0c04]
2022-10-12 10:57:07,934 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 10:57:07,937 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 10:57:07,945 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 10:57:30,971 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 10:57:30,971 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 10:57:30,973 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-12 10:57:31,274 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 0f4f0da597357b83726c04 by user : Myachin97
2022-10-12 10:57:31,321 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 10:57:31,343 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: 0f4f0da597357b83726c04 with activity : PASSENGER
2022-10-12 10:57:31,343 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :0f4f0da597357b83726c04
2022-10-12 10:57:31,357 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.model.entity.Token wasn't found by id=0f4f0da597357b83726c04
2022-10-12 10:57:31,358 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :5632797057, messageId: 808 and chatId :834450967
2022-10-12 10:57:32,552 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : 5045febd43f340068ac17d by user : Myachin97
2022-10-12 10:57:32,557 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: 5045febd43f340068ac17d with activity : PASSENGER
2022-10-12 10:57:32,557 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :5045febd43f340068ac17d
2022-10-12 10:57:33,973 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 5045febd43f340068ac17d
2022-10-12 10:57:33,978 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 5045febd43f340068ac17d
2022-10-12 10:57:34,010 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 45
2022-10-12 10:57:34,011 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 45
2022-10-12 10:57:34,676 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 5045febd43f340068ac17d
2022-10-12 10:57:34,681 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 5045febd43f340068ac17d
2022-10-12 10:57:34,700 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 45
2022-10-12 10:57:34,700 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 45
2022-10-12 10:57:35,752 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : 5045febd43f340068ac17d by user :Myachin97
2022-10-12 10:57:35,756 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 5045febd43f340068ac17d
2022-10-12 10:57:37,035 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-10-31 with token: 5045febd43f340068ac17d
2022-10-12 10:57:37,040 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 5045febd43f340068ac17d
2022-10-12 10:57:37,054 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 45
2022-10-12 10:57:37,055 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 45
2022-10-12 10:57:37,899 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-7] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 5045febd43f340068ac17d by user : Myachin97
2022-10-12 10:57:37,903 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 5045febd43f340068ac17d
2022-10-12 10:57:37,921 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-10-31 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 10:57:39,026 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-8] Got callback with type : CHECK_PASSENGER_REQUEST with token : 5045febd43f340068ac17d
2022-10-12 10:57:39,031 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 5045febd43f340068ac17d
2022-10-12 10:57:39,044 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Prepare request with id :45 and user id : 5632797057 for save with description
2022-10-12 10:57:43,207 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Is he member of group?
2022-10-12 10:57:43,309 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Find request for saving with user id : 834450967
2022-10-12 10:57:43,325 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-9] Sorry but the command is incorrect
2022-10-12 11:15:03,581 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 11:15:03,581 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 11:15:03,592 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 11:36:10,455 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15424 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 11:36:10,459 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 11:36:11,083 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 11:36:11,143 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-10-12 11:36:11,484 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 11:36:11,493 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 11:36:11,493 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 11:36:11,493 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 11:36:11,578 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 11:36:11,578 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1078 ms
2022-10-12 11:36:11,683 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 11:36:11,747 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 11:36:11,835 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 11:36:11,915 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 11:36:12,234 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 11:36:12,312 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 11:36:12,378 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 11:36:12,403 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 11:36:12,478 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 11:36:12,534 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 11:36:12,979 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 11:36:12,985 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 11:36:13,513 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 11:36:13,723 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 11:36:13,746 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 11:36:13,753 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 11:36:13,753 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 11:36:13,753 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 11:36:13,774 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 11:36:13,857 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 11:36:13,865 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 11:36:13,867 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 11:36:13,875 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 11:36:14,246 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@3a7c2e61]
2022-10-12 11:36:14,353 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.287 seconds (JVM running for 5.009)
2022-10-12 11:36:29,278 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 11:36:29,278 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 11:36:29,278 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-12 11:36:29,416 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 044e9282267b64137da50d by user : Myachin97
2022-10-12 11:36:29,437 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 11:36:29,454 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: 044e9282267b64137da50d with activity : PASSENGER
2022-10-12 11:36:29,455 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :044e9282267b64137da50d
2022-10-12 11:36:29,465 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class com.godeltech.springgodelbot.model.entity.Token wasn't found by id=044e9282267b64137da50d
2022-10-12 11:36:29,466 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :5632797057, messageId: 806 and chatId :834450967
2022-10-12 11:38:33,205 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 11:38:33,208 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 11:38:33,215 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 11:38:37,693 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 24652 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 11:38:37,693 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 11:38:38,211 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 11:38:38,279 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60 ms. Found 5 JPA repository interfaces.
2022-10-12 11:38:38,655 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 11:38:38,661 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 11:38:38,661 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 11:38:38,661 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 11:38:38,761 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 11:38:38,761 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1025 ms
2022-10-12 11:38:38,880 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 11:38:38,947 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 11:38:39,035 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 11:38:39,118 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 11:38:39,421 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 11:38:39,513 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 11:38:39,580 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 11:38:39,645 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 11:38:39,740 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 11:38:39,800 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 11:38:40,231 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 11:38:40,240 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 11:38:40,779 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 11:38:40,996 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 11:38:41,011 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 11:38:41,021 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 11:38:41,023 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 11:38:41,023 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 11:38:41,042 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 11:38:41,125 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 11:38:41,132 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 11:38:41,133 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 11:38:41,137 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 11:38:41,144 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 11:38:41,685 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.384 seconds (JVM running for 5.103)
2022-10-12 11:38:48,129 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 11:38:48,130 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 11:38:48,131 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 11:38:48,251 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : cf4ad9b58b110bdd6a7f69 by user : Myachin97
2022-10-12 11:38:48,275 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 11:38:48,301 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: cf4ad9b58b110bdd6a7f69 with activity : PASSENGER
2022-10-12 11:38:48,301 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :cf4ad9b58b110bdd6a7f69
2022-10-12 11:39:01,030 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: cf4ad9b58b110bdd6a7f69 by user : Myachin97
2022-10-12 11:39:01,037 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : cf4ad9b58b110bdd6a7f69
2022-10-12 11:39:01,070 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 46
2022-10-12 11:39:01,071 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 46
2022-10-12 11:39:01,809 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: cf4ad9b58b110bdd6a7f69 by user : Myachin97
2022-10-12 11:39:01,814 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : cf4ad9b58b110bdd6a7f69
2022-10-12 11:39:01,828 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 46
2022-10-12 11:39:01,829 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 46
2022-10-12 11:39:04,589 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-4] Got callback : CANCEL_PASSENGER_REQUEST with token : cf4ad9b58b110bdd6a7f69 by user : Myachin97
2022-10-12 11:39:04,593 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : cf4ad9b58b110bdd6a7f69
2022-10-12 11:39:04,607 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 46
2022-10-12 11:39:04,730 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 811 and chatId :834450967
2022-10-12 11:39:09,867 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-5] Got /start message
2022-10-12 11:39:09,869 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group?
2022-10-12 11:39:09,957 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-12 11:39:09,971 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token with userId :834450967 and chatId :834450967
2022-10-12 11:39:11,237 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-6] Got ACTIVITY callback type with activity :PASSENGER and token : ce4cc9bd9dcd86d04bfc20 by user : Myachin97
2022-10-12 11:39:11,243 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Save new request with tokenId: ce4cc9bd9dcd86d04bfc20 with activity : PASSENGER
2022-10-12 11:39:11,244 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :ce4cc9bd9dcd86d04bfc20
2022-10-12 11:39:12,222 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: ce4cc9bd9dcd86d04bfc20 by user : Myachin97
2022-10-12 11:39:12,227 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : ce4cc9bd9dcd86d04bfc20
2022-10-12 11:39:12,238 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 47
2022-10-12 11:39:12,239 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 47
2022-10-12 11:39:12,884 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: ce4cc9bd9dcd86d04bfc20 by user : Myachin97
2022-10-12 11:39:12,887 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : ce4cc9bd9dcd86d04bfc20
2022-10-12 11:39:12,902 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 47
2022-10-12 11:39:12,903 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 47
2022-10-12 11:39:13,682 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-9] Callback data with type: CHOSE_DATE_PASSENGER with token : ce4cc9bd9dcd86d04bfc20 by user :Myachin97
2022-10-12 11:39:13,686 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : ce4cc9bd9dcd86d04bfc20
2022-10-12 11:39:14,647 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_PASSENGER type with first date :2022-10-25 with token: ce4cc9bd9dcd86d04bfc20 by user : Myachin97
2022-10-12 11:39:14,651 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : ce4cc9bd9dcd86d04bfc20
2022-10-12 11:39:14,665 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 47
2022-10-12 11:39:14,665 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 47
2022-10-12 11:39:18,473 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-04 and token : ce4cc9bd9dcd86d04bfc20 by user : Myachin97
2022-10-12 11:39:18,478 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : ce4cc9bd9dcd86d04bfc20
2022-10-12 11:39:18,491 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 47
2022-10-12 11:39:18,492 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 47
2022-10-12 11:39:22,852 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-2] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : ce4cc9bd9dcd86d04bfc20 by user : Myachin97
2022-10-12 11:39:22,856 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : ce4cc9bd9dcd86d04bfc20
2022-10-12 11:39:22,871 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find drivers by first date :2022-10-25 and second date:2022-11-04 with cities:[GDANSK, BREST]
2022-10-12 11:39:24,840 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-3] Got callback with type : CHECK_PASSENGER_REQUEST with token : ce4cc9bd9dcd86d04bfc20 by user : Myachin97
2022-10-12 11:39:24,844 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : ce4cc9bd9dcd86d04bfc20
2022-10-12 11:39:24,856 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Prepare request with id :47 and user id : 834450967 for save with description
2022-10-12 11:39:28,364 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group?
2022-10-12 11:39:28,435 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Find request for saving with user id : 834450967
2022-10-12 11:39:28,455 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-4] Got message for saving description of passenger with token :ce4cc9bd9dcd86d04bfc20 
2022-10-12 11:39:28,472 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Save passenger request : Request(id=47, offerId=null, cities=[GDANSK, BREST], firstDate=2022-10-25, secondDate=2022-11-04, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@27b7b511, activity=PASSENGER, description=Yap yap yap)
2022-10-12 11:39:28,542 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 47
2022-10-12 11:39:28,641 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967 and chatId :834450967
2022-10-12 11:39:30,964 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :PASSENGER and token : 844b4680ba2e06fbd8fc92 by user : Myachin97
2022-10-12 11:39:30,968 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Save new request with tokenId: 844b4680ba2e06fbd8fc92 with activity : PASSENGER
2022-10-12 11:39:30,969 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :844b4680ba2e06fbd8fc92
2022-10-12 11:39:31,665 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-6] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 844b4680ba2e06fbd8fc92 by user : Myachin97
2022-10-12 11:39:31,669 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 844b4680ba2e06fbd8fc92
2022-10-12 11:39:31,679 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 48
2022-10-12 11:39:31,679 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 48
2022-10-12 11:39:32,663 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: 844b4680ba2e06fbd8fc92 by user : Myachin97
2022-10-12 11:39:32,668 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 844b4680ba2e06fbd8fc92
2022-10-12 11:39:32,680 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 48
2022-10-12 11:39:32,681 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 48
2022-10-12 11:39:33,350 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-8] Callback data with type: CHOSE_DATE_PASSENGER with token : 844b4680ba2e06fbd8fc92 by user :Myachin97
2022-10-12 11:39:33,353 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 844b4680ba2e06fbd8fc92
2022-10-12 11:39:34,310 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-9] Got FIRST_DATE_PASSENGER type with first date :2022-11-06 with token: 844b4680ba2e06fbd8fc92 by user : Myachin97
2022-10-12 11:39:34,312 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 844b4680ba2e06fbd8fc92
2022-10-12 11:39:34,318 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 48
2022-10-12 11:39:34,319 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 48
2022-10-12 11:39:38,134 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-10] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-10 and token : 844b4680ba2e06fbd8fc92 by user : Myachin97
2022-10-12 11:39:38,139 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 844b4680ba2e06fbd8fc92
2022-10-12 11:39:38,148 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 48
2022-10-12 11:39:38,149 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 48
2022-10-12 11:39:39,379 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-1] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 844b4680ba2e06fbd8fc92 by user : Myachin97
2022-10-12 11:39:39,383 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 844b4680ba2e06fbd8fc92
2022-10-12 11:39:39,395 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find drivers by first date :2022-11-06 and second date:2022-11-10 with cities:[GDANSK, GRODNO]
2022-10-12 11:39:40,658 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_PASSENGER_REQUEST with token : 844b4680ba2e06fbd8fc92 by user : Myachin97
2022-10-12 11:39:40,662 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 844b4680ba2e06fbd8fc92
2022-10-12 11:39:40,675 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Delete request with id : 48
2022-10-12 11:39:40,764 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967, messageId: 816 and chatId :834450967
2022-10-12 11:50:16,653 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-4] Got ACTIVITY callback type with activity :PASSENGER and token : a44de1a5a3811a26c57ece by user : Myachin97
2022-10-12 11:50:16,659 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Save new request with tokenId: a44de1a5a3811a26c57ece with activity : PASSENGER
2022-10-12 11:50:16,660 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :a44de1a5a3811a26c57ece
2022-10-12 11:51:04,314 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 11:51:04,317 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 11:51:04,322 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 11:53:02,274 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 9632 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 11:53:02,274 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 11:53:03,244 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 11:53:03,359 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 103 ms. Found 5 JPA repository interfaces.
2022-10-12 11:53:03,942 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 11:53:03,952 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 11:53:03,952 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 11:53:03,952 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 11:53:04,092 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 11:53:04,092 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1761 ms
2022-10-12 11:53:04,283 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 11:53:04,375 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 11:53:04,496 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 11:53:04,610 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 11:53:05,079 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 11:53:05,190 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 11:53:05,292 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 11:53:05,333 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 11:53:05,471 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 11:53:05,589 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 11:53:06,215 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 11:53:06,221 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 11:53:07,043 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 11:53:07,371 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 11:53:07,392 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 11:53:07,403 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 11:53:07,403 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 11:53:07,406 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 11:53:07,421 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 11:53:07,519 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 11:53:07,523 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 11:53:07,527 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 11:53:07,555 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 11:53:07,926 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@21315766]
2022-10-12 11:53:08,196 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 6.629 seconds (JVM running for 7.787)
2022-10-12 11:53:20,721 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 11:53:20,721 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 11:53:20,723 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-12 11:53:20,871 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-12 11:53:20,891 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group?
2022-10-12 11:53:21,017 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 11:53:21,034 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967 and chatId :834450967
2022-10-12 11:53:23,021 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : af4f08827b398baef43ad5 by user : Myachin97
2022-10-12 11:53:23,068 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-12 11:53:23,094 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: af4f08827b398baef43ad5 with activity : PASSENGER
2022-10-12 11:53:23,095 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :af4f08827b398baef43ad5
2022-10-12 11:53:24,206 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: af4f08827b398baef43ad5 by user : Myachin97
2022-10-12 11:53:24,211 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : af4f08827b398baef43ad5
2022-10-12 11:53:24,240 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 50
2022-10-12 11:53:24,240 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 50
2022-10-12 11:53:24,869 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: af4f08827b398baef43ad5 by user : Myachin97
2022-10-12 11:53:24,872 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : af4f08827b398baef43ad5
2022-10-12 11:53:24,890 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 50
2022-10-12 11:53:24,890 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 50
2022-10-12 11:53:25,563 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_PASSENGER with token : af4f08827b398baef43ad5 by user :Myachin97
2022-10-12 11:53:25,568 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : af4f08827b398baef43ad5
2022-10-12 11:53:26,455 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-6] Got FIRST_DATE_PASSENGER type with first date :2022-11-03 with token: af4f08827b398baef43ad5 by user : Myachin97
2022-10-12 11:53:26,459 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : af4f08827b398baef43ad5
2022-10-12 11:53:26,474 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 50
2022-10-12 11:53:26,475 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 50
2022-10-12 11:53:30,318 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-7] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : af4f08827b398baef43ad5 by user : Myachin97
2022-10-12 11:53:30,324 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : af4f08827b398baef43ad5
2022-10-12 11:53:30,337 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-11-03 and second date:null with cities:[BREST, GRODNO]
2022-10-12 11:53:32,745 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_PASSENGER_REQUEST with token : af4f08827b398baef43ad5 by user : Myachin97
2022-10-12 11:53:32,750 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : af4f08827b398baef43ad5
2022-10-12 11:53:32,767 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Delete request with id : 50
2022-10-12 11:53:32,900 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token with userId :834450967, messageId: 819 and chatId :834450967
2022-10-12 11:53:33,979 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-12 11:53:33,982 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :8845d59e8d8371fecddec0
2022-10-12 11:53:35,192 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : DRIVER and token: 8845d59e8d8371fecddec0
2022-10-12 11:53:35,197 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Check request by tokenId :8845d59e8d8371fecddec0
2022-10-12 11:53:35,239 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :DRIVER
2022-10-12 11:53:36,259 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :6 and token: 8845d59e8d8371fecddec0 by user :Myachin97
2022-10-12 11:53:36,264 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 8845d59e8d8371fecddec0
2022-10-12 11:53:36,281 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 6
2022-10-12 11:53:42,958 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : DRIVER and token: 8845d59e8d8371fecddec0
2022-10-12 11:53:42,961 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :8845d59e8d8371fecddec0
2022-10-12 11:53:42,995 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :DRIVER
2022-10-12 12:05:45,565 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:05:45,568 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 12:05:45,580 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 12:05:53,816 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10728 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 12:05:53,822 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 12:05:54,644 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 12:05:54,741 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 85 ms. Found 5 JPA repository interfaces.
2022-10-12 12:05:55,521 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 12:05:55,532 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 12:05:55,533 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 12:05:55,533 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 12:05:55,727 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 12:05:55,727 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1859 ms
2022-10-12 12:05:55,960 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 12:05:56,065 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 12:05:56,223 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 12:05:56,335 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 12:05:57,086 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 12:05:57,208 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 12:05:57,341 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 12:05:57,391 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 12:05:57,537 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 12:05:57,647 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 12:05:58,529 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 12:05:58,541 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:05:59,560 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 12:06:00,051 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 12:06:00,086 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 12:06:00,097 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:06:00,097 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:06:00,100 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:06:00,119 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 12:06:00,286 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 12:06:00,299 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:06:00,302 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 12:06:00,352 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 12:06:00,875 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : [com.godeltech.springgodelbot.model.entity.Token@3a06e5a5]
2022-10-12 12:06:00,950 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 7.77 seconds (JVM running for 9.058)
2022-10-12 12:06:13,031 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 12:06:13,031 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 12:06:13,031 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-12 12:06:13,161 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-12 12:06:13,166 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group?
2022-10-12 12:06:13,277 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 12:06:13,290 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967 and chatId :834450967
2022-10-12 12:06:18,135 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : b640db8b3bc87791d0d157 by user : Myachin97
2022-10-12 12:06:18,162 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-12 12:06:18,187 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: b640db8b3bc87791d0d157 with activity : PASSENGER
2022-10-12 12:06:18,187 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :b640db8b3bc87791d0d157
2022-10-12 12:06:19,827 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: b640db8b3bc87791d0d157 by user : Myachin97
2022-10-12 12:06:19,833 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : b640db8b3bc87791d0d157
2022-10-12 12:06:19,864 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 52
2022-10-12 12:06:19,865 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 52
2022-10-12 12:06:28,121 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-4] Got callback : CANCEL_PASSENGER_REQUEST with token : b640db8b3bc87791d0d157 by user : Myachin97
2022-10-12 12:06:28,124 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : b640db8b3bc87791d0d157
2022-10-12 12:06:28,142 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 52
2022-10-12 12:06:28,437 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 822 and chatId :834450967
2022-10-12 12:06:29,437 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-5] Got OFFERS_ACTIVITY callback type
2022-10-12 12:06:29,441 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :0a406abd5f4f235d9abd6e
2022-10-12 12:06:31,441 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: 0a406abd5f4f235d9abd6e
2022-10-12 12:06:31,448 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Check request by tokenId :0a406abd5f4f235d9abd6e
2022-10-12 12:06:31,486 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 12:06:32,450 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_OFFER callback type with route id :2 and token: 0a406abd5f4f235d9abd6e by user :Myachin97
2022-10-12 12:06:32,453 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:32,471 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offer by id : 2
2022-10-12 12:06:34,594 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_DATE_OF_OFFER type with token: 0a406abd5f4f235d9abd6e
2022-10-12 12:06:34,599 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:34,608 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with id:2, with token :0a406abd5f4f235d9abd6e
2022-10-12 12:06:36,748 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-9] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-03 and token: 0a406abd5f4f235d9abd6e
2022-10-12 12:06:36,751 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:36,772 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 53
2022-10-12 12:06:36,772 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 53
2022-10-12 12:06:38,350 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with date :2022-11-03 with token: 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:38,355 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:38,371 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 53
2022-10-12 12:06:38,373 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 53
2022-10-12 12:06:39,877 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-03 and token: 0a406abd5f4f235d9abd6e
2022-10-12 12:06:39,880 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:39,897 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 53
2022-10-12 12:06:39,898 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 53
2022-10-12 12:06:40,564 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with date :2022-10-31 with token: 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:40,568 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:40,584 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 53
2022-10-12 12:06:40,584 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 53
2022-10-12 12:06:41,490 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-11-01 with token: 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:41,494 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:41,511 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 53
2022-10-12 12:06:41,511 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 53
2022-10-12 12:06:43,108 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-4] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-01 and token: 0a406abd5f4f235d9abd6e
2022-10-12 12:06:43,111 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:43,126 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 53
2022-10-12 12:06:43,127 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 53
2022-10-12 12:06:43,890 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with date :2022-10-31 with token: 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:43,894 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:43,911 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 53
2022-10-12 12:06:43,912 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 53
2022-10-12 12:06:45,269 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-10-29 with token: 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:45,273 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:45,289 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 53
2022-10-12 12:06:45,289 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 53
2022-10-12 12:06:46,454 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-7] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-29 and token: 0a406abd5f4f235d9abd6e
2022-10-12 12:06:46,457 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:46,476 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 53
2022-10-12 12:06:46,476 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 53
2022-10-12 12:06:47,254 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with date :2022-10-28 with token: 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:47,271 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:47,291 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 53
2022-10-12 12:06:47,292 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 53
2022-10-12 12:06:48,142 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with date :2022-10-25 with token: 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:48,145 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:48,165 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 53
2022-10-12 12:06:48,165 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 53
2022-10-12 12:06:48,852 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with date :2022-10-28 with token: 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:48,855 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:48,873 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 53
2022-10-12 12:06:48,873 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 53
2022-10-12 12:06:50,849 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-1] Got FINISH_DATE_OFFER callback type with token : 0a406abd5f4f235d9abd6e by user : Myachin97
2022-10-12 12:06:50,853 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:06:50,870 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Update date of offer with first date : 2022-10-25 , and second date : 2022-10-28 
2022-10-12 12:06:50,871 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Get offer by id: 2
2022-10-12 12:06:50,891 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find drivers by first date :2022-10-25 and second date:2022-10-28 with cities:[WROCLAW, BREST]
2022-10-12 12:07:56,395 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:07:56,398 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 12:07:56,406 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 12:08:02,122 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16836 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 12:08:02,129 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 12:08:02,783 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 12:08:02,863 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2022-10-12 12:08:03,385 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 12:08:03,398 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 12:08:03,398 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 12:08:03,398 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 12:08:03,509 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 12:08:03,509 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1339 ms
2022-10-12 12:08:03,668 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 12:08:03,756 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 12:08:03,865 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 12:08:03,991 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 12:08:04,430 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 12:08:04,530 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 12:08:04,638 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 12:08:04,683 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 12:08:04,833 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 12:08:04,938 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 12:08:05,591 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 12:08:05,599 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:08:06,480 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 12:08:06,804 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 12:08:06,827 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 12:08:06,833 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:08:06,833 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:08:06,837 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:08:06,857 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 12:08:06,968 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 12:08:06,977 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:08:06,980 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 12:08:07,013 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 12:08:07,019 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 12:08:07,473 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.76 seconds (JVM running for 6.715)
2022-10-12 12:08:09,192 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 12:08:09,193 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 12:08:09,194 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 12:08:09,378 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type by user : Myachin97
2022-10-12 12:08:09,393 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group?
2022-10-12 12:08:09,493 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 12:08:09,517 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 0a406abd5f4f235d9abd6e
2022-10-12 12:08:09,555 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Delete request with id : 53
2022-10-12 12:08:09,597 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967, messageId: 823 and chatId :834450967
2022-10-12 12:08:11,086 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-12 12:08:11,090 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :6a425c933cda30df3f36be
2022-10-12 12:08:11,878 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: 6a425c933cda30df3f36be
2022-10-12 12:08:11,881 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Check request by tokenId :6a425c933cda30df3f36be
2022-10-12 12:08:11,920 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 12:08:13,420 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_OFFER callback type with route id :9 and token: 6a425c933cda30df3f36be by user :Myachin97
2022-10-12 12:08:13,424 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 6a425c933cda30df3f36be
2022-10-12 12:08:13,440 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 9
2022-10-12 12:08:16,575 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: 6a425c933cda30df3f36be
2022-10-12 12:08:16,580 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 6a425c933cda30df3f36be
2022-10-12 12:08:16,593 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:9, with token :6a425c933cda30df3f36be
2022-10-12 12:08:20,235 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with date :2022-11-03 with token: 6a425c933cda30df3f36be by user : Myachin97
2022-10-12 12:08:20,238 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 6a425c933cda30df3f36be
2022-10-12 12:08:20,254 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 54
2022-10-12 12:08:20,255 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 54
2022-10-12 12:08:21,191 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-7] Got FINISH_DATE_OFFER callback type with token : 6a425c933cda30df3f36be by user : Myachin97
2022-10-12 12:08:21,196 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 6a425c933cda30df3f36be
2022-10-12 12:08:21,208 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Update date of offer with first date : 2022-10-25 , and second date : 2022-11-03 
2022-10-12 12:08:21,209 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Get offer by id: 9
2022-10-12 12:08:21,244 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-10-25 and second date:2022-11-03 with cities:[GDANSK, BREST]
2022-10-12 12:08:25,443 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type by user : Myachin97
2022-10-12 12:08:25,443 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group?
2022-10-12 12:08:25,519 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-12 12:08:25,528 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 6a425c933cda30df3f36be
2022-10-12 12:08:25,545 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Delete request with id : 54
2022-10-12 12:08:25,566 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token with userId :834450967, messageId: 823 and chatId :834450967
2022-10-12 12:08:26,558 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-9] Got ACTIVITY callback type with activity :PASSENGER and token : d24f4db458baba427d6d67 by user : Myachin97
2022-10-12 12:08:26,580 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-9] Find all routes
2022-10-12 12:08:26,591 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Save new request with tokenId: d24f4db458baba427d6d67 with activity : PASSENGER
2022-10-12 12:08:26,592 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :d24f4db458baba427d6d67
2022-10-12 12:08:28,432 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: d24f4db458baba427d6d67 by user : Myachin97
2022-10-12 12:08:28,438 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : d24f4db458baba427d6d67
2022-10-12 12:08:28,452 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 55
2022-10-12 12:08:28,453 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 55
2022-10-12 12:08:29,198 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: d24f4db458baba427d6d67 by user : Myachin97
2022-10-12 12:08:29,205 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : d24f4db458baba427d6d67
2022-10-12 12:08:29,215 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 55
2022-10-12 12:08:29,215 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 55
2022-10-12 12:08:30,071 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-2] Callback data with type: CHOSE_DATE_PASSENGER with token : d24f4db458baba427d6d67 by user :Myachin97
2022-10-12 12:08:30,075 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : d24f4db458baba427d6d67
2022-10-12 12:08:30,888 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-3] Got FIRST_DATE_PASSENGER type with first date :2022-10-28 with token: d24f4db458baba427d6d67 by user : Myachin97
2022-10-12 12:08:30,892 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : d24f4db458baba427d6d67
2022-10-12 12:08:30,908 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 55
2022-10-12 12:08:30,908 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 55
2022-10-12 12:08:31,826 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-4] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : d24f4db458baba427d6d67 by user : Myachin97
2022-10-12 12:08:31,830 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : d24f4db458baba427d6d67
2022-10-12 12:08:31,844 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find drivers by first date :2022-10-28 and second date:null with cities:[GDANSK, GRODNO]
2022-10-12 12:08:38,296 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-5] Got callback : CANCEL_PASSENGER_REQUEST with token : d24f4db458baba427d6d67 by user : Myachin97
2022-10-12 12:08:38,301 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : d24f4db458baba427d6d67
2022-10-12 12:08:38,315 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Delete request with id : 55
2022-10-12 12:08:38,425 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token with userId :834450967, messageId: 823 and chatId :834450967
2022-10-12 12:12:27,568 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-12 12:12:27,571 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :f64d5693c53f6d9e725f59
2022-10-12 12:12:28,608 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : PASSENGER and token: f64d5693c53f6d9e725f59
2022-10-12 12:12:28,612 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Check request by tokenId :f64d5693c53f6d9e725f59
2022-10-12 12:12:28,637 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 12:12:30,609 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :2 and token: f64d5693c53f6d9e725f59 by user :Myachin97
2022-10-12 12:12:30,613 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : f64d5693c53f6d9e725f59
2022-10-12 12:12:30,623 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 2
2022-10-12 12:18:51,824 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : f64d5693c53f6d9e725f59
2022-10-12 12:18:51,834 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-1] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: f64d5693c53f6d9e725f59 by user : Myachin97
2022-10-12 12:18:51,835 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 56
2022-10-12 12:18:51,835 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 56
2022-10-12 12:18:53,310 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-2] Got RETURN_TO_CHANGE_OF_OFFER type with token : f64d5693c53f6d9e725f59 by user : Myachin97
2022-10-12 12:18:53,317 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : f64d5693c53f6d9e725f59
2022-10-12 12:18:53,326 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Refresh change offer request with id : 2
2022-10-12 12:18:53,326 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 2
2022-10-12 12:23:04,228 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:23:04,228 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 12:23:04,238 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 12:23:09,776 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 18184 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 12:23:09,779 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 12:23:10,295 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 12:23:10,355 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2022-10-12 12:23:10,709 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 12:23:10,709 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 12:23:10,709 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 12:23:10,709 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 12:23:10,814 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 12:23:10,814 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1000 ms
2022-10-12 12:23:10,929 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 12:23:10,998 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 12:23:11,079 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 12:23:11,157 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 12:23:11,474 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 12:23:11,543 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 12:23:11,609 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 12:23:11,625 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 12:23:11,709 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 12:23:11,769 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 12:23:12,235 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 12:23:12,235 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:23:12,838 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 12:23:13,058 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 12:23:13,076 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 12:23:13,076 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:23:13,076 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:23:13,076 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:23:13,106 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 12:23:13,189 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 12:23:13,194 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:23:13,197 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 12:23:13,204 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 12:23:13,209 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 12:23:13,731 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.38 seconds (JVM running for 5.116)
2022-10-12 12:23:15,455 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 12:23:15,455 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 12:23:15,457 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 12:23:15,599 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: f64d5693c53f6d9e725f59
2022-10-12 12:23:15,610 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Check request by tokenId :f64d5693c53f6d9e725f59
2022-10-12 12:23:15,720 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 12:23:16,949 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_OFFER callback type with route id :9 and token: f64d5693c53f6d9e725f59 by user :Myachin97
2022-10-12 12:23:16,952 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : f64d5693c53f6d9e725f59
2022-10-12 12:23:16,966 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 9
2022-10-12 12:23:18,317 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ShowSuitableOffersCallbackType [http-nio-5000-exec-3] Get callback : SHOW_SUITABLE_OFFERS type with token : f64d5693c53f6d9e725f59 by user : Myachin97
2022-10-12 12:23:18,322 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : f64d5693c53f6d9e725f59
2022-10-12 12:23:18,333 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-10-25 and second date:2022-11-03 with cities:[GDANSK, BREST]
2022-10-12 12:23:44,500 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : f64d5693c53f6d9e725f59
2022-10-12 12:23:44,511 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-4] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: f64d5693c53f6d9e725f59 by user : Myachin97
2022-10-12 12:23:44,528 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-4] Find all routes
2022-10-12 12:23:44,540 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 56
2022-10-12 12:23:44,540 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 56
2022-10-12 12:24:23,519 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:24:23,519 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 12:24:23,530 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 12:24:28,030 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 23144 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 12:24:28,031 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 12:24:28,613 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 12:24:28,740 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 121 ms. Found 5 JPA repository interfaces.
2022-10-12 12:24:29,346 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 12:24:29,346 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 12:24:29,346 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 12:24:29,346 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 12:24:29,445 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 12:24:29,445 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1381 ms
2022-10-12 12:24:29,562 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 12:24:29,645 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 12:24:29,741 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 12:24:29,856 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 12:24:30,299 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 12:24:30,399 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 12:24:30,482 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 12:24:30,514 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 12:24:30,625 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 12:24:30,723 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 12:24:31,260 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 12:24:31,260 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:24:32,051 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 12:24:32,368 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 12:24:32,393 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 12:24:32,393 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:24:32,393 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:24:32,393 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:24:32,425 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 12:24:32,528 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 12:24:32,534 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:24:32,538 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 12:24:32,548 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 12:24:32,555 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 12:24:33,079 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 12:24:33,079 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 12:24:33,079 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-12 12:24:33,088 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.399 seconds (JVM running for 6.114)
2022-10-12 12:24:33,205 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-1] Got RETURN_TO_CHANGE_OF_OFFER type with token : f64d5693c53f6d9e725f59 by user : Myachin97
2022-10-12 12:24:33,220 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : f64d5693c53f6d9e725f59
2022-10-12 12:24:33,274 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Refresh change offer request with id : 9
2022-10-12 12:24:33,274 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 9
2022-10-12 12:35:33,917 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: f64d5693c53f6d9e725f59
2022-10-12 12:35:33,921 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Check request by tokenId :f64d5693c53f6d9e725f59
2022-10-12 12:35:33,965 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 12:35:35,505 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-4] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : f64d5693c53f6d9e725f59 by user : Myachin97
2022-10-12 12:35:35,509 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : f64d5693c53f6d9e725f59
2022-10-12 12:35:35,523 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 56
2022-10-12 12:35:35,799 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 824 and chatId :834450967
2022-10-12 12:37:37,767 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-6] Got OFFERS_ACTIVITY callback type
2022-10-12 12:37:37,772 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :29406eb26c19a819793ae5
2022-10-12 12:37:38,594 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : PASSENGER and token: 29406eb26c19a819793ae5
2022-10-12 12:37:38,599 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Check request by tokenId :29406eb26c19a819793ae5
2022-10-12 12:37:38,633 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 12:37:39,568 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :9 and token: 29406eb26c19a819793ae5 by user :Myachin97
2022-10-12 12:37:39,572 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 29406eb26c19a819793ae5
2022-10-12 12:37:39,585 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 9
2022-10-12 12:37:40,712 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_DATE_OF_OFFER type with token: 29406eb26c19a819793ae5
2022-10-12 12:37:40,715 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 29406eb26c19a819793ae5
2022-10-12 12:37:40,727 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with id:9, with token :29406eb26c19a819793ae5
2022-10-12 12:37:41,881 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-10] Got FINISH_DATE_OFFER callback type with token : 29406eb26c19a819793ae5 by user : Myachin97
2022-10-12 12:37:41,886 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 29406eb26c19a819793ae5
2022-10-12 12:37:41,901 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Update date of offer with first date : 2022-10-25 , and second date : 2022-11-03 
2022-10-12 12:37:41,901 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Get offer by id: 9
2022-10-12 12:37:41,915 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find drivers by first date :2022-10-25 and second date:2022-11-03 with cities:[GDANSK, BREST]
2022-10-12 12:38:42,668 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-2] Got MAIN_MENU callback type by user : Myachin97
2022-10-12 12:38:42,670 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group?
2022-10-12 12:38:42,921 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-12 12:38:42,933 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 29406eb26c19a819793ae5
2022-10-12 12:38:42,944 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Delete request with id : 57
2022-10-12 12:38:42,964 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967, messageId: 825 and chatId :834450967
2022-10-12 12:52:14,889 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:52:14,889 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 12:52:14,901 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 12:52:20,325 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10844 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 12:52:20,340 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 12:52:20,908 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 12:52:20,965 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2022-10-12 12:52:21,309 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 12:52:21,309 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 12:52:21,309 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 12:52:21,309 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 12:52:21,409 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 12:52:21,409 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1049 ms
2022-10-12 12:52:21,530 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 12:52:21,608 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 12:52:21,699 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 12:52:21,784 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 12:52:22,118 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 12:52:22,202 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 12:52:22,275 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 12:52:22,308 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 12:52:22,375 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 12:52:22,445 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 12:52:22,876 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 12:52:22,876 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 12:52:23,392 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 12:52:23,625 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 12:52:23,643 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 12:52:23,643 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:52:23,643 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 12:52:23,643 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:52:23,667 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 12:52:23,749 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 12:52:23,756 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 12:52:23,760 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 12:52:23,770 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 12:52:23,776 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 12:52:24,291 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.275 seconds (JVM running for 4.985)
2022-10-12 12:52:25,081 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 12:52:25,082 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 12:52:25,082 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-12 12:52:25,231 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : ca41db9d4252dc8b69f9b7 by user : Myachin97
2022-10-12 12:52:25,257 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 12:52:25,300 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: ca41db9d4252dc8b69f9b7 with activity : DRIVER
2022-10-12 12:52:25,301 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :ca41db9d4252dc8b69f9b7
2022-10-12 12:52:26,553 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-2] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: ca41db9d4252dc8b69f9b7 by user : Myachin97
2022-10-12 12:52:26,561 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : ca41db9d4252dc8b69f9b7
2022-10-12 12:52:26,593 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 58
2022-10-12 12:52:26,594 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 58
2022-10-12 12:52:27,315 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: ca41db9d4252dc8b69f9b7 by user : Myachin97
2022-10-12 12:52:27,321 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : ca41db9d4252dc8b69f9b7
2022-10-12 12:52:27,336 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 58
2022-10-12 12:52:27,336 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 58
2022-10-12 12:52:28,496 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_DRIVER with token : ca41db9d4252dc8b69f9b7 by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-12 12:52:28,501 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : ca41db9d4252dc8b69f9b7
2022-10-12 12:52:30,125 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_DRIVER callback type with first date :2022-11-03 with token: ca41db9d4252dc8b69f9b7 by user : Myachin97
2022-10-12 12:52:30,131 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : ca41db9d4252dc8b69f9b7
2022-10-12 12:52:30,145 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 58
2022-10-12 12:52:30,145 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 58
2022-10-12 12:52:30,906 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FinishDateDriverCallbackType [http-nio-5000-exec-6] Get callback : FINISH_CHOSE_DATE_DRIVER type with token : ca41db9d4252dc8b69f9b7 by user : Myachin97
2022-10-12 12:52:30,911 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : ca41db9d4252dc8b69f9b7
2022-10-12 12:52:30,928 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-11-03 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 12:52:32,692 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-10] Got callback type :CHECK_DRIVER_REQUEST with token :ca41db9d4252dc8b69f9b7 by user : Myachin97
2022-10-12 12:52:32,697 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : ca41db9d4252dc8b69f9b7
2022-10-12 12:52:32,711 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Prepare request with id :58 and user id : 834450967 for save with description
2022-10-12 12:52:34,451 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.SaveDriverCallbackType [http-nio-5000-exec-8] Got SAVE_DRIVER_WITHOUT_DESCRIPTION callback type without description with token:ca41db9d4252dc8b69f9b7 with user : Myachin97
2022-10-12 12:52:34,456 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : ca41db9d4252dc8b69f9b7
2022-10-12 12:52:34,470 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Save supplier by: Request(id=58, offerId=null, cities=[WROCLAW, BREST], firstDate=2022-11-03, secondDate=null, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@4f7c6a3, activity=DRIVER, description=null)
2022-10-12 12:52:34,568 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find passengers by first date :2022-11-03 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 12:52:38,482 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_DRIVER_REQUEST with token : ca41db9d4252dc8b69f9b7 by user : Myachin97
2022-10-12 12:52:38,487 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : ca41db9d4252dc8b69f9b7
2022-10-12 12:52:38,500 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Delete request with id : 58
2022-10-12 12:52:38,629 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token with userId :834450967, messageId: 825 and chatId :834450967
2022-10-12 13:19:23,923 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:19:23,927 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:19:23,935 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:19:30,685 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 19308 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:19:30,694 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:19:31,631 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:19:31,736 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 94 ms. Found 5 JPA repository interfaces.
2022-10-12 13:19:32,303 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:19:32,307 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:19:32,313 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:19:32,313 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:19:32,521 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:19:32,521 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1768 ms
2022-10-12 13:19:32,727 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:19:32,811 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:19:32,934 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:19:33,059 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:19:33,544 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:19:33,673 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:19:33,786 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:19:33,827 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:19:33,948 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:19:34,042 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:19:34,704 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:19:34,712 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:19:35,473 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:19:35,758 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:19:35,781 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:19:35,789 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:19:35,792 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:19:35,789 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:19:35,806 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:19:35,905 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:19:35,912 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:19:35,916 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:19:35,925 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:19:35,933 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:19:36,466 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 6.288 seconds (JVM running for 7.117)
2022-10-12 13:19:39,552 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 13:19:39,552 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-2] Initializing Servlet 'dispatcherServlet'
2022-10-12 13:19:39,553 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-2] Completed initialization in 1 ms
2022-10-12 13:19:39,717 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :DRIVER and token : 034028b02f52fe07410080 by user : Myachin97
2022-10-12 13:19:39,740 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-12 13:19:39,772 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: 034028b02f52fe07410080 with activity : DRIVER
2022-10-12 13:19:39,772 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :034028b02f52fe07410080
2022-10-12 13:19:40,936 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-1] Callback data with type: DRIVER_ROUTE and routeId: 3 and token: 034028b02f52fe07410080 by user : Myachin97
2022-10-12 13:19:40,940 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 034028b02f52fe07410080
2022-10-12 13:19:40,970 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 59
2022-10-12 13:19:40,971 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 59
2022-10-12 13:19:41,493 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 034028b02f52fe07410080 by user : Myachin97
2022-10-12 13:19:41,498 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 034028b02f52fe07410080
2022-10-12 13:19:41,507 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 59
2022-10-12 13:19:41,508 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 59
2022-10-12 13:19:42,304 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_DRIVER with token : 034028b02f52fe07410080 by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-12 13:19:42,310 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 034028b02f52fe07410080
2022-10-12 13:19:43,146 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_DRIVER callback type with first date :2022-11-03 with token: 034028b02f52fe07410080 by user : Myachin97
2022-10-12 13:19:43,150 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 034028b02f52fe07410080
2022-10-12 13:19:43,167 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 59
2022-10-12 13:19:43,167 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 59
2022-10-12 13:19:46,997 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FinishDateDriverCallbackType [http-nio-5000-exec-6] Get callback : FINISH_CHOSE_DATE_DRIVER type with token : 034028b02f52fe07410080 by user : Myachin97
2022-10-12 13:19:47,008 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 034028b02f52fe07410080
2022-10-12 13:19:47,034 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-11-03 and second date:null with cities:[WROCLAW, GDANSK]
2022-10-12 13:20:03,949 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-9] Got callback type :CHECK_DRIVER_REQUEST with token :034028b02f52fe07410080 by user : Myachin97
2022-10-12 13:20:03,952 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 034028b02f52fe07410080
2022-10-12 13:20:03,968 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Prepare request with id :59 and user id : 834450967 for save with description
2022-10-12 13:20:08,058 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group?
2022-10-12 13:20:08,171 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Find request for saving with user id : 834450967
2022-10-12 13:20:08,186 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-8] Got message for saving description of driver with token :034028b02f52fe07410080 
2022-10-12 13:20:08,392 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Save supplier by: Request(id=59, offerId=null, cities=[WROCLAW, GDANSK], firstDate=2022-11-03, secondDate=null, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@5b002dc2, activity=DRIVER, description=Yup yup)
2022-10-12 13:20:08,520 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find passengers by first date :2022-11-03 and second date:null with cities:[WROCLAW, GDANSK]
2022-10-12 13:20:10,801 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_DRIVER_REQUEST with token : 034028b02f52fe07410080 by user : Myachin97
2022-10-12 13:20:10,805 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 034028b02f52fe07410080
2022-10-12 13:20:10,813 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Delete request with id : 59
2022-10-12 13:20:10,927 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token with userId :834450967, messageId: 828 and chatId :834450967
2022-10-12 13:20:17,594 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :PASSENGER and token : 0d4aacb09f42e43de6bc65 by user : Myachin97
2022-10-12 13:20:17,598 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Save new request with tokenId: 0d4aacb09f42e43de6bc65 with activity : PASSENGER
2022-10-12 13:20:17,599 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :0d4aacb09f42e43de6bc65
2022-10-12 13:20:18,492 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 0d4aacb09f42e43de6bc65 by user : Myachin97
2022-10-12 13:20:18,496 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 0d4aacb09f42e43de6bc65
2022-10-12 13:20:18,508 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 60
2022-10-12 13:20:18,509 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 60
2022-10-12 13:20:19,111 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 0d4aacb09f42e43de6bc65 by user : Myachin97
2022-10-12 13:20:19,115 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 0d4aacb09f42e43de6bc65
2022-10-12 13:20:19,131 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 60
2022-10-12 13:20:19,131 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 60
2022-10-12 13:20:19,836 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_PASSENGER with token : 0d4aacb09f42e43de6bc65 by user :Myachin97
2022-10-12 13:20:19,841 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 0d4aacb09f42e43de6bc65
2022-10-12 13:20:20,739 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-11-03 with token: 0d4aacb09f42e43de6bc65 by user : Myachin97
2022-10-12 13:20:20,743 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 0d4aacb09f42e43de6bc65
2022-10-12 13:20:20,750 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 60
2022-10-12 13:20:20,751 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 60
2022-10-12 13:20:24,911 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-07 and token : 0d4aacb09f42e43de6bc65 by user : Myachin97
2022-10-12 13:20:24,914 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 0d4aacb09f42e43de6bc65
2022-10-12 13:20:24,925 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 60
2022-10-12 13:20:24,925 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 60
2022-10-12 13:20:36,082 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-6] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 0d4aacb09f42e43de6bc65 by user : Myachin97
2022-10-12 13:20:36,086 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 0d4aacb09f42e43de6bc65
2022-10-12 13:20:36,101 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find drivers by first date :2022-11-03 and second date:2022-11-07 with cities:[WROCLAW, BREST]
2022-10-12 13:20:37,621 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-9] Got callback with type : CHECK_PASSENGER_REQUEST with token : 0d4aacb09f42e43de6bc65 by user : Myachin97
2022-10-12 13:20:37,627 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 0d4aacb09f42e43de6bc65
2022-10-12 13:20:37,642 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Prepare request with id :60 and user id : 834450967 for save with description
2022-10-12 13:20:39,973 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group?
2022-10-12 13:20:40,068 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Find request for saving with user id : 834450967
2022-10-12 13:20:40,085 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-8] Got message for saving description of passenger with token :0d4aacb09f42e43de6bc65 
2022-10-12 13:20:40,243 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Save passenger request : Request(id=60, offerId=null, cities=[WROCLAW, BREST], firstDate=2022-11-03, secondDate=2022-11-07, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@3dffb3e0, activity=PASSENGER, description=Yup yup)
2022-10-12 13:20:40,286 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find drivers by first date :2022-11-03 and second date:2022-11-07 with cities:[WROCLAW, BREST]
2022-10-12 13:21:06,711 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_PASSENGER_REQUEST with token : 0d4aacb09f42e43de6bc65 by user : Myachin97
2022-10-12 13:21:06,715 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 0d4aacb09f42e43de6bc65
2022-10-12 13:21:06,725 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Delete request with id : 60
2022-10-12 13:21:07,042 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token with userId :834450967, messageId: 831 and chatId :834450967
2022-10-12 13:21:08,080 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-10] Got OFFERS_ACTIVITY callback type
2022-10-12 13:21:08,083 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :7a4791adedb47c861f4198
2022-10-12 13:21:09,395 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: 7a4791adedb47c861f4198
2022-10-12 13:21:09,400 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :7a4791adedb47c861f4198
2022-10-12 13:21:09,436 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 13:21:10,471 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :2 and token: 7a4791adedb47c861f4198 by user :Myachin97
2022-10-12 13:21:10,476 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 7a4791adedb47c861f4198
2022-10-12 13:21:10,490 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 2
2022-10-12 13:21:18,504 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_DATE_OF_OFFER type with token: 7a4791adedb47c861f4198
2022-10-12 13:21:18,507 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 7a4791adedb47c861f4198
2022-10-12 13:21:18,522 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with id:2, with token :7a4791adedb47c861f4198
2022-10-12 13:21:19,710 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-5] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-28 and token: 7a4791adedb47c861f4198
2022-10-12 13:21:19,713 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 7a4791adedb47c861f4198
2022-10-12 13:21:19,728 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 61
2022-10-12 13:21:19,729 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 61
2022-10-12 13:21:20,742 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-4] Got FINISH_DATE_OFFER callback type with token : 7a4791adedb47c861f4198 by user : Myachin97
2022-10-12 13:21:20,746 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 7a4791adedb47c861f4198
2022-10-12 13:21:20,762 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Update date of offer with first date : 2022-10-25 , and second date : null 
2022-10-12 13:21:20,762 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Get offer by id: 2
2022-10-12 13:21:20,782 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find drivers by first date :2022-10-25 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 13:21:24,158 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-6] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 7a4791adedb47c861f4198 by user : Myachin97
2022-10-12 13:21:24,163 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 7a4791adedb47c861f4198
2022-10-12 13:21:24,170 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Delete request with id : 61
2022-10-12 13:21:24,281 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token with userId :834450967, messageId: 832 and chatId :834450967
2022-10-12 13:26:09,899 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:26:09,901 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:26:09,908 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:26:17,026 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 9932 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:26:17,034 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:26:17,937 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:26:18,028 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 83 ms. Found 5 JPA repository interfaces.
2022-10-12 13:26:18,506 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:26:18,516 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:26:18,516 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:26:18,516 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:26:18,621 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:26:18,621 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1520 ms
2022-10-12 13:26:18,786 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:26:18,886 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:26:18,998 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:26:19,097 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:26:19,724 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:26:19,862 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:26:19,961 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:26:20,001 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:26:20,111 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:26:20,216 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:26:20,846 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:26:20,856 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:26:21,601 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:26:21,896 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:26:21,918 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:26:21,926 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:26:21,926 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:26:21,926 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:26:21,949 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:26:22,053 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:26:22,060 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:26:22,064 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:26:22,072 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:26:22,080 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:26:22,614 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 6.219 seconds (JVM running for 7.287)
2022-10-12 13:26:34,736 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:26:34,740 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:26:34,748 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:26:40,100 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15008 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:26:40,100 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:26:40,685 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:26:40,746 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2022-10-12 13:26:41,190 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:26:41,195 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:26:41,195 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:26:41,195 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:26:41,301 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:26:41,301 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1171 ms
2022-10-12 13:26:41,441 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:26:41,515 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:26:41,612 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:26:41,709 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:26:42,090 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:26:42,192 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:26:42,283 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:26:42,315 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:26:42,416 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:26:42,490 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:26:43,030 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:26:43,039 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:26:43,706 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:26:43,988 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:26:44,010 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:26:44,020 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:26:44,020 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:26:44,020 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:26:44,041 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:26:44,138 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:26:44,147 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:26:44,150 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:26:44,159 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:26:44,167 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:26:44,743 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.038 seconds (JVM running for 5.819)
2022-10-12 13:26:47,294 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 13:26:47,294 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 13:26:47,295 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 13:26:47,428 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : fe46b79d6ec5296a3171b1 by user : Myachin97
2022-10-12 13:26:47,453 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 13:26:47,476 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: fe46b79d6ec5296a3171b1 with activity : PASSENGER
2022-10-12 13:26:47,476 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :fe46b79d6ec5296a3171b1
2022-10-12 13:26:48,654 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: fe46b79d6ec5296a3171b1 by user : Myachin97
2022-10-12 13:26:48,660 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : fe46b79d6ec5296a3171b1
2022-10-12 13:26:48,693 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 62
2022-10-12 13:26:48,694 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 62
2022-10-12 13:26:49,336 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: fe46b79d6ec5296a3171b1 by user : Myachin97
2022-10-12 13:26:49,341 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : fe46b79d6ec5296a3171b1
2022-10-12 13:26:49,356 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 62
2022-10-12 13:26:49,357 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 62
2022-10-12 13:26:50,343 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : fe46b79d6ec5296a3171b1 by user :Myachin97
2022-10-12 13:26:50,346 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : fe46b79d6ec5296a3171b1
2022-10-12 13:26:51,488 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-11-03 with token: fe46b79d6ec5296a3171b1 by user : Myachin97
2022-10-12 13:26:51,492 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : fe46b79d6ec5296a3171b1
2022-10-12 13:26:51,510 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 62
2022-10-12 13:26:51,510 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 62
2022-10-12 13:26:52,639 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-6] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : fe46b79d6ec5296a3171b1 by user : Myachin97
2022-10-12 13:26:52,643 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : fe46b79d6ec5296a3171b1
2022-10-12 13:26:52,660 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find drivers by first date :2022-11-03 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 13:26:55,608 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-7] Got callback with type : CHECK_PASSENGER_REQUEST with token : fe46b79d6ec5296a3171b1 by user : Myachin97
2022-10-12 13:26:55,612 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : fe46b79d6ec5296a3171b1
2022-10-12 13:26:55,630 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Prepare request with id :62 and user id : 834450967 for save with description
2022-10-12 13:26:58,260 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group?
2022-10-12 13:26:58,358 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Find request for saving with user id : 834450967
2022-10-12 13:26:58,384 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-8] Got message for saving description of passenger with token :fe46b79d6ec5296a3171b1 
2022-10-12 13:26:58,515 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Save passenger request : Request(id=62, offerId=null, cities=[WROCLAW, BREST], firstDate=2022-11-03, secondDate=null, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@23799fa7, activity=PASSENGER, description=Yup yup yup)
2022-10-12 13:26:58,614 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find drivers by first date :2022-11-03 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 13:27:04,042 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-9] Got callback : CANCEL_PASSENGER_REQUEST with token : fe46b79d6ec5296a3171b1 by user : Myachin97
2022-10-12 13:27:04,048 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : fe46b79d6ec5296a3171b1
2022-10-12 13:27:04,065 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Delete request with id : 62
2022-10-12 13:27:04,254 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Create new token with userId :834450967, messageId: 835 and chatId :834450967
2022-10-12 13:27:05,491 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-10] Got ACTIVITY callback type with activity :PASSENGER and token : 3142ae97dd8595c3c4f2ab by user : Myachin97
2022-10-12 13:27:05,494 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Save new request with tokenId: 3142ae97dd8595c3c4f2ab with activity : PASSENGER
2022-10-12 13:27:05,495 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Income message with token :3142ae97dd8595c3c4f2ab
2022-10-12 13:27:06,463 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 3142ae97dd8595c3c4f2ab by user : Myachin97
2022-10-12 13:27:06,468 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 3142ae97dd8595c3c4f2ab
2022-10-12 13:27:06,480 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 63
2022-10-12 13:27:06,481 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 63
2022-10-12 13:27:06,958 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 3142ae97dd8595c3c4f2ab by user : Myachin97
2022-10-12 13:27:06,959 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 3142ae97dd8595c3c4f2ab
2022-10-12 13:27:06,976 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 63
2022-10-12 13:27:06,977 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 63
2022-10-12 13:27:07,665 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-3] Callback data with type: CHOSE_DATE_PASSENGER with token : 3142ae97dd8595c3c4f2ab by user :Myachin97
2022-10-12 13:27:07,671 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 3142ae97dd8595c3c4f2ab
2022-10-12 13:27:11,702 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-4] Got FIRST_DATE_PASSENGER type with first date :2022-11-03 with token: 3142ae97dd8595c3c4f2ab by user : Myachin97
2022-10-12 13:27:11,710 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 3142ae97dd8595c3c4f2ab
2022-10-12 13:27:11,720 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 63
2022-10-12 13:27:11,721 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 63
2022-10-12 13:27:12,922 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-5] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 3142ae97dd8595c3c4f2ab by user : Myachin97
2022-10-12 13:27:12,926 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 3142ae97dd8595c3c4f2ab
2022-10-12 13:27:12,948 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-11-03 and second date:null with cities:[GDANSK, BREST]
2022-10-12 13:27:14,471 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-6] Got callback with type : CHECK_PASSENGER_REQUEST with token : 3142ae97dd8595c3c4f2ab by user : Myachin97
2022-10-12 13:27:14,476 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 3142ae97dd8595c3c4f2ab
2022-10-12 13:27:14,489 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Prepare request with id :63 and user id : 834450967 for save with description
2022-10-12 13:27:17,171 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group?
2022-10-12 13:27:17,244 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Find request for saving with user id : 834450967
2022-10-12 13:27:17,252 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-7] Got message for saving description of passenger with token :3142ae97dd8595c3c4f2ab 
2022-10-12 13:27:17,315 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Save passenger request : Request(id=63, offerId=null, cities=[GDANSK, BREST], firstDate=2022-11-03, secondDate=null, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@5f55c7ac, activity=PASSENGER, description=Yup yup yup)
2022-10-12 13:27:17,360 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-11-03 and second date:null with cities:[GDANSK, BREST]
2022-10-12 13:27:19,912 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_PASSENGER_REQUEST with token : 3142ae97dd8595c3c4f2ab by user : Myachin97
2022-10-12 13:27:19,916 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 3142ae97dd8595c3c4f2ab
2022-10-12 13:27:19,931 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Delete request with id : 63
2022-10-12 13:27:20,025 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token with userId :834450967, messageId: 838 and chatId :834450967
2022-10-12 13:27:22,524 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-9] Got OFFERS_ACTIVITY callback type
2022-10-12 13:27:22,528 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :e043b3b7a9d4707979f624
2022-10-12 13:27:39,075 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-10] Callback with type :MY_OFFERS and activity : PASSENGER and token: e043b3b7a9d4707979f624
2022-10-12 13:27:39,078 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Check request by tokenId :e043b3b7a9d4707979f624
2022-10-12 13:27:39,117 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 13:27:40,044 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-1] Got CHANGE_OFFER callback type with route id :2 and token: e043b3b7a9d4707979f624 by user :Myachin97
2022-10-12 13:27:40,048 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:40,062 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offer by id : 2
2022-10-12 13:27:41,060 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Got CHANGE_DATE_OF_OFFER type with token: e043b3b7a9d4707979f624
2022-10-12 13:27:41,065 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:41,078 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-2] Change date of offer with id:2, with token :e043b3b7a9d4707979f624
2022-10-12 13:27:44,274 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-3] Got RETURN_TO_CHANGE_OF_OFFER type with token : e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:27:44,278 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:44,294 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Refresh change offer request with id : 2
2022-10-12 13:27:44,294 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 2
2022-10-12 13:27:45,858 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:45,873 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-4] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:27:45,873 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 64
2022-10-12 13:27:45,873 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 64
2022-10-12 13:27:52,302 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-5] Got RETURN_TO_CHANGE_OF_OFFER type with token : e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:27:52,306 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:52,320 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Refresh change offer request with id : 2
2022-10-12 13:27:52,321 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 2
2022-10-12 13:27:53,882 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:53,893 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-6] Change description of offer with id: 2 and token : e043b3b7a9d4707979f624 by user :Myachin97
2022-10-12 13:27:53,893 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Prepare request with id :64 and user id : 834450967 for save with description
2022-10-12 13:27:55,379 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-7] Got RETURN_TO_CHANGE_OF_OFFER type with token : e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:27:55,382 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:55,395 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Refresh change offer request with id : 2
2022-10-12 13:27:55,396 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offer by id : 2
2022-10-12 13:27:56,650 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_DATE_OF_OFFER type with token: e043b3b7a9d4707979f624
2022-10-12 13:27:56,655 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:56,668 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with id:2, with token :e043b3b7a9d4707979f624
2022-10-12 13:27:59,153 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-9] Change date of offer with date :2022-10-28 with token: e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:27:59,159 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:27:59,175 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 64
2022-10-12 13:27:59,175 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 64
2022-10-12 13:28:01,547 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-10] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-28 and token: e043b3b7a9d4707979f624
2022-10-12 13:28:01,553 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:01,565 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 64
2022-10-12 13:28:01,566 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 64
2022-10-12 13:28:02,467 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-1] Change date of offer with date :2022-10-28 with token: e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:28:02,471 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:02,485 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 64
2022-10-12 13:28:02,485 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 64
2022-10-12 13:28:03,604 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-2] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-10-28 and token: e043b3b7a9d4707979f624
2022-10-12 13:28:03,608 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:03,625 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 64
2022-10-12 13:28:03,625 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 64
2022-10-12 13:28:04,338 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-3] Change date of offer with date :2022-10-28 with token: e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:28:04,342 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:04,358 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 64
2022-10-12 13:28:04,359 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 64
2022-10-12 13:28:05,470 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-4] Got RETURN_TO_CHANGE_OF_OFFER type with token : e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:28:05,475 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:05,490 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Refresh change offer request with id : 2
2022-10-12 13:28:05,491 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offer by id : 2
2022-10-12 13:28:07,063 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Got CHANGE_DATE_OF_OFFER type with token: e043b3b7a9d4707979f624
2022-10-12 13:28:07,067 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:07,078 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-5] Change date of offer with id:2, with token :e043b3b7a9d4707979f624
2022-10-12 13:28:09,100 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-6] Got RETURN_TO_CHANGE_OF_OFFER type with token : e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:28:09,105 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:09,119 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Refresh change offer request with id : 2
2022-10-12 13:28:09,119 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 2
2022-10-12 13:28:10,544 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_DATE_OF_OFFER type with token: e043b3b7a9d4707979f624
2022-10-12 13:28:10,548 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:10,555 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-7] Change date of offer with id:2, with token :e043b3b7a9d4707979f624
2022-10-12 13:28:12,011 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeSecondDateOfOfferCallbackType [http-nio-5000-exec-8] Change date of offer with date :2022-10-28 with token: e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:28:12,013 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:12,021 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 64
2022-10-12 13:28:12,023 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 64
2022-10-12 13:28:13,874 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-9] Got FINISH_DATE_OFFER callback type with token : e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:28:13,878 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:13,893 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Update date of offer with first date : 2022-10-25 , and second date : 2022-10-28 
2022-10-12 13:28:13,893 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Get offer by id: 2
2022-10-12 13:28:13,911 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find drivers by first date :2022-10-25 and second date:2022-10-28 with cities:[WROCLAW, BREST]
2022-10-12 13:28:19,635 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-10] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : e043b3b7a9d4707979f624 by user : Myachin97
2022-10-12 13:28:19,639 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : e043b3b7a9d4707979f624
2022-10-12 13:28:19,653 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Delete request with id : 64
2022-10-12 13:28:19,924 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-10] Create new token with userId :834450967, messageId: 839 and chatId :834450967
2022-10-12 13:29:46,007 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:29:46,007 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:29:46,022 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:29:50,634 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 14096 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:29:50,642 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:29:51,294 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:29:51,382 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77 ms. Found 5 JPA repository interfaces.
2022-10-12 13:29:51,812 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:29:51,817 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:29:51,817 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:29:51,817 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:29:51,933 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:29:51,933 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1255 ms
2022-10-12 13:29:52,083 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:29:52,157 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:29:52,246 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:29:52,348 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:29:52,678 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:29:52,753 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:29:52,833 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:29:52,864 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:29:52,954 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:29:53,032 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:29:53,612 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:29:53,617 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:29:54,235 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:29:54,485 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:29:54,503 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:29:54,507 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:29:54,507 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:29:54,512 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:29:54,530 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:29:54,697 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:29:54,705 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:29:54,710 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:29:54,721 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:29:54,730 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:29:55,182 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.926 seconds (JVM running for 5.726)
2022-10-12 13:29:55,836 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 13:29:55,836 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 13:29:55,841 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 4 ms
2022-10-12 13:29:56,002 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type
2022-10-12 13:29:56,010 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :c14fe381c9f96bea16965e
2022-10-12 13:29:57,226 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-2] Callback with type :MY_OFFERS and activity : PASSENGER and token: c14fe381c9f96bea16965e
2022-10-12 13:29:57,238 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Check request by tokenId :c14fe381c9f96bea16965e
2022-10-12 13:29:57,295 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 13:29:58,376 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-3] Got CHANGE_OFFER callback type with route id :9 and token: c14fe381c9f96bea16965e by user :Myachin97
2022-10-12 13:29:58,380 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : c14fe381c9f96bea16965e
2022-10-12 13:29:58,396 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offer by id : 9
2022-10-12 13:30:00,501 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Got CHANGE_DATE_OF_OFFER type with token: c14fe381c9f96bea16965e
2022-10-12 13:30:00,507 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : c14fe381c9f96bea16965e
2022-10-12 13:30:00,533 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-4] Change date of offer with id:9, with token :c14fe381c9f96bea16965e
2022-10-12 13:30:02,636 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-5] Got RETURN_TO_CHANGE_OF_OFFER type with token : c14fe381c9f96bea16965e by user : Myachin97
2022-10-12 13:30:02,641 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : c14fe381c9f96bea16965e
2022-10-12 13:30:02,660 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Refresh change offer request with id : 9
2022-10-12 13:30:02,661 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offer by id : 9
2022-10-12 13:30:04,323 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.DeleteOfferCallbackType [http-nio-5000-exec-6] Delete offer by id :9 and token: c14fe381c9f96bea16965e by user : Myachin97
2022-10-12 13:30:04,329 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : c14fe381c9f96bea16965e
2022-10-12 13:30:04,344 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Delete offer by id : 9
2022-10-12 13:30:04,345 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Get offer by id: 9
2022-10-12 13:30:04,360 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Delete request with id : 65
2022-10-12 13:30:04,366 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token with userId :834450967, messageId: 840 and chatId :834450967
2022-10-12 13:30:08,889 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type
2022-10-12 13:30:08,894 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :e443e58d913409f78a311f
2022-10-12 13:30:10,335 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-8] Callback with type :MY_OFFERS and activity : PASSENGER and token: e443e58d913409f78a311f
2022-10-12 13:30:10,338 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Check request by tokenId :e443e58d913409f78a311f
2022-10-12 13:30:10,359 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 13:30:11,234 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-9] Got CHANGE_OFFER callback type with route id :12 and token: e443e58d913409f78a311f by user :Myachin97
2022-10-12 13:30:11,237 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : e443e58d913409f78a311f
2022-10-12 13:30:11,251 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offer by id : 12
2022-10-12 13:30:12,096 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_DATE_OF_OFFER type with token: e443e58d913409f78a311f
2022-10-12 13:30:12,100 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : e443e58d913409f78a311f
2022-10-12 13:30:12,115 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-10] Change date of offer with id:12, with token :e443e58d913409f78a311f
2022-10-12 13:30:13,181 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelDateOfOfferCallbackType [http-nio-5000-exec-1] Got CANCEL_DATE_OF_OFFER callback type with canceled date :2022-11-07 and token: e443e58d913409f78a311f
2022-10-12 13:30:13,184 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : e443e58d913409f78a311f
2022-10-12 13:30:13,200 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 66
2022-10-12 13:30:13,200 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 66
2022-10-12 13:30:14,137 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.FinishChangeDateOfferCallbackType [http-nio-5000-exec-2] Got FINISH_DATE_OFFER callback type with token : e443e58d913409f78a311f by user : Myachin97
2022-10-12 13:30:14,141 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : e443e58d913409f78a311f
2022-10-12 13:30:14,160 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Update date of offer with first date : 2022-11-03 , and second date : null 
2022-10-12 13:30:14,161 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Get offer by id: 12
2022-10-12 13:30:14,188 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find drivers by first date :2022-11-03 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 13:30:15,028 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-3] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : e443e58d913409f78a311f by user : Myachin97
2022-10-12 13:30:15,033 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : e443e58d913409f78a311f
2022-10-12 13:30:15,046 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Delete request with id : 66
2022-10-12 13:30:15,164 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967, messageId: 840 and chatId :834450967
2022-10-12 13:31:02,154 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:31:02,161 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:31:02,170 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:31:06,461 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 17600 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:31:06,466 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:31:07,045 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:31:07,122 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2022-10-12 13:31:07,511 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:31:07,521 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:31:07,521 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:31:07,521 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:31:07,611 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:31:07,611 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1115 ms
2022-10-12 13:31:07,751 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:31:07,826 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:31:07,914 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:31:08,001 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:31:08,331 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:31:08,416 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:31:08,491 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:31:08,522 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:31:08,604 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:31:08,678 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:31:09,211 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:31:09,216 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:31:09,811 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:31:10,053 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:31:10,079 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:31:10,085 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:31:10,089 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:31:10,090 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:31:10,107 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:31:10,201 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:31:10,207 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:31:10,210 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:31:10,218 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:31:10,225 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:31:10,702 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.614 seconds (JVM running for 5.399)
2022-10-12 13:40:11,532 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 13:40:11,532 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 13:40:11,534 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-12 13:40:11,665 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] null
2022-10-12 13:40:29,569 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:40:29,575 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:40:29,581 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:40:38,905 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 16712 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:40:38,908 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:40:39,505 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:40:39,580 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2022-10-12 13:40:40,049 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-12 13:40:40,056 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-12 13:40:40,057 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:40:40,057 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:40:40,178 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:40:40,179 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1234 ms
2022-10-12 13:40:40,235 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class
2022-10-12 13:40:40,238 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-12 13:40:40,246 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-12 13:40:40,265 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).

2022-10-12 13:42:01,167 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 7868 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:42:01,173 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:42:01,664 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:42:01,724 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2022-10-12 13:42:02,154 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:42:02,165 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:42:02,165 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:42:02,165 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:42:02,254 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:42:02,254 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1049 ms
2022-10-12 13:42:02,364 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:42:02,441 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:42:02,523 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:42:02,607 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:42:02,907 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:42:02,977 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:42:03,064 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:42:03,104 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:42:03,209 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:42:03,299 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:42:03,899 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:42:03,904 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:42:04,674 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:42:05,004 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:42:05,021 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:42:05,024 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://1561-82-209-241-194.eu.ngrok.io
2022-10-12 13:42:05,024 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://1561-82-209-241-194.eu.ngrok.io
2022-10-12 13:42:05,024 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:42:05,045 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:42:05,147 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:42:05,158 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:42:05,160 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:42:05,166 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:42:05,175 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:42:05,784 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.002 seconds (JVM running for 5.766)
2022-10-12 13:42:13,164 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:42:13,164 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:42:13,174 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:42:16,420 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 26228 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:42:16,423 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:42:17,024 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:42:17,086 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2022-10-12 13:42:17,444 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:42:17,454 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:42:17,455 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:42:17,455 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:42:17,554 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:42:17,559 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1105 ms
2022-10-12 13:42:17,705 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:42:17,774 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:42:17,856 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:42:17,928 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:42:18,247 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:42:18,319 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:42:18,399 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:42:18,434 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:42:18,504 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:42:18,629 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:42:19,129 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:42:19,135 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:42:19,767 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:42:20,072 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:42:20,092 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:42:20,100 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:42:20,100 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:42:20,101 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:42:20,118 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:42:20,203 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:42:20,211 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:42:20,212 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:42:20,215 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:42:20,224 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:42:20,732 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.666 seconds (JVM running for 5.41)
2022-10-12 13:42:32,899 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 13:42:32,900 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 13:42:32,901 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 13:42:33,054 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] null
2022-10-12 13:42:47,891 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : 794805a3e88a77ccc35a60 by user : Myachin97
2022-10-12 13:42:47,928 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-12 13:42:47,963 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: 794805a3e88a77ccc35a60 with activity : PASSENGER
2022-10-12 13:42:47,964 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :794805a3e88a77ccc35a60
2022-10-12 13:42:48,927 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-3] Got callback : CANCEL_PASSENGER_REQUEST with token : 794805a3e88a77ccc35a60 by user : Myachin97
2022-10-12 13:42:48,931 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 794805a3e88a77ccc35a60
2022-10-12 13:42:48,968 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Delete request with id : 67
2022-10-12 13:42:49,127 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967, messageId: 841 and chatId :834450967
2022-10-12 13:42:49,901 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-12 13:42:49,906 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :174d309eb8765ca8bf9f63
2022-10-12 13:42:51,397 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : PASSENGER and token: 174d309eb8765ca8bf9f63
2022-10-12 13:42:51,402 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Check request by tokenId :174d309eb8765ca8bf9f63
2022-10-12 13:42:51,434 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 13:42:59,844 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :14 and token: 174d309eb8765ca8bf9f63 by user :Myachin97
2022-10-12 13:42:59,849 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 174d309eb8765ca8bf9f63
2022-10-12 13:42:59,864 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 14
2022-10-12 13:43:00,890 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ShowSuitableOffersCallbackType [http-nio-5000-exec-7] Get callback : SHOW_SUITABLE_OFFERS type with token : 174d309eb8765ca8bf9f63 by user : Myachin97
2022-10-12 13:43:00,893 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 174d309eb8765ca8bf9f63
2022-10-12 13:43:00,906 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-11-03 and second date:null with cities:[GDANSK, BREST]
2022-10-12 13:43:01,904 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-8] Index 2 out of bounds for length 2
2022-10-12 13:43:21,749 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:43:21,752 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:43:21,758 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:43:26,288 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 23080 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:43:26,291 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:43:26,895 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:43:26,959 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 58 ms. Found 5 JPA repository interfaces.
2022-10-12 13:43:27,343 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:43:27,353 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:43:27,353 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:43:27,354 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:43:27,456 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:43:27,456 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1127 ms
2022-10-12 13:43:27,591 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:43:27,656 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:43:27,743 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:43:27,830 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:43:28,179 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:43:28,266 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:43:28,335 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:43:28,369 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:43:28,450 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:43:28,520 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:43:29,026 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:43:29,032 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:43:29,620 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:43:29,852 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:43:29,868 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:43:29,877 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:43:29,876 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:43:29,878 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:43:29,897 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:43:29,979 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:43:29,986 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:43:29,986 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:43:29,990 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:43:29,998 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:43:30,509 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.567 seconds (JVM running for 5.328)
2022-10-12 13:43:32,918 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 13:43:32,919 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 13:43:32,920 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 13:43:33,087 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause
java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2
	at com.godeltech.springgodelbot.util.CallbackUtil.getCallbackValue(CallbackUtil.java:506)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType.createSendMessage(ChangeOfferCallbackType.java:29)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 13:43:33,189 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause
java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2
	at com.godeltech.springgodelbot.util.CallbackUtil.getCallbackValue(CallbackUtil.java:506)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType.createSendMessage(ChangeOfferCallbackType.java:29)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 13:43:35,242 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause
java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2
	at com.godeltech.springgodelbot.util.CallbackUtil.getCallbackValue(CallbackUtil.java:506)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType.createSendMessage(ChangeOfferCallbackType.java:29)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 13:43:39,296 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause
java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2
	at com.godeltech.springgodelbot.util.CallbackUtil.getCallbackValue(CallbackUtil.java:506)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType.createSendMessage(ChangeOfferCallbackType.java:29)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 13:43:47,350 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause
java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2
	at com.godeltech.springgodelbot.util.CallbackUtil.getCallbackValue(CallbackUtil.java:506)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType.createSendMessage(ChangeOfferCallbackType.java:29)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 13:44:03,401 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause
java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2
	at com.godeltech.springgodelbot.util.CallbackUtil.getCallbackValue(CallbackUtil.java:506)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType.createSendMessage(ChangeOfferCallbackType.java:29)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 13:44:09,401 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:44:09,403 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:44:09,409 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:44:13,684 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 4168 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:44:13,688 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:44:14,254 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:44:14,322 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2022-10-12 13:44:14,726 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:44:14,733 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:44:14,733 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:44:14,733 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:44:14,824 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:44:14,825 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1101 ms
2022-10-12 13:44:14,947 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:44:15,015 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:44:15,106 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:44:15,187 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:44:15,504 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:44:15,603 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:44:15,703 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:44:15,743 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:44:15,861 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:44:15,934 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:44:16,506 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:44:16,517 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:44:17,364 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:44:17,714 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:44:17,735 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:44:17,745 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:44:17,745 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:44:17,746 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:44:17,763 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:44:17,880 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:44:17,889 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:44:17,894 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:44:17,904 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:44:17,911 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:44:18,605 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.333 seconds (JVM running for 6.08)
2022-10-12 13:44:25,881 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 13:44:25,881 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 13:44:25,883 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 13:44:25,995 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-12 13:44:25,995 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group?
2022-10-12 13:44:26,114 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 13:44:26,128 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967 and chatId :834450967
2022-10-12 13:44:35,459 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2] with root cause
java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2
	at com.godeltech.springgodelbot.util.CallbackUtil.getCallbackValue(CallbackUtil.java:506)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType.createSendMessage(ChangeOfferCallbackType.java:29)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 13:45:08,582 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:45:08,582 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 13:45:08,593 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 13:45:12,937 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 18484 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 13:45:12,937 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 13:45:13,459 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 13:45:13,523 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2022-10-12 13:45:13,854 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 13:45:13,854 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 13:45:13,854 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 13:45:13,854 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 13:45:13,939 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 13:45:13,939 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 969 ms
2022-10-12 13:45:14,039 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 13:45:14,102 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 13:45:14,187 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 13:45:14,267 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 13:45:14,557 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 13:45:14,633 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 13:45:14,686 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 13:45:14,712 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 13:45:14,798 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 13:45:14,857 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 13:45:15,266 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 13:45:15,266 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 13:45:15,768 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 13:45:15,984 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 13:45:16,000 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 13:45:16,010 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:45:16,010 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 13:45:16,010 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:45:16,031 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 13:45:16,109 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 13:45:16,116 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 13:45:16,118 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 13:45:16,126 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 13:45:16,131 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 13:45:16,610 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.032 seconds (JVM running for 4.75)
2022-10-12 13:45:35,594 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 13:45:35,594 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 13:45:35,594 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-12 13:45:35,725 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] Index 2 out of bounds for length 2
2022-10-12 13:45:35,782 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-12 13:45:35,789 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :bd4fbd9a5cb28636036402
2022-10-12 13:45:35,960 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type
2022-10-12 13:45:35,960 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :bd4fbd9a5cb28636036402
2022-10-12 13:45:35,977 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] There was an answer on the message with id : bd4fbd9a5cb28636036402
2022-10-12 13:45:36,025 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-12 13:45:36,026 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :bd4fbd9a5cb28636036402
2022-10-12 13:45:36,037 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-4] There was an answer on the message with id : bd4fbd9a5cb28636036402
2022-10-12 13:45:36,083 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :PASSENGER and token : bd4fbd9a5cb28636036402 by user : Myachin97
2022-10-12 13:45:36,108 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-5] Find all routes
2022-10-12 13:45:36,129 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Save new request with tokenId: bd4fbd9a5cb28636036402 with activity : PASSENGER
2022-10-12 13:45:36,129 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :bd4fbd9a5cb28636036402
2022-10-12 13:45:36,139 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-5] There was an answer on the message with id : bd4fbd9a5cb28636036402
2022-10-12 13:45:36,186 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :DRIVER and token : bd4fbd9a5cb28636036402 by user : Myachin97
2022-10-12 13:45:36,186 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Save new request with tokenId: bd4fbd9a5cb28636036402 with activity : DRIVER
2022-10-12 13:45:36,186 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :bd4fbd9a5cb28636036402
2022-10-12 13:45:36,202 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] There was an answer on the message with id : bd4fbd9a5cb28636036402
2022-10-12 13:45:40,722 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-6] Callback with type :MY_OFFERS and activity : PASSENGER and token: bd4fbd9a5cb28636036402
2022-10-12 13:45:40,726 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Check request by tokenId :bd4fbd9a5cb28636036402
2022-10-12 13:45:40,774 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 13:45:43,437 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-8] Got CHANGE_OFFER callback type with route id :2 and token: bd4fbd9a5cb28636036402 by user :Myachin97
2022-10-12 13:45:43,442 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : bd4fbd9a5cb28636036402
2022-10-12 13:45:43,457 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 2
2022-10-12 13:45:44,669 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ShowSuitableOffersCallbackType [http-nio-5000-exec-9] Get callback : SHOW_SUITABLE_OFFERS type with token : bd4fbd9a5cb28636036402 by user : Myachin97
2022-10-12 13:45:44,673 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : bd4fbd9a5cb28636036402
2022-10-12 13:45:44,696 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find drivers by first date :2022-10-25 and second date:2022-10-28 with cities:[WROCLAW, BREST]
2022-10-12 13:45:45,605 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :2 and token: bd4fbd9a5cb28636036402 by user :Myachin97
2022-10-12 13:45:45,609 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : bd4fbd9a5cb28636036402
2022-10-12 13:45:45,620 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 2
2022-10-12 13:45:47,286 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : bd4fbd9a5cb28636036402
2022-10-12 13:45:47,297 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-1] Change description of offer with id: 2 and token : bd4fbd9a5cb28636036402 by user :Myachin97
2022-10-12 13:45:47,297 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Prepare request with id :69 and user id : 834450967 for save with description
2022-10-12 13:45:48,403 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-2] Got RETURN_TO_CHANGE_OF_OFFER type with token : bd4fbd9a5cb28636036402 by user : Myachin97
2022-10-12 13:45:48,408 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : bd4fbd9a5cb28636036402
2022-10-12 13:45:48,422 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Refresh change offer request with id : 2
2022-10-12 13:45:48,422 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 2
2022-10-12 13:45:49,309 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.DeleteOfferCallbackType [http-nio-5000-exec-3] Delete offer by id :2 and token: bd4fbd9a5cb28636036402 by user : Myachin97
2022-10-12 13:45:49,314 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : bd4fbd9a5cb28636036402
2022-10-12 13:45:49,326 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Delete offer by id : 2
2022-10-12 13:45:49,326 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Get offer by id: 2
2022-10-12 13:45:49,334 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Delete request with id : 69
2022-10-12 13:45:49,341 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967, messageId: 844 and chatId :834450967
2022-10-12 13:45:50,684 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-12 13:45:50,689 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :de4fe984aa9ffb65de603b
2022-10-12 13:45:51,671 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : PASSENGER and token: de4fe984aa9ffb65de603b
2022-10-12 13:45:51,676 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Check request by tokenId :de4fe984aa9ffb65de603b
2022-10-12 13:45:51,707 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 13:45:52,632 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-7] Got CHANGE_OFFER callback type with route id :14 and token: de4fe984aa9ffb65de603b by user :Myachin97
2022-10-12 13:45:52,637 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : de4fe984aa9ffb65de603b
2022-10-12 13:45:52,649 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offer by id : 14
2022-10-12 13:45:55,703 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_DATE_OF_OFFER type with token: de4fe984aa9ffb65de603b
2022-10-12 13:45:55,708 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : de4fe984aa9ffb65de603b
2022-10-12 13:45:55,719 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDateOfOfferCallbackType [http-nio-5000-exec-6] Change date of offer with id:14, with token :de4fe984aa9ffb65de603b
2022-10-12 13:45:56,687 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-8] Got RETURN_TO_CHANGE_OF_OFFER type with token : de4fe984aa9ffb65de603b by user : Myachin97
2022-10-12 13:45:56,692 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : de4fe984aa9ffb65de603b
2022-10-12 13:45:56,703 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Refresh change offer request with id : 14
2022-10-12 13:45:56,704 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-8] Find offer by id : 14
2022-10-12 13:45:57,698 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : de4fe984aa9ffb65de603b
2022-10-12 13:45:57,709 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeRouteOfOfferCallbackType [http-nio-5000-exec-9] Callback data with type: CHANGE_ROUTE_OF_OFFER with token: de4fe984aa9ffb65de603b by user : Myachin97
2022-10-12 13:45:57,711 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 70
2022-10-12 13:45:57,712 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 70
2022-10-12 13:45:58,504 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-10] Got RETURN_TO_CHANGE_OF_OFFER type with token : de4fe984aa9ffb65de603b by user : Myachin97
2022-10-12 13:45:58,509 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : de4fe984aa9ffb65de603b
2022-10-12 13:45:58,519 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Refresh change offer request with id : 14
2022-10-12 13:45:58,520 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 14
2022-10-12 13:45:59,278 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : de4fe984aa9ffb65de603b
2022-10-12 13:45:59,290 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeDescriptionOfOfferCallbackType [http-nio-5000-exec-1] Change description of offer with id: 14 and token : de4fe984aa9ffb65de603b by user :Myachin97
2022-10-12 13:45:59,291 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Prepare request with id :70 and user id : 834450967 for save with description
2022-10-12 13:46:00,165 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ReturnToChangeOfOfferCallbackType [http-nio-5000-exec-2] Got RETURN_TO_CHANGE_OF_OFFER type with token : de4fe984aa9ffb65de603b by user : Myachin97
2022-10-12 13:46:00,170 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : de4fe984aa9ffb65de603b
2022-10-12 13:46:00,178 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Refresh change offer request with id : 14
2022-10-12 13:46:00,179 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find offer by id : 14
2022-10-12 13:46:01,750 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-3] Callback with type :MY_OFFERS and activity : PASSENGER and token: de4fe984aa9ffb65de603b
2022-10-12 13:46:01,755 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Check request by tokenId :de4fe984aa9ffb65de603b
2022-10-12 13:46:01,785 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 13:46:02,799 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-4] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : de4fe984aa9ffb65de603b by user : Myachin97
2022-10-12 13:46:02,803 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : de4fe984aa9ffb65de603b
2022-10-12 13:46:02,817 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Delete request with id : 70
2022-10-12 13:46:02,924 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 844 and chatId :834450967
2022-10-12 13:57:38,544 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :PASSENGER and token : 6048b3b5aca5f83b12efd6 by user : Myachin97
2022-10-12 13:57:38,549 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Save new request with tokenId: 6048b3b5aca5f83b12efd6 with activity : PASSENGER
2022-10-12 13:57:38,550 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :6048b3b5aca5f83b12efd6
2022-10-12 14:03:47,625 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:03:47,625 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 14:03:47,637 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 14:03:53,141 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10548 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 14:03:53,150 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 14:03:53,719 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 14:03:53,786 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 58 ms. Found 5 JPA repository interfaces.
2022-10-12 14:03:54,138 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 14:03:54,154 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:03:54,154 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 14:03:54,154 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 14:03:54,239 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 14:03:54,239 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1052 ms
2022-10-12 14:03:54,341 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 14:03:54,413 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 14:03:54,504 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 14:03:54,589 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 14:03:54,906 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 14:03:54,981 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 14:03:55,045 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 14:03:55,093 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 14:03:55,182 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 14:03:55,256 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 14:03:55,874 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 14:03:55,884 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:03:56,634 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 14:03:57,015 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 14:03:57,050 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 14:03:57,063 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :Path of your server
2022-10-12 14:03:57,063 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:03:57,064 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :Path of your server
2022-10-12 14:03:57,086 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 14:03:57,236 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 14:03:57,247 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:03:57,252 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 14:03:57,264 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 14:03:57,277 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 14:03:57,325 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:03:57,326 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-12 14:03:57,330 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-5000"]
2022-10-12 14:03:57,333 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-5000"]
2022-10-12 14:03:57,338 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-12 14:03:57,373 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.reflect.UndeclaredThrowableException: Failed to invoke event listener method
HandlerMethod details: 
Bean [com.godeltech.springgodelbot.config.BotInitializer]
Method [public void com.godeltech.springgodelbot.config.BotInitializer.init()]
Resolved arguments: 

	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:361)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: java.net.URISyntaxException: Illegal character in path at index 33: https://api.telegram.org/botToken of your bot/setWebHook?url=Path of your server
	at java.base/java.net.URI$Parser.fail(URI.java:2913)
	at java.base/java.net.URI$Parser.checkChars(URI.java:3084)
	at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166)
	at java.base/java.net.URI$Parser.parse(URI.java:3114)
	at java.base/java.net.URI.<init>(URI.java:600)
	at com.godeltech.springgodelbot.service.impl.RestServiceImpl.setWebHook(RestServiceImpl.java:23)
	at com.godeltech.springgodelbot.config.BotInitializer.init(BotInitializer.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)
	... 16 common frames omitted
2022-10-12 14:03:57,381 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:03:57,385 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-12 14:03:57,394 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-12 14:06:47,388 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 25560 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 14:06:47,396 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 14:06:47,880 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 14:06:47,946 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 64 ms. Found 5 JPA repository interfaces.
2022-10-12 14:06:48,287 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 14:06:48,298 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:06:48,298 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 14:06:48,298 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 14:06:48,380 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 14:06:48,380 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 959 ms
2022-10-12 14:06:48,483 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 14:06:48,551 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 14:06:48,640 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 14:06:48,718 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 14:06:49,001 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 14:06:49,077 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 14:06:49,141 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 14:06:49,156 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 14:06:49,226 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 14:06:49,299 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 14:06:49,700 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 14:06:49,716 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:06:50,217 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 14:06:50,416 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 14:06:50,426 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 14:06:50,442 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:06:50,442 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://1561-82-209-241-194.eu.ngrok.io
2022-10-12 14:06:50,442 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://1561-82-209-241-194.eu.ngrok.io
2022-10-12 14:06:50,466 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 14:06:50,549 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 14:06:50,556 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 14:06:50,558 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:06:50,560 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 14:06:50,568 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 14:06:51,128 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.068 seconds (JVM running for 4.767)
2022-10-12 14:08:23,612 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:08:23,614 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 14:08:23,620 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 14:08:26,453 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 21904 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 14:08:26,458 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 14:08:26,979 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 14:08:27,039 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2022-10-12 14:08:27,401 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 14:08:27,406 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:08:27,407 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 14:08:27,407 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 14:08:27,492 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 14:08:27,492 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 998 ms
2022-10-12 14:08:27,605 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 14:08:27,665 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 14:08:27,758 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 14:08:27,827 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 14:08:28,141 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 14:08:28,221 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 14:08:28,289 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 14:08:28,314 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 14:08:28,395 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 14:08:28,457 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 14:08:28,970 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 14:08:28,977 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:08:29,541 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 14:08:29,760 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 14:08:29,776 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 14:08:29,784 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io 
2022-10-12 14:08:29,784 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io 
2022-10-12 14:08:29,784 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:08:29,800 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 14:08:29,883 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 14:08:29,889 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:08:29,892 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 14:08:29,899 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 14:08:29,905 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 14:08:29,964 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:08:29,965 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-12 14:08:29,968 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-5000"]
2022-10-12 14:08:29,974 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-5000"]
2022-10-12 14:08:29,977 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-12 14:08:29,994 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.reflect.UndeclaredThrowableException: Failed to invoke event listener method
HandlerMethod details: 
Bean [com.godeltech.springgodelbot.config.BotInitializer]
Method [public void com.godeltech.springgodelbot.config.BotInitializer.init()]
Resolved arguments: 

	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:361)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: java.net.URISyntaxException: Illegal character in query at index 129: https://api.telegram.org/bot5632797057:AAEsYViQIVtN7q0YiHH-VfGE_t30uYHJues/setWebHook?url=https://b055-82-209-241-194.eu.ngrok.io 
	at java.base/java.net.URI$Parser.fail(URI.java:2913)
	at java.base/java.net.URI$Parser.checkChars(URI.java:3084)
	at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3172)
	at java.base/java.net.URI$Parser.parse(URI.java:3114)
	at java.base/java.net.URI.<init>(URI.java:600)
	at com.godeltech.springgodelbot.service.impl.RestServiceImpl.setWebHook(RestServiceImpl.java:23)
	at com.godeltech.springgodelbot.config.BotInitializer.init(BotInitializer.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)
	... 16 common frames omitted
2022-10-12 14:08:30,001 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:08:30,003 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-12 14:08:30,011 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-12 14:08:48,428 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 10436 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 14:08:48,430 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 14:08:48,982 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 14:08:49,052 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60 ms. Found 5 JPA repository interfaces.
2022-10-12 14:08:49,409 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 14:08:49,414 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:08:49,415 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 14:08:49,415 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 14:08:49,515 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 14:08:49,515 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1050 ms
2022-10-12 14:08:49,625 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 14:08:49,691 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 14:08:49,777 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 14:08:49,857 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 14:08:50,151 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 14:08:50,234 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 14:08:50,300 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 14:08:50,325 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 14:08:50,400 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 14:08:50,462 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 14:08:50,902 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 14:08:50,908 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:08:51,500 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 14:08:51,722 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 14:08:51,742 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 14:08:51,749 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 14:08:51,748 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:08:51,750 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 14:08:51,766 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 14:08:51,847 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 14:08:51,853 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:08:51,856 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 14:08:51,865 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 14:08:51,873 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 14:08:52,130 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 14:08:52,130 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 14:08:52,131 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 14:08:52,240 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : {}
2022-10-12 14:08:52,398 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.322 seconds (JVM running for 5.027)
2022-10-12 14:08:52,538 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Find request for saving with user id : 834450967
2022-10-12 14:08:52,553 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] Unknown message with from chat id : -870862809 and tittle :MyChat 
2022-10-12 14:08:52,603 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : {}
2022-10-12 14:08:52,669 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Find request for saving with user id : 834450967
2022-10-12 14:08:52,677 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-2] Unknown message with from chat id : -870862809 and tittle :MyChat 
2022-10-12 14:18:09,936 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-7] Got callback : CANCEL_PASSENGER_REQUEST with token : 6048b3b5aca5f83b12efd6 by user : Myachin97
2022-10-12 14:18:09,941 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 6048b3b5aca5f83b12efd6
2022-10-12 14:18:09,982 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Delete request with id : 71
2022-10-12 14:18:10,277 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Create new token with userId :834450967, messageId: 845 and chatId :834450967
2022-10-12 14:18:11,279 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-8] Got OFFERS_ACTIVITY callback type
2022-10-12 14:18:11,283 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Income message with token :954a42aab2a787c8771dea
2022-10-12 14:18:12,168 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-9] Callback with type :MY_OFFERS and activity : DRIVER and token: 954a42aab2a787c8771dea
2022-10-12 14:18:12,172 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Check request by tokenId :954a42aab2a787c8771dea
2022-10-12 14:18:12,212 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-9] Find offers by id:834450967 and activity :DRIVER
2022-10-12 14:18:15,398 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-10] Got CHANGE_OFFER callback type with route id :7 and token: 954a42aab2a787c8771dea by user :Myachin97
2022-10-12 14:18:15,402 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 954a42aab2a787c8771dea
2022-10-12 14:18:15,418 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-10] Find offer by id : 7
2022-10-12 14:18:17,839 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : DRIVER and token: 954a42aab2a787c8771dea
2022-10-12 14:18:17,843 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Check request by tokenId :954a42aab2a787c8771dea
2022-10-12 14:18:17,872 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :DRIVER
2022-10-12 14:18:18,878 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-3] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 954a42aab2a787c8771dea by user : Myachin97
2022-10-12 14:18:18,883 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 954a42aab2a787c8771dea
2022-10-12 14:18:18,897 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Delete request with id : 72
2022-10-12 14:18:19,005 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967, messageId: 848 and chatId :834450967
2022-10-12 14:18:20,095 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-2] Got OFFERS_ACTIVITY callback type
2022-10-12 14:18:20,100 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :f747c993476fdca0c22cb5
2022-10-12 14:18:21,013 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : PASSENGER and token: f747c993476fdca0c22cb5
2022-10-12 14:18:21,019 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Check request by tokenId :f747c993476fdca0c22cb5
2022-10-12 14:18:21,050 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 14:18:23,139 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-5] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : f747c993476fdca0c22cb5 by user : Myachin97
2022-10-12 14:18:23,143 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : f747c993476fdca0c22cb5
2022-10-12 14:18:23,157 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Delete request with id : 73
2022-10-12 14:18:23,320 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token with userId :834450967, messageId: 849 and chatId :834450967
2022-10-12 14:18:24,211 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-6] Got ACTIVITY callback type with activity :PASSENGER and token : d545b39927d6518f607826 by user : Myachin97
2022-10-12 14:18:24,240 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-6] Find all routes
2022-10-12 14:18:24,255 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Save new request with tokenId: d545b39927d6518f607826 with activity : PASSENGER
2022-10-12 14:18:24,255 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :d545b39927d6518f607826
2022-10-12 14:18:25,670 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-7] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: d545b39927d6518f607826 by user : Myachin97
2022-10-12 14:18:25,677 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : d545b39927d6518f607826
2022-10-12 14:18:25,689 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 74
2022-10-12 14:18:25,689 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 74
2022-10-12 14:18:27,616 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: d545b39927d6518f607826 by user : Myachin97
2022-10-12 14:18:27,620 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : d545b39927d6518f607826
2022-10-12 14:18:27,633 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 74
2022-10-12 14:18:27,633 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 74
2022-10-12 14:18:28,356 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-9] Callback data with type: CHOSE_DATE_PASSENGER with token : d545b39927d6518f607826 by user :Myachin97
2022-10-12 14:18:28,362 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : d545b39927d6518f607826
2022-10-12 14:18:29,329 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_PASSENGER type with first date :2022-10-12 with token: d545b39927d6518f607826 by user : Myachin97
2022-10-12 14:18:29,334 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : d545b39927d6518f607826
2022-10-12 14:18:29,345 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 74
2022-10-12 14:18:29,346 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 74
2022-10-12 14:18:30,302 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-1] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-10 and token : d545b39927d6518f607826 by user : Myachin97
2022-10-12 14:18:30,307 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : d545b39927d6518f607826
2022-10-12 14:18:30,319 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 74
2022-10-12 14:18:30,319 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 74
2022-10-12 14:18:31,460 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-3] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : d545b39927d6518f607826 by user : Myachin97
2022-10-12 14:18:31,464 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : d545b39927d6518f607826
2022-10-12 14:18:31,476 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-3] Find drivers by first date :2022-10-12 and second date:2022-11-10 with cities:[BELASTOK, BREST]
2022-10-12 14:19:49,761 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:19:49,765 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 14:19:49,771 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 14:19:54,530 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15704 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 14:19:54,546 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 14:19:55,112 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 14:19:55,193 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2022-10-12 14:19:55,594 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 14:19:55,611 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:19:55,611 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 14:19:55,611 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 14:19:55,710 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 14:19:55,710 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1132 ms
2022-10-12 14:19:55,847 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 14:19:55,921 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 14:19:56,021 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 14:19:56,115 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 14:19:56,456 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 14:19:56,534 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 14:19:56,611 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 14:19:56,637 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 14:19:56,748 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 14:19:56,833 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 14:19:57,369 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 14:19:57,369 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:19:58,034 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 14:19:58,292 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 14:19:58,309 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 14:19:58,318 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :Path of your server
2022-10-12 14:19:58,318 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:19:58,318 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :Path of your server
2022-10-12 14:19:58,338 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 14:19:58,431 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 14:19:58,436 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:19:58,440 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 14:19:58,446 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 14:19:58,450 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 14:19:58,503 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:19:58,503 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-12 14:19:58,503 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-5000"]
2022-10-12 14:19:58,503 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-5000"]
2022-10-12 14:19:58,503 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-12 14:19:58,534 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.reflect.UndeclaredThrowableException: Failed to invoke event listener method
HandlerMethod details: 
Bean [com.godeltech.springgodelbot.config.BotInitializer]
Method [public void com.godeltech.springgodelbot.config.BotInitializer.init()]
Resolved arguments: 

	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:361)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: java.net.URISyntaxException: Illegal character in path at index 33: https://api.telegram.org/botToken of your bot/setWebHook?url=Path of your server
	at java.base/java.net.URI$Parser.fail(URI.java:2913)
	at java.base/java.net.URI$Parser.checkChars(URI.java:3084)
	at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166)
	at java.base/java.net.URI$Parser.parse(URI.java:3114)
	at java.base/java.net.URI.<init>(URI.java:600)
	at com.godeltech.springgodelbot.service.impl.RestServiceImpl.setWebHook(RestServiceImpl.java:23)
	at com.godeltech.springgodelbot.config.BotInitializer.init(BotInitializer.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)
	... 16 common frames omitted
2022-10-12 14:19:58,534 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:19:58,550 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-12 14:19:58,562 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-12 14:20:13,086 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15316 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 14:20:13,086 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 14:20:13,760 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 14:20:13,842 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 66 ms. Found 5 JPA repository interfaces.
2022-10-12 14:20:14,318 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 14:20:14,328 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:20:14,329 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 14:20:14,329 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 14:20:14,430 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 14:20:14,430 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1316 ms
2022-10-12 14:20:14,576 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 14:20:14,653 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 14:20:14,755 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 14:20:14,834 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 14:20:15,196 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 14:20:15,294 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 14:20:15,369 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 14:20:15,417 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 14:20:15,519 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 14:20:15,603 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 14:20:16,118 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 14:20:16,134 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:20:16,778 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 14:20:17,046 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 14:20:17,074 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 14:20:17,074 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 14:20:17,074 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:20:17,074 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 14:20:17,103 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 14:20:17,193 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 14:20:17,198 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:20:17,201 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 14:20:17,207 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 14:20:17,213 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 14:20:17,824 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.114 seconds (JVM running for 5.94)
2022-10-12 14:20:18,349 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 14:20:18,350 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 14:20:18,351 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 14:20:18,496 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-1] Got callback : CANCEL_PASSENGER_REQUEST with token : d545b39927d6518f607826 by user : Myachin97
2022-10-12 14:20:18,509 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : d545b39927d6518f607826
2022-10-12 14:20:18,562 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Delete request with id : 74
2022-10-12 14:20:18,765 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967, messageId: 850 and chatId :834450967
2022-10-12 14:20:19,972 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : e74dc1ac3c76f9166118e7 by user : Myachin97
2022-10-12 14:20:20,009 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-12 14:20:20,023 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: e74dc1ac3c76f9166118e7 with activity : PASSENGER
2022-10-12 14:20:20,024 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :e74dc1ac3c76f9166118e7
2022-10-12 14:20:24,397 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-3] Got callback : CANCEL_PASSENGER_REQUEST with token : e74dc1ac3c76f9166118e7 by user : Myachin97
2022-10-12 14:20:24,403 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : e74dc1ac3c76f9166118e7
2022-10-12 14:20:24,416 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Delete request with id : 75
2022-10-12 14:20:24,517 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967, messageId: 851 and chatId :834450967
2022-10-12 14:20:25,903 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-4] Got OFFERS_ACTIVITY callback type
2022-10-12 14:20:25,907 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Income message with token :204d3e8a89ef73aa51607e
2022-10-12 14:20:26,769 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-5] Callback with type :MY_OFFERS and activity : DRIVER and token: 204d3e8a89ef73aa51607e
2022-10-12 14:20:26,774 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Check request by tokenId :204d3e8a89ef73aa51607e
2022-10-12 14:20:26,809 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find offers by id:834450967 and activity :DRIVER
2022-10-12 14:20:28,978 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.ChangeOfferCallbackType [http-nio-5000-exec-6] Got CHANGE_OFFER callback type with route id :7 and token: 204d3e8a89ef73aa51607e by user :Myachin97
2022-10-12 14:20:28,984 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 204d3e8a89ef73aa51607e
2022-10-12 14:20:28,998 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find offer by id : 7
2022-10-12 14:20:30,394 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-7] Callback with type :MY_OFFERS and activity : DRIVER and token: 204d3e8a89ef73aa51607e
2022-10-12 14:20:30,400 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Check request by tokenId :204d3e8a89ef73aa51607e
2022-10-12 14:20:30,432 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find offers by id:834450967 and activity :DRIVER
2022-10-12 14:20:32,371 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-8] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 204d3e8a89ef73aa51607e by user : Myachin97
2022-10-12 14:20:32,375 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 204d3e8a89ef73aa51607e
2022-10-12 14:20:32,387 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Delete request with id : 76
2022-10-12 14:20:32,501 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token with userId :834450967, messageId: 852 and chatId :834450967
2022-10-12 14:20:34,051 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-9] Got ACTIVITY callback type with activity :PASSENGER and token : c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:20:34,057 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Save new request with tokenId: c645fc8e48494d8d00b40c with activity : PASSENGER
2022-10-12 14:20:34,058 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-9] Income message with token :c645fc8e48494d8d00b40c
2022-10-12 14:20:35,320 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-10] Callback data with type: PASSENGER_ROUTE and routeId: 2 and with token: c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:20:35,327 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:20:35,339 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 77
2022-10-12 14:20:35,340 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 77
2022-10-12 14:20:36,401 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-1] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:20:36,408 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:20:36,422 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 77
2022-10-12 14:20:36,423 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 77
2022-10-12 14:20:37,682 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-2] Callback data with type: CHOSE_DATE_PASSENGER with token : c645fc8e48494d8d00b40c by user :Myachin97
2022-10-12 14:20:37,687 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:20:39,516 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-3] Got FIRST_DATE_PASSENGER type with first date :2022-10-12 with token: c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:20:39,519 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:20:39,532 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 77
2022-10-12 14:20:39,532 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 77
2022-10-12 14:20:40,578 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-4] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-10 and token : c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:20:40,584 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:20:47,046 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 77
2022-10-12 14:20:47,047 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 77
2022-10-12 14:21:00,823 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-5] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:21:00,828 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:21:04,059 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-5] Find drivers by first date :2022-10-12 and second date:2022-11-10 with cities:[BELASTOK, BREST]
2022-10-12 14:24:45,636 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m57s962ms411µs500ns).
2022-10-12 14:24:46,864 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-7] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:24:46,864 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-6] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:24:46,869 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:24:46,869 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:24:47,695 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find drivers by first date :2022-10-12 and second date:2022-11-10 with cities:[BELASTOK, BREST]
2022-10-12 14:24:47,695 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-10-12 and second date:2022-11-10 with cities:[BELASTOK, BREST]
2022-10-12 14:24:57,688 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:24:57,688 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 14:24:57,699 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 14:25:02,789 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 19820 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 14:25:02,789 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 14:25:03,286 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 14:25:03,354 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-10-12 14:25:03,722 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 14:25:03,726 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:25:03,726 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 14:25:03,726 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 14:25:03,821 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 14:25:03,821 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 982 ms
2022-10-12 14:25:03,939 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 14:25:04,019 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 14:25:04,113 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 14:25:04,200 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 14:25:04,533 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 14:25:04,614 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 14:25:04,672 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 14:25:04,717 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 14:25:04,810 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 14:25:04,887 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 14:25:05,422 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 14:25:05,422 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:25:06,158 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 14:25:06,460 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 14:25:06,469 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 14:25:06,486 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 14:25:06,486 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:25:06,486 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 14:25:06,515 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 14:25:06,624 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 14:25:06,632 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 14:25:06,633 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:25:06,637 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 14:25:06,646 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 14:25:07,162 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.717 seconds (JVM running for 5.395)
2022-10-12 14:25:10,360 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 14:25:10,360 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 14:25:10,361 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 14:25:10,446 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-1] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:25:10,457 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:25:10,492 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find drivers by first date :2022-10-12 and second date:2022-11-10 with cities:[BELASTOK, BREST]
2022-10-12 14:25:14,281 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_PASSENGER_REQUEST with token : c645fc8e48494d8d00b40c by user : Myachin97
2022-10-12 14:25:14,285 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : c645fc8e48494d8d00b40c
2022-10-12 14:25:14,299 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Delete request with id : 77
2022-10-12 14:25:14,452 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967, messageId: 853 and chatId :834450967
2022-10-12 14:25:18,966 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:25:18,966 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 14:25:18,978 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 14:32:30,917 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 25240 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 14:32:30,921 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 14:32:31,549 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 14:32:31,617 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 70 ms. Found 5 JPA repository interfaces.
2022-10-12 14:32:31,998 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 14:32:31,998 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:32:31,998 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 14:32:31,998 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 14:32:32,082 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 14:32:32,082 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1131 ms
2022-10-12 14:32:32,193 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 14:32:32,259 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 14:32:32,343 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 14:32:32,411 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 14:32:32,706 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 14:32:32,783 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 14:32:32,831 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 14:32:32,867 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 14:32:32,931 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 14:32:33,000 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 14:32:33,405 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 14:32:33,405 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:32:33,916 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 14:32:34,132 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 14:32:34,152 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 14:32:34,152 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :Path of your server
2022-10-12 14:32:34,152 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:32:34,168 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :Path of your server
2022-10-12 14:32:34,183 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 14:32:34,271 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 14:32:34,277 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 14:32:34,280 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 14:32:34,286 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 14:32:34,290 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 14:32:34,334 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-5000"]
2022-10-12 14:32:34,334 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-12 14:32:34,334 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-5000"]
2022-10-12 14:32:34,334 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-5000"]
2022-10-12 14:32:34,340 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-12 14:32:34,354 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.reflect.UndeclaredThrowableException: Failed to invoke event listener method
HandlerMethod details: 
Bean [com.godeltech.springgodelbot.config.BotInitializer]
Method [public void com.godeltech.springgodelbot.config.BotInitializer.init()]
Resolved arguments: 

	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:361)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: java.net.URISyntaxException: Illegal character in path at index 33: https://api.telegram.org/botToken of your bot/setWebHook?url=Path of your server
	at java.base/java.net.URI$Parser.fail(URI.java:2913)
	at java.base/java.net.URI$Parser.checkChars(URI.java:3084)
	at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166)
	at java.base/java.net.URI$Parser.parse(URI.java:3114)
	at java.base/java.net.URI.<init>(URI.java:600)
	at com.godeltech.springgodelbot.service.impl.RestServiceImpl.setWebHook(RestServiceImpl.java:23)
	at com.godeltech.springgodelbot.config.BotInitializer.init(BotInitializer.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)
	... 16 common frames omitted
2022-10-12 14:32:34,354 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 14:32:34,354 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-12 14:32:34,376 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-12 15:40:15,211 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 9260 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 15:40:15,215 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 15:40:15,826 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 15:40:15,894 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 59 ms. Found 5 JPA repository interfaces.
2022-10-12 15:40:16,313 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 15:40:16,315 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 15:40:16,315 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 15:40:16,315 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 15:40:16,415 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 15:40:16,415 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1165 ms
2022-10-12 15:40:16,555 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 15:40:16,615 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 15:40:16,714 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 15:40:16,800 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 15:40:17,142 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 15:40:17,234 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 15:40:17,313 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 15:40:17,347 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 15:40:17,463 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 15:40:17,539 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 15:40:18,090 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 15:40:18,090 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 15:40:18,766 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 15:40:19,045 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 15:40:19,065 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 15:40:19,074 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 15:40:19,073 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 15:40:19,074 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 15:40:19,089 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 15:40:19,185 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 15:40:19,191 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 15:40:19,195 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 15:40:19,203 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 15:40:19,209 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 15:40:19,740 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.967 seconds (JVM running for 5.806)
2022-10-12 15:40:34,277 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 15:40:34,277 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 15:40:34,279 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-12 15:40:34,491 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-12 15:42:45,261 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m28s527ms150µs).
2022-10-12 15:42:45,264 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-3] Got /start message
2022-10-12 15:42:45,266 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-2] Got /start message
2022-10-12 15:42:45,266 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-12 15:42:45,266 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-12 15:42:45,266 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-12 15:42:45,868 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-12 15:42:45,868 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 15:42:45,879 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967 and chatId :834450967
2022-10-12 15:42:45,879 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967 and chatId :834450967
2022-10-12 15:42:45,883 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-12 15:42:45,888 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967 and chatId :834450967
2022-10-12 15:42:46,088 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 15:42:46,088 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 15:42:46,099 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 15:42:50,869 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 7864 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 15:42:50,869 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 15:42:51,465 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 15:42:51,533 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2022-10-12 15:42:51,926 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 15:42:51,933 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 15:42:51,933 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 15:42:51,933 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 15:42:52,028 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 15:42:52,028 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1124 ms
2022-10-12 15:42:52,154 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 15:42:52,230 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 15:42:52,335 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 15:42:52,425 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 15:42:52,742 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 15:42:52,823 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 15:42:52,880 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 15:42:52,910 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 15:42:52,975 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 15:42:53,041 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 15:42:53,459 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 15:42:53,459 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 15:42:53,998 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 15:42:54,216 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 15:42:54,234 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 15:42:54,234 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 15:42:54,234 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 15:42:54,234 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 15:42:54,259 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 15:42:54,340 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 15:42:54,346 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 15:42:54,350 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 15:42:54,358 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 15:42:54,365 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 15:42:54,854 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.365 seconds (JVM running for 5.132)
2022-10-12 15:42:57,022 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 15:42:57,022 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 15:42:57,023 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 15:42:57,143 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-1] Got /start message
2022-10-12 15:42:57,150 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-12 15:42:57,250 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 15:42:57,261 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Create new token with userId :834450967 and chatId :834450967
2022-10-12 15:42:58,990 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-3] Got /start message
2022-10-12 15:42:58,991 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin97
2022-10-12 15:42:59,062 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-12 15:42:59,069 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967 and chatId :834450967
2022-10-12 15:43:01,898 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-2] Got /start message
2022-10-12 15:43:01,900 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-12 15:43:01,979 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-12 15:43:01,986 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967 and chatId :834450967
2022-10-12 15:43:12,954 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-5] Got /help message
2022-10-12 15:45:20,271 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 15:45:20,271 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 15:45:20,281 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 16:30:41,350 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 21304 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 16:30:41,350 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 16:30:41,938 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 16:30:41,991 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2022-10-12 16:30:42,331 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 16:30:42,331 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 16:30:42,331 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 16:30:42,331 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 16:30:42,431 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 16:30:42,431 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1044 ms
2022-10-12 16:30:42,549 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 16:30:42,614 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 16:30:42,698 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 16:30:42,781 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 16:30:43,091 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 16:30:43,160 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 16:30:43,218 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 16:30:43,250 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 16:30:43,325 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 16:30:43,378 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 16:30:43,866 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 16:30:43,872 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 16:30:44,412 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 16:30:44,629 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 16:30:44,646 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 16:30:44,663 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 16:30:44,663 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 16:30:44,663 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 16:30:44,682 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 16:30:44,772 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 16:30:44,779 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 16:30:44,782 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 16:30:44,792 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 16:30:44,799 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 16:30:45,289 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.293 seconds (JVM running for 4.998)
2022-10-12 16:31:08,270 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 16:31:08,270 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 16:31:08,270 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-12 16:31:08,369 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-12 16:31:08,456 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Find request for saving with user id : 834450967
2022-10-12 16:31:08,472 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] Unknown message with from chat id : -870862809 and tittle :MyChat 
2022-10-12 16:31:08,528 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : Myachin97
2022-10-12 16:31:08,592 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Find request for saving with user id : 834450967
2022-10-12 16:31:08,600 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-2] Unknown message with from chat id : -870862809 and tittle :MyChat 
2022-10-12 16:32:38,820 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-4] Got /start message
2022-10-12 16:32:38,820 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-12 16:32:39,038 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-12 16:32:39,050 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967 and chatId :834450967
2022-10-12 16:32:41,218 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :PASSENGER and token : c34656bfc48c55222b8bff by user : Myachin97
2022-10-12 16:32:41,258 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-5] Find all routes
2022-10-12 16:32:41,280 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Save new request with tokenId: c34656bfc48c55222b8bff with activity : PASSENGER
2022-10-12 16:32:41,280 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :c34656bfc48c55222b8bff
2022-10-12 16:32:42,322 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-6] Got callback : CANCEL_PASSENGER_REQUEST with token : c34656bfc48c55222b8bff by user : Myachin97
2022-10-12 16:32:42,326 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : c34656bfc48c55222b8bff
2022-10-12 16:32:42,353 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Delete request with id : 78
2022-10-12 16:32:42,483 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token with userId :834450967, messageId: 868 and chatId :834450967
2022-10-12 16:33:02,729 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-7] Got ACTIVITY callback type with activity :PASSENGER and token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:02,735 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Save new request with tokenId: c34e38a984ea7f914edf48 with activity : PASSENGER
2022-10-12 16:33:02,736 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :c34e38a984ea7f914edf48
2022-10-12 16:33:03,646 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-8] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:03,652 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:03,663 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 79
2022-10-12 16:33:03,663 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 79
2022-10-12 16:33:04,387 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-9] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:04,392 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:04,407 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 79
2022-10-12 16:33:04,407 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 79
2022-10-12 16:33:05,574 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-10] Callback data with type: CHOSE_DATE_PASSENGER with token : c34e38a984ea7f914edf48 by user :null
2022-10-12 16:33:05,577 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:06,441 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-1] Got FIRST_DATE_PASSENGER type with first date :2022-11-03 with token: c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:06,447 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:06,458 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Update request with id : 79
2022-10-12 16:33:06,458 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by id : 79
2022-10-12 16:33:10,832 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-2] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:10,837 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:10,848 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find drivers by first date :2022-11-03 and second date:null with cities:[WROCLAW, BREST]
2022-10-12 16:33:17,092 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-3] Got callback with type : CHECK_PASSENGER_REQUEST with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:17,098 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:17,190 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:33:17,345 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-3] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:17,351 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.checkUsername(CheckPassengerCallbackType.java:54)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.createSendMessage(CheckPassengerCallbackType.java:45)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:17,424 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-4] Got callback with type : CHECK_PASSENGER_REQUEST with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:17,425 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:17,500 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Can't delete message with message Id : 869
2022-10-12 16:33:17,502 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-4] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:33:17,556 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-4] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:17,556 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.checkUsername(CheckPassengerCallbackType.java:54)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.createSendMessage(CheckPassengerCallbackType.java:45)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:19,624 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-5] Got callback with type : CHECK_PASSENGER_REQUEST with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:19,627 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:19,700 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Can't delete message with message Id : 869
2022-10-12 16:33:19,700 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-5] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:33:19,796 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-5] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:19,800 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.checkUsername(CheckPassengerCallbackType.java:54)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.createSendMessage(CheckPassengerCallbackType.java:45)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:23,856 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-6] Got callback with type : CHECK_PASSENGER_REQUEST with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:23,860 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:23,925 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Can't delete message with message Id : 869
2022-10-12 16:33:23,925 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-6] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:33:24,025 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-6] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:24,025 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.checkUsername(CheckPassengerCallbackType.java:54)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.createSendMessage(CheckPassengerCallbackType.java:45)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:32,080 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-7] Got callback with type : CHECK_PASSENGER_REQUEST with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:32,090 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:32,174 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Can't delete message with message Id : 869
2022-10-12 16:33:32,174 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:33:32,228 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-7] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:32,228 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-7] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.checkUsername(CheckPassengerCallbackType.java:54)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.createSendMessage(CheckPassengerCallbackType.java:45)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:48,296 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-8] Got callback with type : CHECK_PASSENGER_REQUEST with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:33:48,301 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:33:48,405 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Can't delete message with message Id : 869
2022-10-12 16:33:48,405 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-8] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:33:48,463 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-8] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:33:48,463 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.checkUsername(CheckPassengerCallbackType.java:54)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.createSendMessage(CheckPassengerCallbackType.java:45)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:34:20,525 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-9] Got callback with type : CHECK_PASSENGER_REQUEST with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:34:20,530 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:34:20,736 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Can't delete message with message Id : 869
2022-10-12 16:34:20,736 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-9] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:34:20,783 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-9] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:34:20,783 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-9] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.checkUsername(CheckPassengerCallbackType.java:54)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.createSendMessage(CheckPassengerCallbackType.java:45)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at jdk.internal.reflect.GeneratedMethodAccessor106.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:35:03,574 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 16:35:03,574 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 16:35:03,586 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 16:35:07,264 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 21448 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 16:35:07,264 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 16:35:07,871 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 16:35:07,931 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 66 ms. Found 5 JPA repository interfaces.
2022-10-12 16:35:08,425 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 16:35:08,436 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 16:35:08,436 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 16:35:08,436 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 16:35:08,580 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 16:35:08,580 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1281 ms
2022-10-12 16:35:08,741 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 16:35:08,817 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 16:35:08,902 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 16:35:08,985 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 16:35:09,320 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 16:35:09,395 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 16:35:09,466 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 16:35:09,501 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 16:35:09,601 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 16:35:09,685 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 16:35:10,186 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 16:35:10,202 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 16:35:10,870 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 16:35:11,187 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 16:35:11,203 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 16:35:11,203 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 16:35:11,203 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 16:35:11,203 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 16:35:11,233 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 16:35:11,319 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 16:35:11,324 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 16:35:11,327 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 16:35:11,337 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 16:35:11,344 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 16:35:11,883 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.99 seconds (JVM running for 5.823)
2022-10-12 16:35:20,923 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 16:35:20,923 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 16:35:20,923 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-12 16:35:21,035 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-1] Got callback with type : CHECK_PASSENGER_REQUEST with token : c34e38a984ea7f914edf48 by user : null
2022-10-12 16:35:21,054 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : c34e38a984ea7f914edf48
2022-10-12 16:35:21,166 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Can't delete message with message Id : 869
2022-10-12 16:36:16,823 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m7s892ms489µs600ns).
2022-10-12 16:36:16,815 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:36:40,296 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-2] Got ACTIVITY callback type with activity :PASSENGER and token : fd4de2aa956d5305afdfae by user : null
2022-10-12 16:36:40,350 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-2] Find all routes
2022-10-12 16:36:40,365 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Save new request with tokenId: fd4de2aa956d5305afdfae with activity : PASSENGER
2022-10-12 16:36:40,365 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Income message with token :fd4de2aa956d5305afdfae
2022-10-12 16:36:40,595 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-1] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:36:40,603 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.checkUsername(CheckPassengerCallbackType.java:54)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType.createSendMessage(CheckPassengerCallbackType.java:45)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:37:23,172 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-3] Got /start message
2022-10-12 16:37:23,173 INFO com.godeltech.springgodelbot.resolver.message.type.impl.TextAndEntityMessageType [http-nio-5000-exec-3] User has null username
2022-10-12 16:37:23,173 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:37:25,607 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-4] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: fd4de2aa956d5305afdfae by user : null
2022-10-12 16:37:25,615 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:37:25,625 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 80
2022-10-12 16:37:25,626 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 80
2022-10-12 16:37:26,350 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-5] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: fd4de2aa956d5305afdfae by user : null
2022-10-12 16:37:26,356 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:37:26,369 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 80
2022-10-12 16:37:26,369 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 80
2022-10-12 16:37:27,584 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-6] Callback data with type: CHOSE_DATE_PASSENGER with token : fd4de2aa956d5305afdfae by user :null
2022-10-12 16:37:27,589 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:37:28,887 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type by user : null
2022-10-12 16:37:45,665 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type by user : null
2022-10-12 16:38:11,207 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=54s366ms32µs900ns).
2022-10-12 16:38:11,258 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-9] Got FIRST_DATE_PASSENGER type with first date :2022-11-06 with token: fd4de2aa956d5305afdfae by user : null
2022-10-12 16:38:11,262 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:38:11,268 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Update request with id : 80
2022-10-12 16:38:11,268 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by id : 80
2022-10-12 16:38:11,331 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_PASSENGER type with first date :2022-11-07 with token: fd4de2aa956d5305afdfae by user : null
2022-10-12 16:38:11,331 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:38:11,345 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 80
2022-10-12 16:38:11,345 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 80
2022-10-12 16:38:16,537 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-2] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : fd4de2aa956d5305afdfae by user : null
2022-10-12 16:38:16,541 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:38:19,243 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-2] Find drivers by first date :2022-11-07 and second date:null with cities:[WROCLAW, GDANSK]
2022-10-12 16:38:30,741 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-1] Got callback with type : CHECK_PASSENGER_REQUEST with token : fd4de2aa956d5305afdfae by user : null
2022-10-12 16:38:30,745 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:38:30,986 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:41:12,847 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m1s638ms491µs).
2022-10-12 16:41:12,850 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-4] Got callback with type : CHECK_PASSENGER_REQUEST with token : fd4de2aa956d5305afdfae by user : null
2022-10-12 16:41:12,850 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-3] Got callback with type : CHECK_PASSENGER_REQUEST with token : fd4de2aa956d5305afdfae by user : null
2022-10-12 16:41:12,854 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:41:12,854 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : fd4de2aa956d5305afdfae
2022-10-12 16:41:13,042 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-1] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:41:13,051 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Can't delete message with message Id : 862
2022-10-12 16:41:13,051 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:41:13,099 ERROR com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Can't delete message with message Id : 862
2022-10-12 16:41:13,103 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-4] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:41:13,103 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-3] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:41:13,149 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-4] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message to edit not found
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 16:41:13,211 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 16:41:13,214 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 16:41:13,224 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 16:41:17,797 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 13512 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 16:41:17,813 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 16:41:18,349 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 16:41:18,408 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2022-10-12 16:41:18,740 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 16:41:18,740 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 16:41:18,740 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 16:41:18,740 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 16:41:18,827 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 16:41:18,827 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 979 ms
2022-10-12 16:41:18,923 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 16:41:18,986 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 16:41:19,073 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 16:41:19,156 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 16:41:19,452 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 16:41:19,529 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 16:41:19,583 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 16:41:19,599 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 16:41:19,677 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 16:41:19,735 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 16:41:20,139 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 16:41:20,139 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 16:41:20,637 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 16:41:20,853 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 16:41:20,869 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 16:41:20,879 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 16:41:20,879 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 16:41:20,879 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 16:41:20,901 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 16:41:20,977 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 16:41:20,984 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 16:41:20,988 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 16:41:20,996 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 16:41:21,003 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 16:41:21,538 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.073 seconds (JVM running for 4.952)
2022-10-12 16:41:26,482 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 16:41:26,482 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 16:41:26,484 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 2 ms
2022-10-12 16:41:26,597 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 0a4f56b4471c715d55bd77 by user : null
2022-10-12 16:41:26,616 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 16:41:26,639 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: 0a4f56b4471c715d55bd77 with activity : PASSENGER
2022-10-12 16:41:26,639 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :0a4f56b4471c715d55bd77
2022-10-12 16:41:27,900 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 5 and with token: 0a4f56b4471c715d55bd77 by user : null
2022-10-12 16:41:27,905 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 0a4f56b4471c715d55bd77
2022-10-12 16:41:27,927 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 81
2022-10-12 16:41:27,927 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 81
2022-10-12 16:41:28,528 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 6 and with token: 0a4f56b4471c715d55bd77 by user : null
2022-10-12 16:41:28,532 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 0a4f56b4471c715d55bd77
2022-10-12 16:41:28,543 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 81
2022-10-12 16:41:28,543 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 81
2022-10-12 16:41:29,370 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : 0a4f56b4471c715d55bd77 by user :null
2022-10-12 16:41:29,374 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 0a4f56b4471c715d55bd77
2022-10-12 16:41:30,057 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-11-03 with token: 0a4f56b4471c715d55bd77 by user : null
2022-10-12 16:41:30,061 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 0a4f56b4471c715d55bd77
2022-10-12 16:41:30,070 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 81
2022-10-12 16:41:30,070 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 81
2022-10-12 16:41:34,028 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-6] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 0a4f56b4471c715d55bd77 by user : null
2022-10-12 16:41:34,036 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 0a4f56b4471c715d55bd77
2022-10-12 16:41:34,053 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find drivers by first date :2022-11-03 and second date:null with cities:[BREST, GRODNO]
2022-10-12 16:41:43,241 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CheckPassengerCallbackType [http-nio-5000-exec-7] Got callback with type : CHECK_PASSENGER_REQUEST with token : 0a4f56b4471c715d55bd77 by user : null
2022-10-12 16:41:43,246 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 0a4f56b4471c715d55bd77
2022-10-12 16:41:43,259 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 16:42:16,721 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type by user : Myachin97
2022-10-12 16:42:16,733 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group? user : Myachin97
2022-10-12 16:42:16,836 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-12 16:42:16,854 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token with userId :834450967, messageId: 871 and chatId :834450967
2022-10-12 17:30:56,539 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:30:56,544 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 17:30:56,552 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 17:31:33,921 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 24096 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 17:31:33,924 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 17:31:34,432 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 17:31:34,490 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-10-12 17:31:34,834 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 17:31:34,840 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 17:31:34,840 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 17:31:34,840 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 17:31:34,922 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 17:31:34,922 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 961 ms
2022-10-12 17:31:35,032 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 17:31:35,090 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 17:31:35,175 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 17:31:35,254 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 17:31:35,554 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 17:31:35,632 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 17:31:35,700 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 17:31:35,724 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 17:31:35,819 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 17:31:35,898 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 17:31:36,398 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 17:31:36,405 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:31:37,014 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 17:31:37,258 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 17:31:37,274 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 17:31:37,282 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:31:37,282 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:31:37,282 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:31:37,300 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 17:31:37,387 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 17:31:37,392 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:31:37,395 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 17:31:37,402 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 17:31:37,406 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 17:31:37,976 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.419 seconds (JVM running for 5.107)
2022-10-12 17:31:39,706 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 17:31:39,706 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 17:31:39,707 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 17:31:39,829 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :PASSENGER and token : 8d44f0bdbbee8134699b83 by user : Myachin97
2022-10-12 17:31:39,847 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 17:31:39,873 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: 8d44f0bdbbee8134699b83 with activity : PASSENGER
2022-10-12 17:31:39,873 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :8d44f0bdbbee8134699b83
2022-10-12 17:31:40,955 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-2] Callback data with type: PASSENGER_ROUTE and routeId: 3 and with token: 8d44f0bdbbee8134699b83 by user : Myachin97
2022-10-12 17:31:40,960 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 8d44f0bdbbee8134699b83
2022-10-12 17:31:40,989 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 82
2022-10-12 17:31:40,989 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 82
2022-10-12 17:31:42,077 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.PassengerRouteCallbackType [http-nio-5000-exec-3] Callback data with type: PASSENGER_ROUTE and routeId: 4 and with token: 8d44f0bdbbee8134699b83 by user : Myachin97
2022-10-12 17:31:42,081 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 8d44f0bdbbee8134699b83
2022-10-12 17:31:42,095 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 82
2022-10-12 17:31:42,095 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 82
2022-10-12 17:31:43,065 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.ChoseDatePassengerCallbackType [http-nio-5000-exec-4] Callback data with type: CHOSE_DATE_PASSENGER with token : 8d44f0bdbbee8134699b83 by user :Myachin97
2022-10-12 17:31:43,067 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 8d44f0bdbbee8134699b83
2022-10-12 17:31:44,166 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FirstDatePassengerCallbackType [http-nio-5000-exec-5] Got FIRST_DATE_PASSENGER type with first date :2022-10-31 with token: 8d44f0bdbbee8134699b83 by user : Myachin97
2022-10-12 17:31:44,172 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 8d44f0bdbbee8134699b83
2022-10-12 17:31:44,183 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Update request with id : 82
2022-10-12 17:31:44,184 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by id : 82
2022-10-12 17:31:45,045 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.SecondDatePassengerCallbackType [http-nio-5000-exec-6] Got SECOND_DATE_PASSENGER callback type with second date :2022-11-04 and token : 8d44f0bdbbee8134699b83 by user : Myachin97
2022-10-12 17:31:45,051 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 8d44f0bdbbee8134699b83
2022-10-12 17:31:45,066 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Update request with id : 82
2022-10-12 17:31:45,067 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by id : 82
2022-10-12 17:31:45,907 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.FinishDatePassengerCallbackType [http-nio-5000-exec-7] Callback : FINISH_CHOSE_DATE_PASSENGER type with token : 8d44f0bdbbee8134699b83 by user : Myachin97
2022-10-12 17:31:45,913 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 8d44f0bdbbee8134699b83
2022-10-12 17:31:45,927 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-7] Find drivers by first date :2022-10-31 and second date:2022-11-04 with cities:[WROCLAW, GDANSK]
2022-10-12 17:31:54,246 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.passenger.CancelPassengerRequestCallbackType [http-nio-5000-exec-8] Got callback : CANCEL_PASSENGER_REQUEST with token : 8d44f0bdbbee8134699b83 by user : Myachin97
2022-10-12 17:31:54,251 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 8d44f0bdbbee8134699b83
2022-10-12 17:31:54,263 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Delete request with id : 82
2022-10-12 17:31:54,376 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-8] Create new token with userId :834450967, messageId: 871 and chatId :834450967
2022-10-12 17:32:00,567 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:32:00,570 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 17:32:00,579 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 17:34:56,067 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 23604 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 17:34:56,083 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 17:34:56,617 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 17:34:56,683 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2022-10-12 17:34:57,099 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 17:34:57,109 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 17:34:57,109 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 17:34:57,109 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 17:34:57,193 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 17:34:57,193 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1076 ms
2022-10-12 17:34:57,310 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 17:34:57,378 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 17:34:57,459 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 17:34:57,538 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 17:34:57,836 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 17:34:57,904 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 17:34:57,969 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 17:34:57,984 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 17:34:58,068 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 17:34:58,127 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 17:34:58,543 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 17:34:58,559 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:34:59,047 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 17:34:59,260 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 17:34:59,270 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 17:34:59,286 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:34:59,286 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:34:59,286 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:34:59,310 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 17:34:59,389 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 17:34:59,396 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:34:59,399 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 17:34:59,408 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 17:34:59,413 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 17:34:59,972 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.248 seconds (JVM running for 5.0)
2022-10-12 17:35:08,851 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 17:35:08,851 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 17:35:08,852 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 17:35:08,943 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-1] Got ACTIVITY callback type with activity :DRIVER and token : 60495dbfe5e3c3455f4d27 by user : Myachin97
2022-10-12 17:35:08,962 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-1] Find all routes
2022-10-12 17:35:08,985 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Save new request with tokenId: 60495dbfe5e3c3455f4d27 with activity : DRIVER
2022-10-12 17:35:08,985 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :60495dbfe5e3c3455f4d27
2022-10-12 17:35:09,867 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-3] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 60495dbfe5e3c3455f4d27 by user : Myachin97
2022-10-12 17:35:09,872 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by token id : 60495dbfe5e3c3455f4d27
2022-10-12 17:35:09,895 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Update request with id : 83
2022-10-12 17:35:09,896 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-3] Get request by id : 83
2022-10-12 17:35:10,668 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-4] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 60495dbfe5e3c3455f4d27 by user : Myachin97
2022-10-12 17:35:10,672 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by token id : 60495dbfe5e3c3455f4d27
2022-10-12 17:35:10,683 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Update request with id : 83
2022-10-12 17:35:10,684 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Get request by id : 83
2022-10-12 17:35:11,454 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-5] Callback data with type: CHOSE_DATE_DRIVER with token : 60495dbfe5e3c3455f4d27 by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin97, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-12 17:35:11,458 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 60495dbfe5e3c3455f4d27
2022-10-12 17:35:12,574 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-2] Got FIRST_DATE_DRIVER callback type with first date :2022-11-03 with token: 60495dbfe5e3c3455f4d27 by user : Myachin97
2022-10-12 17:35:12,578 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 60495dbfe5e3c3455f4d27
2022-10-12 17:35:12,591 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Update request with id : 83
2022-10-12 17:35:12,592 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by id : 83
2022-10-12 17:35:16,619 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FinishDateDriverCallbackType [http-nio-5000-exec-6] Get callback : FINISH_CHOSE_DATE_DRIVER type with token : 60495dbfe5e3c3455f4d27 by user : Myachin97
2022-10-12 17:35:16,627 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 60495dbfe5e3c3455f4d27
2022-10-12 17:35:16,637 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-6] Find passengers by first date :2022-11-03 and second date:null with cities:[GDANSK, BREST]
2022-10-12 17:35:16,677 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-6] SQL Error: 0, SQLState: 42703
2022-10-12 17:35:16,677 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-6] ERROR: column "is_valid" does not exist
  Position: 80
2022-10-12 17:35:16,689 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-6] could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2022-10-12 17:38:06,770 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:38:06,770 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 17:38:06,781 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 17:38:11,223 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 11324 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 17:38:11,223 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 17:38:11,715 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 17:38:11,767 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2022-10-12 17:38:12,101 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 17:38:12,101 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 17:38:12,101 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 17:38:12,101 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 17:38:12,200 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 17:38:12,200 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 944 ms
2022-10-12 17:38:12,301 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 17:38:12,372 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 17:38:12,456 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 17:38:12,535 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 17:38:12,833 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 17:38:12,914 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 17:38:12,916 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.0.8/2022-10-12-changes-alter-table-telegram_user.xml::2022-10-12-changes-alter-table-telegram_user::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: column "isValid" contains null values [Failed SQL: (0) ALTER TABLE public.telegram_user ADD "isValid" BOOLEAN NOT NULL]
2022-10-12 17:38:12,916 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-12 17:38:12,924 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-12 17:38:12,927 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-12 17:38:12,935 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-12 17:38:12,938 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.0.8/2022-10-12-changes-alter-table-telegram_user.xml::2022-10-12-changes-alter-table-telegram_user::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: column "isValid" contains null values [Failed SQL: (0) ALTER TABLE public.telegram_user ADD "isValid" BOOLEAN NOT NULL]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.godeltech.springgodelbot.SpringGodelBotApplication.main(SpringGodelBotApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.0.8/2022-10-12-changes-alter-table-telegram_user.xml::2022-10-12-changes-alter-table-telegram_user::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: column "isValid" contains null values [Failed SQL: (0) ALTER TABLE public.telegram_user ADD "isValid" BOOLEAN NOT NULL]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/v.0.8/2022-10-12-changes-alter-table-telegram_user.xml::2022-10-12-changes-alter-table-telegram_user::a.miachyn:
     Reason: liquibase.exception.DatabaseException: ERROR: column "isValid" contains null values [Failed SQL: (0) ALTER TABLE public.telegram_user ADD "isValid" BOOLEAN NOT NULL]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: column "isValid" contains null values [Failed SQL: (0) ALTER TABLE public.telegram_user ADD "isValid" BOOLEAN NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "isValid" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2022-10-12 17:39:01,830 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 1760 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 17:39:01,830 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 17:39:02,412 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 17:39:02,479 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60 ms. Found 5 JPA repository interfaces.
2022-10-12 17:39:02,857 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 17:39:02,857 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 17:39:02,857 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 17:39:02,857 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 17:39:02,943 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 17:39:02,943 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1065 ms
2022-10-12 17:39:03,060 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 17:39:03,134 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 17:39:03,218 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 17:39:03,285 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 17:39:03,609 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 17:39:03,695 INFO liquibase.logging.core.JavaLogger [main] Columns isValid(BOOLEAN) added to telegram_user
2022-10-12 17:39:03,700 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/v.0.8/2022-10-12-changes-alter-table-telegram_user.xml::2022-10-12-changes-alter-table-telegram_user::a.miachyn ran successfully in 26ms
2022-10-12 17:39:03,710 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 17:39:03,770 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 17:39:03,797 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 17:39:03,877 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 17:39:03,930 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 17:39:04,378 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 17:39:04,382 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:39:04,883 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 17:39:05,084 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 17:39:05,110 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 17:39:05,110 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:39:05,110 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:39:05,110 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:39:05,134 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 17:39:05,210 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 17:39:05,218 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:39:05,220 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 17:39:05,229 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 17:39:05,233 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 17:39:05,754 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.269 seconds (JVM running for 4.99)
2022-10-12 17:39:21,487 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 17:39:21,487 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 17:39:21,488 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 17:39:21,595 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FinishDateDriverCallbackType [http-nio-5000-exec-1] Get callback : FINISH_CHOSE_DATE_DRIVER type with token : 60495dbfe5e3c3455f4d27 by user : Myachin97
2022-10-12 17:39:21,602 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 60495dbfe5e3c3455f4d27
2022-10-12 17:39:21,640 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find passengers by first date :2022-11-03 and second date:null with cities:[GDANSK, BREST]
2022-10-12 17:39:21,662 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-1] SQL Error: 0, SQLState: 42703
2022-10-12 17:39:21,663 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-5000-exec-1] ERROR: column "is_valid" does not exist
  Hint: Perhaps you meant to reference the column "telegram_user.isValid".
  Position: 80
2022-10-12 17:39:21,673 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2022-10-12 17:41:38,990 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:41:38,990 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 17:41:39,004 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 17:41:42,128 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 21304 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 17:41:42,128 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 17:41:42,643 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 17:41:42,721 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 69 ms. Found 5 JPA repository interfaces.
2022-10-12 17:41:43,044 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 17:41:43,060 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 17:41:43,060 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 17:41:43,060 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 17:41:43,144 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 17:41:43,144 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 981 ms
2022-10-12 17:41:43,260 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 17:41:43,332 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 17:41:43,411 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 17:41:43,482 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 17:41:43,769 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 17:41:43,839 INFO liquibase.logging.core.JavaLogger [main] Columns is_valid(BOOLEAN) added to telegram_user
2022-10-12 17:41:43,855 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/v.0.8/2022-10-12-changes-alter-table-telegram_user.xml::2022-10-12-changes-alter-table-telegram_user::a.miachyn ran successfully in 31ms
2022-10-12 17:41:43,865 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 17:41:43,918 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 17:41:43,946 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 17:41:44,014 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 17:41:44,073 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 17:41:44,479 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 17:41:44,479 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:41:44,977 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 17:41:45,173 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 17:41:45,190 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 17:41:45,206 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:41:45,206 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:41:45,206 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:41:45,228 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 17:41:45,304 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 17:41:45,312 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:41:45,315 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 17:41:45,323 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 17:41:45,329 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 17:41:45,912 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.143 seconds (JVM running for 5.037)
2022-10-12 17:41:51,436 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 17:41:51,436 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 17:41:51,437 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 17:41:51,556 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FinishDateDriverCallbackType [http-nio-5000-exec-1] Get callback : FINISH_CHOSE_DATE_DRIVER type with token : 60495dbfe5e3c3455f4d27 by user : Myachin97
2022-10-12 17:41:51,563 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 60495dbfe5e3c3455f4d27
2022-10-12 17:41:51,613 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find passengers by first date :2022-11-03 and second date:null with cities:[GDANSK, BREST]
2022-10-12 17:41:55,793 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_DRIVER_REQUEST with token : 60495dbfe5e3c3455f4d27 by user : Myachin97
2022-10-12 17:41:55,798 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 60495dbfe5e3c3455f4d27
2022-10-12 17:41:55,810 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Delete request with id : 83
2022-10-12 17:41:55,993 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967, messageId: 872 and chatId :834450967
2022-10-12 17:42:12,855 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type with token : 8c424c84f3afc0599cd3c5 by user : null
2022-10-12 17:42:12,861 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :8c424c84f3afc0599cd3c5
2022-10-12 17:42:12,894 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-12 17:42:12,929 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:42:12,961 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:42:22,877 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-4] Got MAIN_MENU callback type by user : null
2022-10-12 17:42:22,878 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : null
2022-10-12 17:42:22,962 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-12 17:42:22,966 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:42:22,972 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-4] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:42:23,144 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-4] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:23,150 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl.checkUser(UserServiceImpl.java:55)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$3df78670.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$7f71c6ea.checkUser(<generated>)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType.createSendMessage(MainMenuActivityCallbackType.java:49)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:23,238 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-5] Got MAIN_MENU callback type by user : null
2022-10-12 17:42:23,238 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-5] Is he member of group? user : null
2022-10-12 17:42:23,304 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Check existing of user by id: 834450967
2022-10-12 17:42:23,313 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-5] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:42:23,319 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-5] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:42:23,471 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-5] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:23,472 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl.checkUser(UserServiceImpl.java:55)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$3df78670.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$7f71c6ea.checkUser(<generated>)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType.createSendMessage(MainMenuActivityCallbackType.java:49)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:25,523 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-6] Got MAIN_MENU callback type by user : null
2022-10-12 17:42:25,523 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-6] Is he member of group? user : null
2022-10-12 17:42:25,620 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Check existing of user by id: 834450967
2022-10-12 17:42:25,625 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-6] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:42:25,630 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-6] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:42:25,706 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-6] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:25,706 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl.checkUser(UserServiceImpl.java:55)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$3df78670.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$7f71c6ea.checkUser(<generated>)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType.createSendMessage(MainMenuActivityCallbackType.java:49)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:29,768 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-7] Got MAIN_MENU callback type by user : null
2022-10-12 17:42:29,768 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-7] Is he member of group? user : null
2022-10-12 17:42:29,868 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-12 17:42:29,870 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:42:29,873 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-7] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:42:29,949 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-7] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:29,949 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-7] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl.checkUser(UserServiceImpl.java:55)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$3df78670.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$7f71c6ea.checkUser(<generated>)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType.createSendMessage(MainMenuActivityCallbackType.java:49)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:38,009 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-8] Got MAIN_MENU callback type by user : null
2022-10-12 17:42:38,009 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-8] Is he member of group? user : null
2022-10-12 17:42:38,107 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Check existing of user by id: 834450967
2022-10-12 17:42:38,112 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-8] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:42:38,119 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-8] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:42:38,210 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-8] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:38,210 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl.checkUser(UserServiceImpl.java:55)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$3df78670.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$7f71c6ea.checkUser(<generated>)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType.createSendMessage(MainMenuActivityCallbackType.java:49)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:54,278 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-9] Got MAIN_MENU callback type by user : null
2022-10-12 17:42:54,279 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-9] Is he member of group? user : null
2022-10-12 17:42:54,361 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Check existing of user by id: 834450967
2022-10-12 17:42:54,364 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-9] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:42:54,369 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-9] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:42:54,472 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-9] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:42:54,472 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-9] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl.checkUser(UserServiceImpl.java:55)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$3df78670.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$7f71c6ea.checkUser(<generated>)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType.createSendMessage(MainMenuActivityCallbackType.java:49)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:43:26,527 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-10] Got MAIN_MENU callback type by user : null
2022-10-12 17:43:26,527 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-10] Is he member of group? user : null
2022-10-12 17:43:26,767 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-10] Check existing of user by id: 834450967
2022-10-12 17:43:26,773 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-10] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:43:26,776 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-10] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:43:26,898 WARN org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-5000-exec-10] Failure in @ExceptionHandler com.godeltech.springgodelbot.handler.BotHandler#handleUserAuthorizationException(UserAuthorizationException)
org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error editing message text: [400] Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
	at org.telegram.telegrambots.meta.api.methods.updatingmessages.EditMessageText.deserializeResponse(EditMessageText.java:126)
	at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1039)
	at org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)
	at com.godeltech.springgodelbot.handler.BotHandler.handleUserAuthorizationException(BotHandler.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:43:26,898 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null] with root cause
com.godeltech.springgodelbot.exception.UserAuthorizationException: class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl.checkUser(UserServiceImpl.java:55)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$3df78670.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.godeltech.springgodelbot.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$7f71c6ea.checkUser(<generated>)
	at com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType.createSendMessage(MainMenuActivityCallbackType.java:49)
	at com.godeltech.springgodelbot.resolver.callback.CallbackResolver.getSendMessage(CallbackResolver.java:29)
	at com.godeltech.springgodelbot.service.impl.CallbackResolverServiceImpl.handleCallBack(CallbackResolverServiceImpl.java:20)
	at com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot.onWebhookUpdateReceived(TudaSudaTelegramBot.java:71)
	at com.godeltech.springgodelbot.controller.BotController.onUpdateReceived(BotController.java:24)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-10-12 17:44:19,154 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:44:19,158 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 17:44:19,165 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 17:44:24,325 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 8288 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 17:44:24,325 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 17:44:24,826 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 17:44:24,883 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2022-10-12 17:44:25,209 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 17:44:25,213 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 17:44:25,213 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 17:44:25,213 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 17:44:25,286 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 17:44:25,286 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 934 ms
2022-10-12 17:44:25,403 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 17:44:25,468 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 17:44:25,553 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 17:44:25,623 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 17:44:25,940 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 17:44:26,018 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 17:44:26,072 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 17:44:26,103 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 17:44:26,171 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 17:44:26,220 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 17:44:26,626 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 17:44:26,626 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:44:27,127 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 17:44:27,327 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 17:44:27,360 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 17:44:27,360 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:44:27,360 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:44:27,360 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:44:27,384 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 17:44:27,463 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 17:44:27,470 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 17:44:27,471 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:44:27,475 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 17:44:27,484 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 17:44:27,512 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 17:44:27,512 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 17:44:27,512 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 0 ms
2022-10-12 17:44:27,657 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-1] Got MAIN_MENU callback type by user : null
2022-10-12 17:44:27,672 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : null
2022-10-12 17:44:27,933 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 17:44:27,952 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:44:27,952 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.005 seconds (JVM running for 4.898)
2022-10-12 17:44:27,992 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:44:30,830 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-2] Got MAIN_MENU callback type by user : null
2022-10-12 17:44:30,832 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : null
2022-10-12 17:44:30,922 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-12 17:44:30,927 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:44:30,931 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-2] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:44:32,479 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type by user : null
2022-10-12 17:44:32,479 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : null
2022-10-12 17:44:32,549 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-12 17:44:32,554 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:44:32,558 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-3] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:44:51,004 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-4] Got MAIN_MENU callback type by user : Myachin97
2022-10-12 17:44:51,005 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-4] Is he member of group? user : Myachin97
2022-10-12 17:44:51,088 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-4] Check existing of user by id: 834450967
2022-10-12 17:44:51,094 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-4] Create new token with userId :834450967, messageId: 876 and chatId :834450967
2022-10-12 17:47:56,575 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:47:56,575 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 17:47:56,583 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 17:47:59,871 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 15832 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 17:47:59,871 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 17:48:00,479 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 17:48:00,577 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 89 ms. Found 5 JPA repository interfaces.
2022-10-12 17:48:00,955 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 17:48:00,970 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 17:48:00,970 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 17:48:00,970 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 17:48:01,054 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 17:48:01,054 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1156 ms
2022-10-12 17:48:01,171 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 17:48:01,247 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 17:48:01,335 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 17:48:01,417 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 17:48:01,735 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 17:48:01,815 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 17:48:01,872 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 17:48:01,898 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 17:48:01,985 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 17:48:02,040 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 17:48:02,597 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 17:48:02,603 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:48:03,154 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 17:48:03,382 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 17:48:03,399 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 17:48:03,406 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:48:03,406 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:48:03,407 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:48:03,424 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 17:48:03,509 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 17:48:03,514 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:48:03,517 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 17:48:03,525 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 17:48:03,531 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 17:48:04,110 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.591 seconds (JVM running for 5.519)
2022-10-12 17:48:13,578 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 17:48:13,578 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 17:48:13,580 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 17:48:13,805 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-1] Got OFFERS_ACTIVITY callback type with token : 044c969a4a9b9e5603c098 by user : null
2022-10-12 17:48:13,814 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-1] Income message with token :044c969a4a9b9e5603c098
2022-10-12 17:48:13,925 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Check existing of user by id: 834450967
2022-10-12 17:48:13,949 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-1] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:48:13,981 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-1] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:48:16,629 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-2] Got MAIN_MENU callback type by user : null
2022-10-12 17:48:16,648 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-2] Is he member of group? user : null
2022-10-12 17:48:16,761 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check existing of user by id: 834450967
2022-10-12 17:48:16,769 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=null, isValid=false)
2022-10-12 17:48:16,772 ERROR com.godeltech.springgodelbot.handler.BotHandler [http-nio-5000-exec-2] class org.telegram.telegrambots.meta.api.objects.User wasn't authorize cause username=null
2022-10-12 17:48:40,234 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.MainMenuActivityCallbackType [http-nio-5000-exec-3] Got MAIN_MENU callback type by user : Myachin1234
2022-10-12 17:48:40,235 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-3] Is he member of group? user : Myachin1234
2022-10-12 17:48:40,327 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check existing of user by id: 834450967
2022-10-12 17:48:40,334 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Create new token with userId :834450967, messageId: 878 and chatId :834450967
2022-10-12 17:57:31,306 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-5] Got ACTIVITY callback type with activity :DRIVER and token : 5849aeac7c99664a56fadc by user : Myachin1234
2022-10-12 17:57:31,339 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-5] Find all routes
2022-10-12 17:57:31,366 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Save new request with tokenId: 5849aeac7c99664a56fadc with activity : DRIVER
2022-10-12 17:57:31,369 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Income message with token :5849aeac7c99664a56fadc
2022-10-12 17:57:36,525 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-6] Got callback : CANCEL_DRIVER_REQUEST with token : 5849aeac7c99664a56fadc by user : Myachin1234
2022-10-12 17:57:36,530 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Get request by token id : 5849aeac7c99664a56fadc
2022-10-12 17:57:36,555 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Delete request with id : 84
2022-10-12 17:57:36,827 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Create new token with userId :834450967, messageId: 878 and chatId :834450967
2022-10-12 17:57:41,735 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-7] Got OFFERS_ACTIVITY callback type with token : be45cebecef31f316a0a79 by user : Myachin1234
2022-10-12 17:57:41,737 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-7] Income message with token :be45cebecef31f316a0a79
2022-10-12 17:57:41,764 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-7] Check existing of user by id: 834450967
2022-10-12 17:58:46,838 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:58:46,838 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 17:58:46,850 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 17:58:52,304 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 9624 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 17:58:52,304 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 17:58:52,879 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 17:58:52,964 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 78 ms. Found 5 JPA repository interfaces.
2022-10-12 17:58:53,429 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 17:58:53,434 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 17:58:53,434 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 17:58:53,434 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 17:58:53,534 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 17:58:53,534 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1203 ms
2022-10-12 17:58:53,698 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 17:58:53,760 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 17:58:53,847 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 17:58:53,939 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 17:58:54,301 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 17:58:54,391 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 17:58:54,459 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 17:58:54,507 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 17:58:54,599 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 17:58:54,686 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 17:58:55,213 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 17:58:55,221 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:58:55,972 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 17:58:56,303 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 17:58:56,337 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 17:58:56,346 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:58:56,338 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:58:56,346 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 17:58:56,366 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 17:58:56,450 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 17:58:56,454 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 17:58:56,458 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 17:58:56,464 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 17:58:56,470 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 17:58:57,046 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 5.147 seconds (JVM running for 5.943)
2022-10-12 17:58:57,328 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 17:58:57,328 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 17:58:57,329 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 17:58:57,470 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-1] Callback with type :MY_OFFERS and activity : PASSENGER and token: be45cebecef31f316a0a79
2022-10-12 17:58:57,487 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Check request by tokenId :be45cebecef31f316a0a79
2022-10-12 17:58:57,554 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 17:58:59,006 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-2] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : be45cebecef31f316a0a79 by user : Myachin1234
2022-10-12 17:58:59,010 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : be45cebecef31f316a0a79
2022-10-12 17:58:59,024 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Delete request with id : 85
2022-10-12 17:58:59,237 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967, messageId: 879 and chatId :834450967
2022-10-12 17:59:05,859 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type with token : 1e4b63a6b993dad5a2cd26 by user : Myachin1234
2022-10-12 17:59:05,865 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :1e4b63a6b993dad5a2cd26
2022-10-12 17:59:05,899 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check and save user with id: 834450967 username : Myachin1234
2022-10-12 17:59:09,488 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin1234, isValid=true)
2022-10-12 17:59:15,259 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.MyOffersCallbackType [http-nio-5000-exec-4] Callback with type :MY_OFFERS and activity : PASSENGER and token: 1e4b63a6b993dad5a2cd26
2022-10-12 17:59:15,263 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-4] Check request by tokenId :1e4b63a6b993dad5a2cd26
2022-10-12 17:59:15,290 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-4] Find offers by id:834450967 and activity :PASSENGER
2022-10-12 17:59:16,265 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.CancelChangeOfferRequest [http-nio-5000-exec-5] Got callback : CANCEL_CHANGE_OFFER_REQUEST with token : 1e4b63a6b993dad5a2cd26 by user : Myachin1234
2022-10-12 17:59:16,271 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Get request by token id : 1e4b63a6b993dad5a2cd26
2022-10-12 17:59:16,281 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-5] Delete request with id : 86
2022-10-12 17:59:16,403 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-5] Create new token with userId :834450967, messageId: 880 and chatId :834450967
2022-10-12 17:59:17,622 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.ActivityCallbackType [http-nio-5000-exec-6] Got ACTIVITY callback type with activity :DRIVER and token : 3046c2960ed037dcc201e6 by user : Myachin1234
2022-10-12 17:59:17,651 INFO com.godeltech.springgodelbot.service.impl.CityServiceImpl [http-nio-5000-exec-6] Find all routes
2022-10-12 17:59:17,662 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-6] Save new request with tokenId: 3046c2960ed037dcc201e6 with activity : DRIVER
2022-10-12 17:59:17,662 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-6] Income message with token :3046c2960ed037dcc201e6
2022-10-12 17:59:18,385 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-7] Callback data with type: DRIVER_ROUTE and routeId: 4 and token: 3046c2960ed037dcc201e6 by user : Myachin1234
2022-10-12 17:59:18,392 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by token id : 3046c2960ed037dcc201e6
2022-10-12 17:59:18,409 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Update request with id : 87
2022-10-12 17:59:18,409 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-7] Get request by id : 87
2022-10-12 17:59:18,971 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.DriverRouteCallbackType [http-nio-5000-exec-8] Callback data with type: DRIVER_ROUTE and routeId: 5 and token: 3046c2960ed037dcc201e6 by user : Myachin1234
2022-10-12 17:59:18,976 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by token id : 3046c2960ed037dcc201e6
2022-10-12 17:59:18,986 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Update request with id : 87
2022-10-12 17:59:18,987 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-8] Get request by id : 87
2022-10-12 17:59:22,891 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.ChoseDateDriverCallbackType [http-nio-5000-exec-9] Callback data with type: CHOSE_DATE_DRIVER with token : 3046c2960ed037dcc201e6 by user :User(id=834450967, firstName=Артем, isBot=false, lastName=Мячин, userName=Myachin1234, languageCode=en, canJoinGroups=null, canReadAllGroupMessages=null, supportInlineQueries=null)
2022-10-12 17:59:22,899 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-9] Get request by token id : 3046c2960ed037dcc201e6
2022-10-12 17:59:23,987 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FirstDateDriverCallbackType [http-nio-5000-exec-10] Got FIRST_DATE_DRIVER callback type with first date :2022-11-07 with token: 3046c2960ed037dcc201e6 by user : Myachin1234
2022-10-12 17:59:23,991 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by token id : 3046c2960ed037dcc201e6
2022-10-12 17:59:24,004 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Update request with id : 87
2022-10-12 17:59:24,005 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-10] Get request by id : 87
2022-10-12 17:59:25,164 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.FinishDateDriverCallbackType [http-nio-5000-exec-1] Get callback : FINISH_CHOSE_DATE_DRIVER type with token : 3046c2960ed037dcc201e6 by user : Myachin1234
2022-10-12 17:59:25,169 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Get request by token id : 3046c2960ed037dcc201e6
2022-10-12 17:59:25,181 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find passengers by first date :2022-11-07 and second date:null with cities:[GDANSK, BREST]
2022-10-12 17:59:33,336 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CheckDriverCallbackType [http-nio-5000-exec-2] Got callback type :CHECK_DRIVER_REQUEST with token :3046c2960ed037dcc201e6 by user : Myachin1234
2022-10-12 17:59:33,340 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 3046c2960ed037dcc201e6
2022-10-12 17:59:33,353 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Check and save user with id: 834450967 username : Myachin1234
2022-10-12 17:59:38,121 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-2] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin1234, isValid=true)
2022-10-12 17:59:38,127 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Prepare request with id :87 and user id : 834450967 for save with description
2022-10-12 17:59:38,360 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 17:59:38,362 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 17:59:38,370 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-10-12 18:00:07,103 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpringGodelBotApplication using Java 11.0.12 on INV-2021-L with PID 24256 (C:\Users\a.miachyn\IdeaProjects\SpringGodelBot\target\classes started by a.miachyn in C:\Users\a.miachyn\IdeaProjects\SpringGodelBot)
2022-10-12 18:00:07,103 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-12 18:00:07,617 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-12 18:00:07,672 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2022-10-12 18:00:07,999 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 5000 (http)
2022-10-12 18:00:07,999 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-5000"]
2022-10-12 18:00:08,015 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-12 18:00:08,015 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-10-12 18:00:08,095 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-12 18:00:08,095 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 956 ms
2022-10-12 18:00:08,199 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-12 18:00:08,266 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-12 18:00:08,356 INFO liquibase.logging.core.JavaLogger [main] Set default schema name to public
2022-10-12 18:00:08,430 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2022-10-12 18:00:08,744 INFO liquibase.logging.core.JavaLogger [main] Reading from public.databasechangelog
2022-10-12 18:00:08,822 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2022-10-12 18:00:08,881 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-12 18:00:08,907 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2022-10-12 18:00:08,990 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-12 18:00:09,048 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-10-12 18:00:09,473 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-12 18:00:09,473 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 18:00:10,003 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-12 18:00:10,203 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-5000"]
2022-10-12 18:00:10,218 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 5000 (http) with context path ''
2022-10-12 18:00:10,234 INFO com.godeltech.springgodelbot.config.BotInitializer [main] Set web hook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 18:00:10,234 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 18:00:10,234 INFO com.godeltech.springgodelbot.service.impl.RestServiceImpl [main] Set webhook with path :https://b055-82-209-241-194.eu.ngrok.io
2022-10-12 18:00:10,252 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose second date is earlier than : 2022-10-12
2022-10-12 18:00:10,329 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [scheduling-1] Delete offers whose first date is earlier than :2022-10-12 and second date is null
2022-10-12 18:00:10,336 INFO com.godeltech.springgodelbot.scheduler.impl.ScheduleServiceImpl [scheduling-1] Deleting expired offers
2022-10-12 18:00:10,338 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete non usable expired tokens
2022-10-12 18:00:10,347 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Remove expired token
2022-10-12 18:00:10,353 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [scheduling-1] Delete tokens : []
2022-10-12 18:00:11,018 INFO org.springframework.boot.StartupInfoLogger [main] Started SpringGodelBotApplication in 4.256 seconds (JVM running for 5.171)
2022-10-12 18:00:16,462 INFO org.apache.juli.logging.DirectJDKLog [http-nio-5000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-12 18:00:16,463 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-12 18:00:16,464 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-5000-exec-1] Completed initialization in 1 ms
2022-10-12 18:00:16,559 INFO com.godeltech.springgodelbot.service.impl.TudaSudaTelegramBot [http-nio-5000-exec-1] Is he member of group? user : Myachin97
2022-10-12 18:00:16,705 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-1] Find request for saving with user id : 834450967
2022-10-12 18:00:16,742 INFO com.godeltech.springgodelbot.resolver.message.type.impl.OnlyTextMessageType [http-nio-5000-exec-1] Got message for saving description of driver with token :3046c2960ed037dcc201e6 
2022-10-12 18:00:16,908 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Save supplier by: Request(id=87, offerId=null, cities=[GDANSK, BREST], firstDate=2022-11-07, secondDate=null, needForDescription=true, token=com.godeltech.springgodelbot.model.entity.Token@247baddf, activity=DRIVER, description=Yapyapyap)
2022-10-12 18:00:17,032 INFO com.godeltech.springgodelbot.service.impl.OfferServiceImpl [http-nio-5000-exec-1] Find passengers by first date :2022-11-07 and second date:null with cities:[GDANSK, BREST]
2022-10-12 18:00:23,037 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.driver.CancelDriverRequestCallbackType [http-nio-5000-exec-2] Got callback : CANCEL_DRIVER_REQUEST with token : 3046c2960ed037dcc201e6 by user : Myachin97
2022-10-12 18:00:23,042 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Get request by token id : 3046c2960ed037dcc201e6
2022-10-12 18:00:23,060 INFO com.godeltech.springgodelbot.service.impl.RequestServiceImpl [http-nio-5000-exec-2] Delete request with id : 87
2022-10-12 18:00:23,306 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-2] Create new token with userId :834450967, messageId: 883 and chatId :834450967
2022-10-12 18:00:24,456 INFO com.godeltech.springgodelbot.resolver.callback.type.impl.offer.OffersActivityCallbackType [http-nio-5000-exec-3] Got OFFERS_ACTIVITY callback type with token : 8b4715911779cd2f3da5da by user : Myachin97
2022-10-12 18:00:24,461 INFO com.godeltech.springgodelbot.service.impl.TokenServiceImpl [http-nio-5000-exec-3] Income message with token :8b4715911779cd2f3da5da
2022-10-12 18:00:24,491 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Check and save user with id: 834450967 username : Myachin97
2022-10-12 18:00:24,492 INFO com.godeltech.springgodelbot.service.impl.UserServiceImpl [http-nio-5000-exec-3] Save a new user: UserEntity(id=834450967, firstName=Артем, lastName=Мячин, userName=Myachin97, isValid=true)
2022-10-12 18:27:49,744 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-12 18:27:49,749 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-10-12 18:27:49,754 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
